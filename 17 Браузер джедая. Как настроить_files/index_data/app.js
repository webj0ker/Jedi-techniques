/*! For license information please see app.js.LICENSE */
!function(e){function webpackJsonpCallback(t){for(var r,o,a=t[0],c=t[1],u=0,l=[];u<a.length;u++)o=a[u],n[o]&&l.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(i&&i(t);l.length;)l.shift()()}var t={},n={4:0};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.e=function requireEnsure(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise(function(t,o){r=n[e]=[t,o]});t.push(r[2]=o);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.src=function jsonpScriptSrc(e){return __webpack_require__.p+""+({0:"pages/auth~smscheck/container~user/edit/user-edit-container",1:"vendors~firebase/app~firebase/messaging",5:"ChatMenu/container",6:"MenuComment/container",7:"award/less",8:"award/pages",9:"award/reducer",10:"croppie/app",11:"croppie/css",12:"firebase/app",13:"message/container",14:"message/reducer",15:"pages/auth",16:"pages/menu",17:"smscheck/container",18:"smscheck/reducer",19:"tourney/container",20:"tourney/less",21:"tourney/reducer",22:"trialpopup/less",23:"trialpopup/load",24:"user/edit/user-edit-container",25:"user/editava/container",26:"vendors~firebase/messaging",27:"vendors~jquery/app",28:"vendors~jquery/signalr"}[e]||e)+"_"+{0:"9397bcfa24c465114eb8",1:"2a49a00fd18b89481d8f",5:"f0470615b0e9d8969c40",6:"ee9721688f36e258bc6e",7:"855270c2f9ad22eb2f61",8:"7eee4de1097fc879702e",9:"e5586f13e3d88918cabc",10:"79b6f11ae484b3ed62df",11:"4c3d7b92fed383fb7ca0",12:"bfcb315cf3690717093a",13:"82ea330bf00954ba2210",14:"b2d849c4db63c46e14fe",15:"0ffc5c1b98a5f7144c1f",16:"05ced29f2d0cce52d265",17:"07d4a9d095c6459b085d",18:"5da666b0b54978fe8981",19:"e5567a66a0fb1390ab4c",20:"2b94d601db33be8d80d2",21:"37f99e57cc0ef142b1cb",22:"1880f3fdb4d133a17357",23:"47b6a990fa965db96bd4",24:"f722c4344f5a5af5332d",25:"32007c6afefc9623fd13",26:"144d942ccbee8356eeb3",27:"36bf697de1d39f37c4f4",28:"5a4a1d0f3c0432f74102"}[e]+".js"}(e),a=function(t){i.onerror=i.onload=null,clearTimeout(c);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,u=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");u.type=o,u.request=a,r[1](u)}n[e]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:i})},12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(t)},__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="js/",__webpack_require__.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],o=r.push.bind(r);r.push=webpackJsonpCallback,r=r.slice();for(var a=0;a<r.length;a++)webpackJsonpCallback(r[a]);var i=o;__webpack_require__(__webpack_require__.s=210)}([function(e,t,n){"use strict";e.exports=n(167)},function(e,t,n){e.exports=n(171)()},function(e,t,n){"use strict";n.d(t,"hb",function(){return r}),n.d(t,"jb",function(){return o}),n.d(t,"ib",function(){return a}),n.d(t,"G",function(){return i}),n.d(t,"w",function(){return c}),n.d(t,"E",function(){return u}),n.d(t,"r",function(){return l}),n.d(t,"B",function(){return s}),n.d(t,"J",function(){return f}),n.d(t,"I",function(){return p}),n.d(t,"y",function(){return d}),n.d(t,"z",function(){return h}),n.d(t,"A",function(){return m}),n.d(t,"x",function(){return _}),n.d(t,"n",function(){return y}),n.d(t,"o",function(){return b}),n.d(t,"s",function(){return v}),n.d(t,"M",function(){return g}),n.d(t,"L",function(){return w}),n.d(t,"K",function(){return E}),n.d(t,"H",function(){return S}),n.d(t,"N",function(){return O}),n.d(t,"u",function(){return C}),n.d(t,"C",function(){return k}),n.d(t,"v",function(){return j}),n.d(t,"t",function(){return T}),n.d(t,"q",function(){return P}),n.d(t,"p",function(){return x}),n.d(t,"F",function(){return I}),n.d(t,"D",function(){return M}),n.d(t,"fb",function(){return A}),n.d(t,"gb",function(){return N}),n.d(t,"g",function(){return R}),n.d(t,"j",function(){return L}),n.d(t,"m",function(){return D}),n.d(t,"k",function(){return F}),n.d(t,"a",function(){return V}),n.d(t,"l",function(){return U}),n.d(t,"c",function(){return B}),n.d(t,"b",function(){return z}),n.d(t,"d",function(){return q}),n.d(t,"h",function(){return H}),n.d(t,"f",function(){return W}),n.d(t,"e",function(){return G}),n.d(t,"i",function(){return K}),n.d(t,"S",function(){return $}),n.d(t,"P",function(){return J}),n.d(t,"O",function(){return Q}),n.d(t,"eb",function(){return Y}),n.d(t,"T",function(){return X}),n.d(t,"R",function(){return Z}),n.d(t,"Q",function(){return ee}),n.d(t,"bb",function(){return te}),n.d(t,"db",function(){return ne}),n.d(t,"cb",function(){return re}),n.d(t,"U",function(){return oe}),n.d(t,"Z",function(){return ae}),n.d(t,"V",function(){return ie}),n.d(t,"Y",function(){return ce}),n.d(t,"ab",function(){return ue}),n.d(t,"X",function(){return le}),n.d(t,"W",function(){return se}),n.d(t,"kb",function(){return fe}),n.d(t,"lb",function(){return pe}),n.d(t,"rb",function(){return de}),n.d(t,"qb",function(){return he}),n.d(t,"ob",function(){return me}),n.d(t,"pb",function(){return _e}),n.d(t,"sb",function(){return ye}),n.d(t,"mb",function(){return be}),n.d(t,"nb",function(){return ve});var r="MAIN_DATA_CLEAR",o="MAIN_DATA_SUCCESS",a="MAIN_DATA_RESET",i="DEFAULT_UUID",c="DEFAULT_PROFILE_UPDATE",u="DEFAULT_TOKEN_UPDATE",l="DEFAULT_EXIT",s="DEFAULT_SOCKET_CONNECT",f="DEFAULT_VIDJET_UPDATE",p="DEFAULT_VIDJET_OPEN",d="DEFAULT_SITE_INIT",h="DEFAULT_SITE_LANG",m="DEFAULT_SITE_SETTINGS",_="DEFAULT_SITE_DOMAIN_BANNER",y="DEFAULT_ALERT_CREATE",b="DEFAULT_ALERT_REMOVE",v="DEFAULT_FOCUS",g="DEFAULT_WIDGET_FOCUS",w="DEFAULT_VIEW_BEGIN",E="DEFAULT_VIDJET_WIDTH",S="DEFAULT_VIDJET_HEIGHT",O="DEFAULT_WINDOW_SIZE",C="DEFAULT_LOCALE",k="DEFAULT_SSO",j="DEFAULT_LOCALSTORY",T="DEFAULT_GLOBAL_SCROLL",P="DEFAULT_COMMENT_SHOW_SORT",x="DEFAULT_COMMENT_SHOW_FORMAT",I="DEFAULT_TRIALPOPUP_CLOSE",M="DEFAULT_STATS_UPDATE",A="FORM_ERROR_VIEW",N="FORM_FEILD_VIEW",R="CHAT_COMMENT_FOCUS",L="CHAT_COMMENT_SCROLL",D="CHAT_VIDEO_PLAY",F="CHAT_DEFAULT_TITLE",V="CHATPAGE_HEAD_INIT",U="CHAT_FIXED_COMMENT",B="CHAT_COMMENTS_CLEAR",z="CHAT_COMMENTS_BEGIN",q="CHAT_COMMENTS_SUCCESS",H="CHAT_COMMENT_LAST_CREATE",W="CHAT_COMMENT_EDIT_PROPS",G="CHAT_COMMENT_CREATE",K="CHAT_COMMENT_REMOVE",$="EDITOR_CHATPAGE_EDIT",J="EDITOR_ANSWER_CREATE",Q="EDITOR_ANSWER_CHANGE",Y="EDITOR_TEXT_EDIT",X="EDITOR_CLEAR",Z="EDITOR_ATTACHE_DELETE",ee="EDITOR_ATTACHE_CREATE",te="EDITOR_FOCUSED",ne="EDITOR_MENTION_INDEX",re="EDITOR_MENTION_DATA",oe="EDITOR_COMMENT_EDIT_ID",ae="EDITOR_FILES_SELECT",ie="EDITOR_FILES_CANSEL",ce="EDITOR_FILES_PROGRESS",ue="EDITOR_FILES_SUCCESS",le="EDITOR_FILES_ERROR",se="EDITOR_FILES_CLEAR",fe="RAITING_CLEAR",pe="RAITING_UPDATE",de="USER_PUSH_UPDATE",he="USER_PUSH_TOKEN",me="USER_PUSH_ACTIVE",_e="USER_PUSH_CLOSE",ye="USER_PUSH_VIEW",be="ROUTE_CHANGE_PATH",ve="ROUTE_SCROLL_SAVE"},function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"o",function(){return a}),n.d(t,"j",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return s}),n.d(t,"i",function(){return f}),n.d(t,"n",function(){return p}),n.d(t,"m",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"l",function(){return _}),n.d(t,"k",function(){return y});var r="load",o="fail",a="success",i="page",c="first",u="last",l="focus",s="comment",f="message",p=0,d=1,h=0,m=1,_="t",y="b"},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(114),i=n.n(a),c=o.a.createContext(null);var u=function defaultNoopBatch(e){e()},l=function getBatch(){return u},s=null,f={notify:function notify(){}};var p=function(){function Subscription(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=f,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=Subscription.prototype;return e.addNestedSub=function addNestedSub(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.notifyNestedSubs=function notifyNestedSubs(){this.listeners.notify()},e.handleChangeWrapper=function handleChangeWrapper(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function isSubscribed(){return Boolean(this.unsubscribe)},e.trySubscribe=function trySubscribe(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function createListenerCollection(){var e=l(),t=[],n=[];return{clear:function clear(){n=s,t=s},notify:function notify(){var r=t=n;e(function(){for(var e=0;e<r.length;e++)r[e]()})},get:function get(){return n},subscribe:function subscribe(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function unsubscribe(){r&&t!==s&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}())},e.tryUnsubscribe=function tryUnsubscribe(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=f)},Subscription}();function Provider(e){var t=e.store,n=e.context,a=e.children,i=Object(r.useMemo)(function(){var e=new p(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}},[t]),u=Object(r.useMemo)(function(){return t.getState()},[t]);Object(r.useEffect)(function(){var e=i.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[i,u]);var l=n||c;return o.a.createElement(l.Provider,{value:i},a)}Provider.propTypes={store:i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired}),context:i.a.object,children:i.a.any};var d=Provider,h=n(31),m=n(46),_=n(176),y=n.n(_),b=n(90),v=n.n(b),g=n(194),w=[],E=[null,null];function storeStateUpdatesReducer(e,t){var n=e[1];return[t.payload,n+1]}var S=function initStateUpdates(){return[null,0]},O="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function connectAdvanced(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,i=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,s=n.renderCountProp,f=void 0===s?void 0:s,d=n.shouldHandleStateChanges,_=void 0===d||d,b=n.storeKey,C=void 0===b?"store":b,k=n.withRef,j=void 0!==k&&k,T=n.forwardRef,P=void 0!==T&&T,x=n.context,I=void 0===x?c:x,M=Object(m.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);v()(void 0===f,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),v()(!j,"withRef is removed. To access the wrapped instance, use a ref on the connected component");v()("store"===C,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var A=I;return function wrapWithConnect(t){var n=t.displayName||t.name||"Component",a=i(n),c=Object(h.a)({},M,{getDisplayName:i,methodName:l,renderCountProp:f,shouldHandleStateChanges:_,storeKey:C,displayName:a,wrappedComponentName:n,WrappedComponent:t}),u=M.pure;var s=u?r.useMemo:function(e){return e()};function ConnectFunction(n){var i=Object(r.useMemo)(function(){var e=n.forwardedRef,t=Object(m.a)(n,["forwardedRef"]);return[n.context,e,t]},[n]),u=i[0],l=i[1],f=i[2],d=Object(r.useMemo)(function(){return u&&u.Consumer&&Object(g.isContextConsumer)(o.a.createElement(u.Consumer,null))?u:A},[u,A]),y=Object(r.useContext)(d),b=Boolean(n.store),C=Boolean(y)&&Boolean(y.store);v()(b||C,'Could not find "store" in the context of "'+a+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+a+" in connect options.");var k=n.store||y.store,j=Object(r.useMemo)(function(){return function createChildSelector(t){return e(t.dispatch,c)}(k)},[k]),T=Object(r.useMemo)(function(){if(!_)return E;var e=new p(k,b?null:y.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[k,b,y]),P=T[0],x=T[1],I=Object(r.useMemo)(function(){return b?y:Object(h.a)({},y,{subscription:P})},[b,y,P]),M=Object(r.useReducer)(storeStateUpdatesReducer,w,S),N=M[0][0],R=M[1];if(N&&N.error)throw N.error;var L=Object(r.useRef)(),D=Object(r.useRef)(f),F=Object(r.useRef)(),V=Object(r.useRef)(!1),U=s(function(){return F.current&&f===D.current?F.current:j(k.getState(),f)},[k,N,f]);O(function(){D.current=f,L.current=U,V.current=!1,F.current&&(F.current=null,x())}),O(function(){if(_){var e=!1,t=null,n=function checkForUpdates(){if(!e){var n,r,o=k.getState();try{n=j(o,D.current)}catch(e){r=e,t=e}r||(t=null),n===L.current?V.current||x():(L.current=n,F.current=n,V.current=!0,R({type:"STORE_UPDATED",payload:{latestStoreState:o,error:r}}))}};P.onStateChange=n,P.trySubscribe(),n();return function unsubscribeWrapper(){if(e=!0,P.tryUnsubscribe(),P.onStateChange=null,t)throw t}}},[k,P,j]);var B=Object(r.useMemo)(function(){return o.a.createElement(t,Object(h.a)({},U,{ref:l}))},[l,t,U]);return Object(r.useMemo)(function(){return _?o.a.createElement(d.Provider,{value:I},B):B},[d,B,I])}var d=u?o.a.memo(ConnectFunction):ConnectFunction;if(d.WrappedComponent=t,d.displayName=a,P){var b=o.a.forwardRef(function forwardConnectRef(e,t){return o.a.createElement(d,Object(h.a)({},e,{forwardedRef:t}))});return b.displayName=a,b.WrappedComponent=t,y()(b,t)}return y()(d,t)}}var C=Object.prototype.hasOwnProperty;function is(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function shallowEqual(e,t){if(is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!C.call(t,n[o])||!is(e[n[o]],t[n[o]]))return!1;return!0}var k=n(100);function wrapMapToPropsConstant(e){return function initConstantSelector(t,n){var r=e(t,n);function constantSelector(){return r}return constantSelector.dependsOnOwnProps=!1,constantSelector}}function getDependsOnOwnProps(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function wrapMapToPropsFunc(e,t){return function initProxySelector(t,n){n.displayName;var r=function mapToPropsProxy(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function detectFactoryAndVerify(t,n){r.mapToProps=e,r.dependsOnOwnProps=getDependsOnOwnProps(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=getDependsOnOwnProps(o),o=r(t,n)),o},r}}var j=[function whenMapDispatchToPropsIsFunction(e){return"function"==typeof e?wrapMapToPropsFunc(e):void 0},function whenMapDispatchToPropsIsMissing(e){return e?void 0:wrapMapToPropsConstant(function(e){return{dispatch:e}})},function whenMapDispatchToPropsIsObject(e){return e&&"object"==typeof e?wrapMapToPropsConstant(function(t){return Object(k.b)(e,t)}):void 0}];var T=[function whenMapStateToPropsIsFunction(e){return"function"==typeof e?wrapMapToPropsFunc(e):void 0},function whenMapStateToPropsIsMissing(e){return e?void 0:wrapMapToPropsConstant(function(){return{}})}];function defaultMergeProps(e,t,n){return Object(h.a)({},n,{},e,{},t)}var P=[function whenMergePropsIsFunction(e){return"function"==typeof e?function wrapMergePropsFunc(e){return function initMergePropsProxy(t,n){n.displayName;var r,o=n.pure,a=n.areMergedPropsEqual,i=!1;return function mergePropsProxy(t,n,c){var u=e(t,n,c);return i?o&&a(u,r)||(r=u):(i=!0,r=u),r}}}(e):void 0},function whenMergePropsIsOmitted(e){return e?void 0:function(){return defaultMergeProps}}];function impureFinalPropsSelectorFactory(e,t,n,r){return function impureFinalPropsSelector(o,a){return n(e(o,a),t(r,a),a)}}function pureFinalPropsSelectorFactory(e,t,n,r,o){var a,i,c,u,l,s=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,d=!1;function handleSubsequentCalls(o,d){var h=!f(d,i),m=!s(o,a);return a=o,i=d,h&&m?function handleNewPropsAndNewState(){return c=e(a,i),t.dependsOnOwnProps&&(u=t(r,i)),l=n(c,u,i)}():h?function handleNewProps(){return e.dependsOnOwnProps&&(c=e(a,i)),t.dependsOnOwnProps&&(u=t(r,i)),l=n(c,u,i)}():m?function handleNewState(){var t=e(a,i),r=!p(t,c);return c=t,r&&(l=n(c,u,i)),l}():l}return function pureFinalPropsSelector(o,s){return d?handleSubsequentCalls(o,s):function handleFirstCall(o,s){return c=e(a=o,i=s),u=t(r,i),l=n(c,u,i),d=!0,l}(o,s)}}function finalPropsSelectorFactory(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,a=Object(m.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=n(e,a),c=r(e,a),u=o(e,a);return(a.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory)(i,c,u,e,a)}function match(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function strictEqual(e,t){return e===t}var x=function createConnect(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?connectAdvanced:n,o=t.mapStateToPropsFactories,a=void 0===o?T:o,i=t.mapDispatchToPropsFactories,c=void 0===i?j:i,u=t.mergePropsFactories,l=void 0===u?P:u,s=t.selectorFactory,f=void 0===s?finalPropsSelectorFactory:s;return function connect(e,t,n,o){void 0===o&&(o={});var i=o,u=i.pure,s=void 0===u||u,p=i.areStatesEqual,d=void 0===p?strictEqual:p,_=i.areOwnPropsEqual,y=void 0===_?shallowEqual:_,b=i.areStatePropsEqual,v=void 0===b?shallowEqual:b,g=i.areMergedPropsEqual,w=void 0===g?shallowEqual:g,E=Object(m.a)(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=match(e,a,"mapStateToProps"),O=match(t,c,"mapDispatchToProps"),C=match(n,l,"mergeProps");return r(f,Object(h.a)({methodName:"connect",getDisplayName:function getDisplayName(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:O,initMergeProps:C,pure:s,areStatesEqual:d,areOwnPropsEqual:y,areStatePropsEqual:v,areMergedPropsEqual:w},E))}}();function useReduxContext_useReduxContext(){var e=Object(r.useContext)(c);return v()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function createStoreHook(e){void 0===e&&(e=c);var t=e===c?useReduxContext_useReduxContext:function(){return Object(r.useContext)(e)};return function useStore(){return t().store}}var I=createStoreHook();(function createDispatchHook(e){void 0===e&&(e=c);var t=e===c?I:createStoreHook(e);return function useDispatch(){return t().dispatch}})();var M="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,A=function refEquality(e,t){return e===t};(function createSelectorHook(e){void 0===e&&(e=c);var t=e===c?useReduxContext_useReduxContext:function(){return Object(r.useContext)(e)};return function useSelector(e,n){void 0===n&&(n=A),v()(e,"You must pass a selector to useSelectors");var o=t();return function useSelectorWithStoreAndSubscription(e,t,n,o){var a,i=Object(r.useReducer)(function(e){return e+1},0)[1],c=Object(r.useMemo)(function(){return new p(n,o)},[n,o]),u=Object(r.useRef)(),l=Object(r.useRef)(),s=Object(r.useRef)();try{a=e!==l.current||u.current?e(n.getState()):s.current}catch(e){var f="An error occured while selecting the store state: "+e.message+".";throw u.current&&(f+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\nOriginal stack trace:"),new Error(f)}return M(function(){l.current=e,s.current=a,u.current=void 0}),M(function(){function checkForUpdates(){try{var e=l.current(n.getState());if(t(e,s.current))return;s.current=e}catch(e){u.current=e}i({})}return c.onStateChange=checkForUpdates,c.trySubscribe(),checkForUpdates(),function(){return c.tryUnsubscribe()}},[n,c]),a}(e,n,o.store,o.subscription)}})();var N=n(70);n.d(t,"a",function(){return d}),n.d(t,"b",function(){return x}),function setBatch(e){u=e}(N.unstable_batchedUpdates)},function(e,t,n){"use strict";n.d(t,"g",function(){return goCallback}),n.d(t,"c",function(){return go}),n.d(t,"u",function(){return isRootHistory}),n.d(t,"e",function(){return goBack}),n.d(t,"a",function(){return getBackPathname}),n.d(t,"f",function(){return goBackWithScroll}),n.d(t,"d",function(){return goAuth}),n.d(t,"q",function(){return goProfile}),n.d(t,"h",function(){return goChat}),n.d(t,"i",function(){return goChatFormatDispatch}),n.d(t,"j",function(){return goChatTree}),n.d(t,"o",function(){return goMessage}),n.d(t,"l",function(){return goEvents}),n.d(t,"n",function(){return goMenu}),n.d(t,"r",function(){return goRaiting}),n.d(t,"s",function(){return goReload}),n.d(t,"p",function(){return goOpen}),n.d(t,"k",function(){return goClose}),n.d(t,"b",function(){return globallinkSite}),n.d(t,"t",function(){return goUtm}),n.d(t,"m",function(){return goExit});var r=n(23),o=n(17),a=n(37),i=n(48),c=n(15),u=n(13),l=n(14),s=n(3);function goCallback(e,t){return function(n){Object(i.a)(e),!t||e&&e.state&&e.state.scroll||n(Object(i.b)());try{window.yandexhit(e.pathname)}catch(e){console.error(e)}}}function go(e,t){r.a.location.pathname==e?r.a.replace(e,t):r.a.push(e,t)}function isRootHistory(){return r.a.index<=1}function goBack(){isRootHistory()||(r.a.entries[r.a.index-1].state=null,r.a.goBack())}function getBackPathname(){return isRootHistory()?"/":r.a.entries[r.a.index-1].pathname}function goBackWithScroll(){var e=r.a.index-1;e>=1&&e<r.a.length&&r.a.entries[e]&&(r.a.entries[e].state={scroll:!0},r.a.goBack())}function goAuth(){go("/auth")}function goProfile(e){0!=e?(Object(o.f)(),go("/user/profile/"+e)):Object(u.b)(l.a.getText("Disable profile"))}function getGoChatUrl(e,t,n){return"/chat/"+e+"/"+t+"/"+encodeURIComponent(n)}function goChat(e,t,n,r){Object(o.f)(),go(getGoChatUrl(e,t,n),r)}function goChatFormatDispatch(e,t,n,r){return function(o,a){a().defaultState.get("comment_show_format")==s.f?goChatTree(e,t,n,r):goChat(e,t,n)}}function goChatTree(e,t,n,a,i){Object(o.f)();var c=function getGoChatUrlTree(e,t,n,r){return getGoChatUrl(e,t,n)+"/"+r}(e,t,n,a);i?r.a.replace(c,{replace:!0}):go(c)}function goMessage(e){Object(o.f)(),go("/message/"+e)}function goEvents(){Object(o.f)(),go("/user/events")}function goMenu(){go("/menu")}function goRaiting(e){go("/raiting/"+e)}function goReload(){go("/reload")}function goOpen(){Object(u.w)(!0),Object(a.e)()}function goClose(){Object(u.w)(!1),Object(a.a)()}function globallinkSite(e){top.location=e}function goUtm(e,t,n){var r="utm_source="+c.k+"&utm_medium="+t+(n?"&utm_campaign="+n:"");return-1==e.indexOf("?")?e+"?"+r:e+"&"+r}function goExit(){r.a.entries=r.a.entries.slice(0,1),r.a.index=0,r.a.length=1}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),o=n.n(r),a=o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node])},function(e,t,n){"use strict";n.d(t,"a",function(){return AvaView}),n.d(t,"b",function(){return AvaViewUser}),n.d(t,"r",function(){return ResizeView}),n.d(t,"k",function(){return Loader}),n.d(t,"i",function(){return ImgView}),n.d(t,"h",function(){return ImageView}),n.d(t,"g",function(){return IconView}),n.d(t,"e",function(){return HeaderTitleView}),n.d(t,"f",function(){return HeaderView}),n.d(t,"n",function(){return NotificationCount}),n.d(t,"m",function(){return NotificationBlock}),n.d(t,"o",function(){return NotificationHover}),n.d(t,"q",function(){return Reload}),n.d(t,"l",function(){return NotFound}),n.d(t,"s",function(){return UploadProgress}),n.d(t,"c",function(){return CustomRubricBackground}),n.d(t,"d",function(){return CustomRubricView}),n.d(t,"p",function(){return NotificationView}),n.d(t,"j",function(){return InlineLinkText});var r=n(0),o=n.n(r),a=n(25),i=n(1),c=n.n(i),u=n(34),l=n(6),s=n(27),f=n(5),p=n(11),d=n(10);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=new Map,m=new Map,_=" s-color-Background",y=" s-bg-Black s-color-Background",b=" s-bg-BlackMiddle s-color-Background";function AvaViewText(e){var t=e.name,n=e.comment_type;if(!h.has(t)){var r=Object(a.d)(t);h.set(t,r),m.set(t,Object(a.c)(r))}var i="ava-img"+(1==n?y:2==n?b:_),c=0==n?{background:"rgb("+m.get(t)+")"}:null;return o.a.createElement("div",{className:i,"data-context":h.get(t),style:c})}function AvaView(e){var t=e.type,n=e.click,a=e.ava,i=e.name,c=e.online,u=e.comment_type,l=_slicedToArray(Object(r.useState)(!!a),2),s=l[0],f=l[1],p=Object(r.useCallback)(function(){return f(!1)},[]);return o.a.createElement("div",{className:"app-custom-ava"+(t?" "+t:" small"),onClick:n},o.a.createElement("div",{className:"ava-p"},s?o.a.createElement(ImgView,{className:"ava-img",src:a,onError:p}):o.a.createElement(AvaViewText,{name:i,comment_type:u}),c&&o.a.createElement("span",{className:"ava-online s-bg-Main"})))}function AvaViewUser(e){var t=Object(r.useCallback)(function(){Object(f.q)(e.id)},[e.id]);return o.a.createElement(AvaView,_extends({},e,{click:t}))}function ResizeView(e){var t=e.width,n=e.height,i=e.onResize,c=e.children,u=Object(r.useRef)(null),l=Object(r.useRef)(null),s=Object(r.useCallback)(function(){var e=u.current.offsetWidth,r=Object(a.f)(t,n,e,e);l.current.style.width=r.w+"px",l.current.style.height=r.h+"px",i&&i(r.w,r.h)},[n,i,t]);return Object(r.useLayoutEffect)(function(){s()},[s]),Object(r.useEffect)(function(){return window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}},[s]),o.a.createElement("div",{ref:u},o.a.createElement("div",{className:"app-custom-resize",ref:l},c))}AvaViewText.defaultProps={comment_type:0},AvaViewText.propTypes={name:c.a.string.isRequired,comment_type:c.a.number},AvaView.propTypes={ava:c.a.string,name:c.a.string.isRequired,click:c.a.func,online:c.a.bool,type:c.a.string,comment_type:c.a.number},AvaViewUser.propTypes={id:c.a.number,ava:c.a.string,name:c.a.string.isRequired,click:c.a.func,online:c.a.bool,type:c.a.string},ResizeView.propTypes={width:c.a.number.isRequired,height:c.a.number.isRequired,children:c.a.element.isRequired,onResize:c.a.func};var v=function SvgLoaderBig(e){return o.a.createElement("svg",{className:"app-custom-loader",viewBox:"0 0 300 300",width:"300px",height:"300px"},o.a.createElement("g",{id:"svg_l_b_g",transform:"translate(50 50)"},o.a.createElement("path",{fill:"none",d:"M.71 2H198.8v196H.71z"}),o.a.createElement("path",{fill:e.colorBg,d:"M100.8 198a98 98 0 10-98-98 98 98 0 0098 98"}),o.a.createElement("path",{stroke:e.colorLine,strokeWidth:"3.31px",fill:"none",d:"M56.21 96v61.86c0 17.39 32.11 31.22 32.11 31.22s10.26-18.73 12.94-18.73 11.59 19.18 11.59 19.18 33.9-9.37 33.9-39.25V96.46M54.65 84.25S43.72 82 43.72 66.41 56 51.7 56 51.7s2-37 36.59-37c7.66 0 13.13-.22 16.26-.22 18.28 0 36.57 13.9 36.57 37.42 8 0 12.49 4.28 12.49 15.42a16.7 16.7 0 01-9.53 15.16"}),o.a.createElement("path",{stroke:e.colorLine,strokeWidth:"3.31px",fill:"none",d:"M64.23 99.42s-5.05-.48-7.74-3a4.9 4.9 0 01-1.63-3.65V79.35c0-7.13 9.37-8.26 9.37-8.26L74.49 82v29.43s6.69-12.93 25.87-12.93 27.2 11.6 27.2 11.6V82.47l10.26-11.15S148 70.69 148 79.61s.22 9.37.22 12.49c0 7.58-10.41 8.21-10.41 8.21"}),o.a.createElement("path",{stroke:e.colorLine,strokeWidth:"3.31px",fill:"none",d:"M92.78 105.66a10.63 10.63 0 009.37 5.35 10.3 10.3 0 009.23-5.45M96.79 117.26a15.27 15.27 0 015-.89 12.12 12.12 0 014.85 1.08M83 95.85a47.62 47.62 0 018.92-8.92M94.56 93.62h16.5c3.12 0 5.35-.89 5.35-4.46 0-3.12-5.62-5.17-7.58-7.14-1.34-1.34-1.34-4.91-1.34-4.91v-8.47c0-2.23 0-2.68 2.9-4.73.22-.17 12.26-6.86 15.39-8.64 3.57-1.78 7.14 4.46 8 6.69s.63 3.12-2.14 3.12h-22.81"}),o.a.createElement("path",{stroke:e.colorLine,strokeWidth:"3.31px",fill:"none",d:"M105.89 12.23v11.15"}),o.a.createElement("path",{stroke:e.colorLine,strokeWidth:"3.31px",fill:"none",d:"M95.45 25.38s-10.7-.89-19.18 6.24-8.92 12.49-8.92 12.49M114.52 26.28s13 4 18 12.49 5.35 22.75 5.35 22.75"}),o.a.createElement("path",{stroke:e.colorLine,strokeWidth:"3.31px",fill:"none",d:"M134.61 25.3l-5.79 8.03"}),o.a.createElement("path",{stroke:e.colorLine,strokeWidth:"3.31px",fill:"none",d:"M97.75 65.52H74.18c-3.11 0-3.55-1.34-1.33-3.57l5.77-5.8c1.33-1.34 2.66-.89 4.88.45s12.42 7.58 14.64 9.14c.52.36 1 .72 1 2.7v12.24"}),o.a.createElement("path",{stroke:e.colorLine,strokeWidth:"3.31px",fill:"none",d:"M129.97 20.26l-5.79 8.03"}),o.a.createElement("path",{fill:e.colorLine,d:"M118.7 69a4.61 4.61 0 102.93 4.29v-.36l-4.31.36zM88 69a4.61 4.61 0 103 4.26v-.36l-4.31.36z"}),o.a.createElement("path",{transform:"rotate(0 100 100)",fill:e.colorBg,d:"M0 188.12l45.29-9.62-30.98-34.41L0 188.12z"},o.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 100 100;360 100 100",keyTimes:"0;1",dur:"0.5s",begin:"0s",repeatCount:"indefinite"}))))};function Loader(){var e=Object(r.useContext)(u.a);return o.a.createElement(d.b,null,o.a.createElement(v,{colorLine:e.colorBackground,colorBg:e.colorBlackLight}))}function ImgView(e){return o.a.createElement("img",e)}function ImageView(e){return o.a.createElement(ResizeView,{width:e.width,height:e.height},o.a.createElement(ImgView,{className:"app-custom-image",src:e.src}))}function IconView(e){return o.a.createElement("div",{className:"buttons button-"+e.type,onClick:e.click},o.a.createElement(s.a,{className:"button s-color-BlackMiddle s-border-BlackLight",classDefault:"s-bg-Background",classHover:"s-bg-BlackLight"},o.a.createElement("span",{className:"icon icon-"+e.icon})))}function HeaderTitleView(e){var t=e.click,n=e.style,r=e.children;return o.a.createElement(s.a,{className:"title s-color-Main",onClick:t},o.a.createElement("div",{className:"title-text"+(n?" "+n:"")},r))}function HeaderView(e){return o.a.createElement("div",{className:"app-header s-border-BlackLight s-bg-Background"},e.left&&o.a.createElement(IconView,{click:e.left,type:"left",icon:e.icon_left}),e.right&&o.a.createElement(IconView,{click:e.right,type:"right",icon:"times"}),o.a.createElement(HeaderTitleView,{style:"center"},e.children))}v.propTypes={colorLine:c.a.string,colorBg:c.a.string},ImgView.propTypes={className:c.a.string,src:c.a.string.isRequired},ImageView.propTypes={width:c.a.number.isRequired,height:c.a.number.isRequired,src:c.a.string.isRequired},IconView.propTypes={type:c.a.string,click:c.a.func,icon:c.a.string},HeaderTitleView.propTypes={click:c.a.func,children:l.a,style:c.a.string},HeaderView.defaultProps={icon_left:"arrow-left"},HeaderView.propTypes={icon_left:c.a.string,left:c.a.func,right:c.a.func,children:c.a.oneOfType([c.a.string,c.a.object])};var g=function nitificationClassName(e){switch(e){case"red":return" s-bg-Alert s-color-Background s-border-Alert";case"grey":return" s-bg-BlackMiddle s-color-Background s-border-BlackMiddle";case"brand":return" s-color-Alert s-border-Alert";case"text":return" s-color-BlackMiddle";default:return""}};function NotificationCount(e){return o.a.createElement("div",{className:"app-notification-icon"+g(e.color)},e.value)}function NotificationBlock(e){var t=e.hover,n=e.position,a=e.show,i=Object(r.useContext)(u.a).colorBlack;return o.a.createElement("div",{className:"app-notification-hover-container app-notification-hover-"+("right"==n?"right":"left")+(a?" app-notification-hover-active":"")},o.a.createElement("div",{className:"app-notification-hover-desc s-color-Background s-bg-Black"},o.a.createElement("div",{className:"app-notification-hover-corner",style:"right"==n?{borderRightColor:i}:{borderLeftColor:i}}),t))}function NotificationHover(e){var t=e.hover,n=e.position,a=e.children,i=Object(r.useContext)(u.a).colorBlack;return o.a.createElement("div",{className:"app-notification-hover app-notification-hover-"+("right"==n?"right":"left")},a,o.a.createElement("div",{className:"app-notification-hover-block"}),o.a.createElement("div",{className:"app-notification-hover-container"},o.a.createElement("div",{className:"app-notification-hover-desc s-color-Background s-bg-Black"},o.a.createElement("div",{className:"app-notification-hover-corner",style:"right"==n?{borderRightColor:i}:{borderLeftColor:i}}),t)))}function Reload(e){var t=e.click;return o.a.createElement("div",{className:"app-custom-reload"},o.a.createElement("div",{className:"m10 s-color-MainDark"},o.a.createElement(p.a,{msg:"Loading failed..."})),o.a.createElement("span",{className:"a",onClick:t},o.a.createElement(p.a,{msg:"repeat?"})))}function NotFound(e){return o.a.createElement("div",{className:"app-custom-reload"},o.a.createElement("div",{className:"m10 s-color-MainDark"},o.a.createElement(p.a,{msg:"Page not found"})),o.a.createElement("span",{className:"a",onClick:e.click},o.a.createElement(p.a,{msg:"back?"})))}function UploadProgress(e){e.error;var t=e.progress;return o.a.createElement("div",{className:"app-upload-progress"},o.a.createElement("div",{className:"loading"},o.a.createElement("div",{className:"s-bg-Alert",style:{width:5+t/100*95+"%"}})))}function CustomRubricBackground(e){var t=e.children;return t&&o.a.createElement("div",{className:"app-custom-rubric-background s-bg-BlackLight s-color-BlackDark"},t)}function CustomRubricView(e){return o.a.createElement("div",{className:"app-custom-rubric-subscribe"},e.left&&o.a.createElement("div",{className:"back",onClick:e.click},o.a.createElement("span",{className:"icon app-icon icon-chevron-left s-color-BlackMiddle"}),o.a.createElement("span",null," ",e.left," ")),e.title&&o.a.createElement("span",{className:"app-custom-rubric-header"+(e.titleclick?" app-cursor":""),onClick:e.titleclick},e.title))}function NotificationView(e){return o.a.createElement(s.a,{className:"notification s-color-BlackMiddle",classDefault:"s-bg-Background",classHover:"s-bg-BlackLight",onClick:e.click},o.a.createElement("div",{className:"icon icon-bell"}),o.a.createElement("div",{className:"count"},o.a.createElement(NotificationCount,{color:e.value?"red":"grey",value:e.value})))}function InlineLinkText(e){return o.a.createElement("span",{onClick:e.click,className:"a"},e.children)}NotificationCount.propTypes={color:c.a.string,value:c.a.oneOfType([c.a.number,c.a.string])},NotificationBlock.propTypes={hover:l.a,show:c.a.bool,position:c.a.string},NotificationHover.propTypes={hover:l.a,children:l.a,position:c.a.string},Reload.propTypes={click:c.a.func},NotFound.propTypes={click:c.a.func},UploadProgress.propTypes={progress:c.a.number.isRequired,error:c.a.string},CustomRubricBackground.propTypes={children:l.a},CustomRubricView.propTypes={title:l.a,left:l.a,bg:c.a.oneOf(["grey"]),click:c.a.func,titleclick:c.a.func},NotificationView.propTypes={value:c.a.number,click:c.a.func},InlineLinkText.propTypes={children:l.a,click:c.a.func}},function(e,t,n){"use strict";var r=n(57),o=n.n(r);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var a=new(function(e){function PostMessageConnect(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PostMessageConnect),(t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(PostMessageConnect).call(this,e)))._message=t._message.bind(_assertThisInitialized(t)),window.addEventListener("message",t._message),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(PostMessageConnect,o.a),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(PostMessageConnect,[{key:"_message",value:function _message(e){if(e.data){var t=null;if("object"==_typeof(e.data)){try{t=e.data}catch(e){return}t.type&&(this.emit("event",t.type,t.data),this.emit(t.type,t.data))}}}},{key:"Send",value:function Send(e,t){window.parent.postMessage({type:e,data:t},"*")}}]),PostMessageConnect}());function PostMessageOn(e,t){a.on(e,t)}function PostMessageOff(e,t){a.off(e,t)}function PostMessageSend(e,t){a.Send(e,t)}n.d(t,"b",function(){return PostMessageOn}),n.d(t,"a",function(){return PostMessageOff}),n.d(t,"c",function(){return PostMessageSend})},function(e,t,n){"use strict";var r=n(100),o=n(152);function createThunkMiddleware(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var a=createThunkMiddleware();a.withExtraArgument=createThunkMiddleware;var i=a,c=Object(r.d)(o.b,Object(r.a)(i));t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"h",function(){return s}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"f",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"b",function(){return _});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(6),u=n(15),l=u.g?function(e){return o.a.createElement("div",{className:"grid"},e.children)}:function(e){return o.a.createElement("div",{className:"app-position-table"},e.children)},s=u.g?function(e){return o.a.createElement("div",{className:"grid-header"},e.children)}:function(e){return o.a.createElement("div",{className:"app-position-tr-header"},e.children)},f=u.g?function(e){return o.a.createElement("div",{className:"grid-content"},e.children)}:function(e){return o.a.createElement("div",{className:"app-position-tr-center"},o.a.createElement("div",{className:"app-position-td"},o.a.createElement("div",{className:"app-position-td-block"},e.children)))},p=u.g?function(e){return e.children}:function(e){return o.a.createElement("div",{className:"app-position-tr-center"},o.a.createElement("div",{className:"app-position-td"},o.a.createElement("div",{className:"app-position-table"},o.a.createElement("div",{className:"app-position-tr-center"},e.children))))},d=u.g?function(e){return o.a.createElement("div",{className:"grid-content-left app-chat-rightborder s-border-BlackLight"},e.children)}:function(e){return o.a.createElement("div",{className:"app-position-td app-position-td-left"},o.a.createElement("div",{className:"app-position-td-block"},o.a.createElement("div",{className:"app-position-absolute app-chat-rightborder s-border-BlackLight"},e.children)))},h=u.g?function(e){return o.a.createElement("div",{className:"grid-content-right"},e.children)}:function(e){return o.a.createElement("div",{className:"app-position-td"},o.a.createElement("div",{className:"app-position-td-block"},o.a.createElement("div",{className:"app-position-absolute"},e.children)))},m=u.g?function(e){return o.a.createElement("div",{className:"grid-footer"},e.children)}:function(e){return o.a.createElement("div",{className:"app-position-tr-footer"},e.children)},_=function GridCenter(e){return o.a.createElement("div",{className:"flex-row flex-align-items-center app-height-100"},o.a.createElement("div",{className:"flex-col"},e.children))};l.propTypes=s.propTypes=f.propTypes=p.propTypes=d.propTypes=h.propTypes=m.propTypes=_.propTypes={className:i.a.string,children:c.a}},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(41);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _objectWithoutProperties(e,t){if(null==e)return{};var n,r,o=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function Locale(){return _classCallCheck(this,Locale),_possibleConstructorReturn(this,_getPrototypeOf(Locale).apply(this,arguments))}return _inherits(Locale,o.a.Component),_createClass(Locale,[{key:"render",value:function render(){var e=this.props,t=e.msg,n=_objectWithoutProperties(e,["msg"]);return this.context.getText(t,n)}}]),Locale}(),l=function(e){function LocaleFunc(){return _classCallCheck(this,LocaleFunc),_possibleConstructorReturn(this,_getPrototypeOf(LocaleFunc).apply(this,arguments))}return _inherits(LocaleFunc,o.a.Component),_createClass(LocaleFunc,[{key:"render",value:function render(){var e=this.props,t=e.msg,n=e.func,r=e.count,o=_objectWithoutProperties(e,["msg","func","count"]);return this.context.getTextFunc(t,r,n,o)}}]),LocaleFunc}(),s=function(e){function LocaleData(){return _classCallCheck(this,LocaleData),_possibleConstructorReturn(this,_getPrototypeOf(LocaleData).apply(this,arguments))}return _inherits(LocaleData,o.a.Component),_createClass(LocaleData,[{key:"render",value:function render(){return this.context.getDateFormat(this.props.datetime,this.props.format)}}]),LocaleData}();u.contextType=c.a,u.propTypes={msg:i.a.string.isRequired},l.defaultProps={func:"pluralzero"},l.contextType=c.a,l.propTypes={msg:i.a.string.isRequired,count:i.a.number.isRequired,func:i.a.string},s.contextType=c.a,s.propTypes={datetime:i.a.string.isRequired,format:i.a.string.isRequired}},function(e,t,n){"use strict";n.d(t,"n",function(){return r}),n.d(t,"o",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"l",function(){return i}),n.d(t,"k",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"p",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"m",function(){return m}),n.d(t,"v",function(){return _}),n.d(t,"u",function(){return y}),n.d(t,"t",function(){return b}),n.d(t,"q",function(){return v}),n.d(t,"s",function(){return g}),n.d(t,"r",function(){return w}),n.d(t,"x",function(){return E}),n.d(t,"w",function(){return S}),n.d(t,"y",function(){return O}),n.d(t,"z",function(){return C}),n.d(t,"f",function(){return k}),n.d(t,"g",function(){return j}),n.d(t,"h",function(){return T});var r="PM_LOG",o="PM_PLAGIN",a="PM_INIT",i="PM_INIT_PREVIEW",c="PM_INIT_COMPLITE",u="PM_BEGIN_OPEN",l="PM_BEGIN_CLOSE",s="PM_COMPLITE_OPEN",f="PM_COMPLITE_CLOSE",p="PM_FOCUS",d="PM_RENDER",h="PM_CURSOR",m="PM_LANG",_="PM_VIEW_NAV_FIRST",y="PM_VIEW_NAV",b="PM_VIEW_MAIN",v="PM_VIEW_AUTH",g="PM_VIEW_HEIGHT",w="PM_VIEW_COMMENT_FOCUS",E="PM_WINDOW_FOCUS",S="PM_WINDOW_BLUR",O="PM_WINDOW_SCROLL",C="PM_WINDOW_SCROLL_BEGIN",k="PM_DOCUMENT_TITLE",j="PM_DRAG_ENTER",T="PM_DRAG_LEAVE"},function(e,t,n){"use strict";var r=n(2),o=n(9);var a=n(52),i=n(79);function DefaultUpdateToken(e){o.a.dispatch({type:r.E,data:e})}function DefaultUpdateProfile(e,t){if(e){var n=e.sites_moderator,a=n&&(0===n.indexOf(0)||-1!=n.indexOf(t)),i=Object.assign({},e,{is_moderator:a});o.a.dispatch({type:r.w,data:i})}else o.a.dispatch({type:r.w,data:null})}function DefaultExit(){o.a.dispatch({type:r.r})}function DefaultSocketConnect(){o.a.dispatch({type:r.B,data:!0})}function DefaultSocketDisConnect(){o.a.dispatch({type:r.B,data:!1})}function DefaultVidjetOpen(){o.a.dispatch({type:r.I,data:!0}),window.yandexReachGoal("vidjet_open")}function DefaultVidjetClose(){o.a.dispatch({type:r.I,data:!1}),window.yandexReachGoal("vidjet_close")}function DefaultVidjetUpdate(e){o.a.dispatch({type:r.J,data:e})}function DefaultSiteLang(e){var t=e?e.substr(0,2):"",n=-1!=i.c.indexOf(t)?t:i.a;o.a.dispatch({type:r.z,data:n})}function DefaultUuid(e){o.a.dispatch({type:r.G,data:e})}function DefaultInitSite(e){o.a.dispatch({type:r.y,site_id:e.site_id,site_hash:e.hash,site_url:e.url,render_in_content:e.render_in_content,height_auto:e.height_auto,scroll_border_top:e.scroll_border_top,scroll_border_bottom:e.scroll_border_bottom,time_client:e.time_client,theme:e.theme,comment_show_sort:e.comment_show_sort,comment_show_format:e.comment_show_format,hide_all_chats:e.hide_all_chats})}function DefaultAlertCreate(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.b,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"exclamation-circle",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=function GetKey(){return(new Date).getTime()}();return o.a.dispatch({type:r.n,data:{key:c,children:e,type:t,icon:n,data:i,timer:1e4}}),c}function DefaultAlertRemove(e){o.a.dispatch({type:r.o,key:e})}function DefaultSiteSettings(e){o.a.dispatch({type:r.A,data:e})}function DefaultSiteDomainBanner(e){o.a.dispatch({type:r.x,data:e})}function DefaultActionFocus(e){o.a.dispatch({type:r.s,data:e})}function DefaultWidgetFocus(e){o.a.dispatch({type:r.M,data:e})}function DefaultViewBegin(){o.a.dispatch({type:r.L})}function DefaultVidjetWidth(e){o.a.dispatch({type:r.K,data:e})}function DefaultVidjetHeight(e){o.a.dispatch({type:r.H,data:e})}function DefaultWindowSize(e,t){o.a.dispatch({type:r.N,window_width:e,window_height:t})}function DefaultLocale(e){o.a.dispatch({type:r.u,data:e})}function DefaultLocalstory(e){o.a.dispatch({type:r.v,data:e})}function DefaultGlobalScroll(e){o.a.dispatch({type:r.t,data:e})}function DefaultCommentShowSort(e){o.a.dispatch({type:r.q,data:e})}function DefaultCommentShowForamt(e){o.a.dispatch({type:r.p,data:e})}function DefaultStatsUpdate(e){o.a.dispatch({type:r.D,data:e})}n.d(t,"r",function(){return DefaultUpdateToken}),n.d(t,"q",function(){return DefaultUpdateProfile}),n.d(t,"f",function(){return DefaultExit}),n.d(t,"n",function(){return DefaultSocketConnect}),n.d(t,"o",function(){return DefaultSocketDisConnect}),n.d(t,"v",function(){return DefaultVidjetOpen}),n.d(t,"t",function(){return DefaultVidjetClose}),n.d(t,"w",function(){return DefaultVidjetUpdate}),n.d(t,"l",function(){return DefaultSiteLang}),n.d(t,"s",function(){return DefaultUuid}),n.d(t,"h",function(){return DefaultInitSite}),n.d(t,"b",function(){return DefaultAlertCreate}),n.d(t,"c",function(){return DefaultAlertRemove}),n.d(t,"m",function(){return DefaultSiteSettings}),n.d(t,"k",function(){return DefaultSiteDomainBanner}),n.d(t,"a",function(){return DefaultActionFocus}),n.d(t,"z",function(){return DefaultWidgetFocus}),n.d(t,"y",function(){return DefaultViewBegin}),n.d(t,"x",function(){return DefaultVidjetWidth}),n.d(t,"u",function(){return DefaultVidjetHeight}),n.d(t,"A",function(){return DefaultWindowSize}),n.d(t,"i",function(){return DefaultLocale}),n.d(t,"j",function(){return DefaultLocalstory}),n.d(t,"g",function(){return DefaultGlobalScroll}),n.d(t,"e",function(){return DefaultCommentShowSort}),n.d(t,"d",function(){return DefaultCommentShowForamt}),n.d(t,"p",function(){return DefaultStatsUpdate})},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(29);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=new function gettext(){var e=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,gettext),_defineProperty(this,"setFunc",function(t,n){e.func[t]=n}),_defineProperty(this,"setDateFormat",function(t,n,r,o,i){e.dateformat[t]=Object(a.g)(n,r,o,i)}),_defineProperty(this,"setTranslations",function(t,n){e.catalogs[t]||(e.catalogs[t]={}),e.catalogs[t]=Object.assign({},n)}),_defineProperty(this,"hasTranslations",function(t){return null!=e.catalogs[t]}),_defineProperty(this,"setLocale",function(t){e.locale=t}),_defineProperty(this,"getLocale",function(){return e.locale}),_defineProperty(this,"get",function(t){return e.catalogs[e.locale]&&e.catalogs[e.locale][t]?e.catalogs[e.locale][t]:null}),_defineProperty(this,"getText",function(t,n){var r=e.get(t);return null==r?"":r=e._replace(r,n)}),_defineProperty(this,"getTextFunc",function(t,n,r,o){var a=e.get(t);if(null==a)return"";var i=t;if(e.func[e.locale]){var c="boolean"==typeof n?n?1:0:isNaN(n)?0:parseInt(n),u=e.func[e.locale][r].func(c),l="boolean"==typeof u?u?1:0:u,s=a.split("|");i=e.func[e.locale][r].group==s.length?s[l]:a}return i=i.replace("{{count}}",n),i=e._replace(i,o)}),_defineProperty(this,"getDateFormat",function(t,n){var r=e.dateformat[e.locale];return r?r(new Date(t),n):""}),_defineProperty(this,"_replace",function(t,n){for(var r in n)t=t.replace("{{"+r+"}}",n[r]);return e._replace_tag(t,n)}),_defineProperty(this,"_replace_tag",function(t,n){if(n){e.regexp_replace.lastIndex=0;var r=e.regexp_replace.exec(t);if(null!==r){var a=0,i=[],c=0,u=0;do{if(c=e.regexp_replace.lastIndex-r[0].length,i.push(o.a.createElement(o.a.Fragment,{key:++a},t.substr(u,c-u))),r[1]){var l=r[1],s=r[2]?n[r[3]]:null;i.push(o.a.createElement(l,_extends({key:++a},s),r[4]))}else i.push(o.a.createElement("br",{key:++a}));u=e.regexp_replace.lastIndex}while(null!==(r=e.regexp_replace.exec(t)));return i.push(o.a.createElement(o.a.Fragment,{key:++a},t.substr(u))),i}}return t}),this.catalogs={},this.locale="",this.func={},this.dateformat={},this.regexp_replace=/<(a|span|div)(|:([a-z0-9_-]+))>(.*?)<\/\1>|\n/gi,this.cache={}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"k",function(){return a}),n.d(t,"i",function(){return i}),n.d(t,"n",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"o",function(){return s}),n.d(t,"h",function(){return h}),n.d(t,"l",function(){return m}),n.d(t,"m",function(){return _}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return v}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return w}),n.d(t,"p",function(){return E}),n.d(t,"q",function(){return O}),n.d(t,"g",function(){return C});var r=window&&window.location&&"localhost"===window.location.hostname?"http://localhost:7000/":window.location.protocol+"//"+window.location.host+"/",o=r+"api/",a="api_tolstoycomments",i="https://tolstoycomments.com/",c="auth/restory",u="settings/licenseredirect/",l=window.document.createElement("canvas").toDataURL("image/webp"),s=l&&0==l.indexOf("data:image/webp"),f=!!window.opr&&!!window.opr.addons||!!window.opera||window.navigator.userAgent.indexOf(" OPR/")>=0,p="undefined"!=typeof InstallTrigger,d=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime),h=/iPhone|iPad|iPod/i.test(window.navigator.userAgent),m=!!("Notification"in window&&"serviceWorker"in navigator)&&(f||p||d),_=r+"/widget/push.html",y="tc",b="keyval",v=void 0!==window.document.hidden,g="BHDMB-35pznIJ5Ve6xZv21SLHAaeVFLjRN9ZmqOOv-Tt9FfFQcLVce0BLeF9riw1owYPZcNGhqlTi-UhWoUaDkM",w={apiKey:"AIzaSyBPHLVc1mr338wfSVusa5V9pHFUDnZqHaE",authDomain:"tolstoycomment.firebaseapp.com",databaseURL:"https://tolstoycomment.firebaseio.com",projectId:"tolstoycomment",storageBucket:"tolstoycomment.appspot.com",messagingSenderId:"199352488394"},E="/widget/sw.js",S=window.document.getElementById("app"),O=S&&S.getAttribute("data-version"),C="string"==typeof window.document.createElement("div").style.grid},function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function createClass(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function Iterable(e){return isIterable(e)?e:Seq(e)}function KeyedIterable(e){return isKeyed(e)?e:KeyedSeq(e)}function IndexedIterable(e){return isIndexed(e)?e:IndexedSeq(e)}function SetIterable(e){return isIterable(e)&&!isAssociative(e)?e:SetSeq(e)}function isIterable(e){return!(!e||!e[t])}function isKeyed(e){return!(!e||!e[n])}function isIndexed(e){return!(!e||!e[r])}function isAssociative(e){return isKeyed(e)||isIndexed(e)}function isOrdered(e){return!(!e||!e[o])}createClass(KeyedIterable,Iterable),createClass(IndexedIterable,Iterable),createClass(SetIterable,Iterable),Iterable.isIterable=isIterable,Iterable.isKeyed=isKeyed,Iterable.isIndexed=isIndexed,Iterable.isAssociative=isAssociative,Iterable.isOrdered=isOrdered,Iterable.Keyed=KeyedIterable,Iterable.Indexed=IndexedIterable,Iterable.Set=SetIterable;var t="@@__IMMUTABLE_ITERABLE__@@",n="@@__IMMUTABLE_KEYED__@@",r="@@__IMMUTABLE_INDEXED__@@",o="@@__IMMUTABLE_ORDERED__@@",a=5,i=1<<a,c=i-1,u={},l={value:!1},s={value:!1};function MakeRef(e){return e.value=!1,e}function SetRef(e){e&&(e.value=!0)}function OwnerID(){}function arrCopy(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function ensureSize(e){return void 0===e.size&&(e.size=e.__iterate(returnTrue)),e.size}function wrapIndex(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?ensureSize(e)+t:t}function returnTrue(){return!0}function wholeSlice(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function resolveBegin(e,t){return resolveIndex(e,t,0)}function resolveEnd(e,t){return resolveIndex(e,t,t)}function resolveIndex(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var f=0,p=1,d=2,h="function"==typeof Symbol&&Symbol.iterator,m="@@iterator",_=h||m;function Iterator(e){this.next=e}function iteratorValue(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function iteratorDone(){return{value:void 0,done:!0}}function hasIterator(e){return!!getIteratorFn(e)}function isIterator(e){return e&&"function"==typeof e.next}function getIterator(e){var t=getIteratorFn(e);return t&&t.call(e)}function getIteratorFn(e){var t=e&&(h&&e[h]||e[m]);if("function"==typeof t)return t}function isArrayLike(e){return e&&"number"==typeof e.length}function Seq(e){return null==e?emptySequence():isIterable(e)?e.toSeq():function seqFromValue(e){var t=maybeIndexedSeqFromValue(e)||"object"==typeof e&&new ObjectSeq(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function KeyedSeq(e){return null==e?emptySequence().toKeyedSeq():isIterable(e)?isKeyed(e)?e.toSeq():e.fromEntrySeq():keyedSeqFromValue(e)}function IndexedSeq(e){return null==e?emptySequence():isIterable(e)?isKeyed(e)?e.entrySeq():e.toIndexedSeq():indexedSeqFromValue(e)}function SetSeq(e){return(null==e?emptySequence():isIterable(e)?isKeyed(e)?e.entrySeq():e:indexedSeqFromValue(e)).toSetSeq()}Iterator.prototype.toString=function(){return"[Iterator]"},Iterator.KEYS=f,Iterator.VALUES=p,Iterator.ENTRIES=d,Iterator.prototype.inspect=Iterator.prototype.toSource=function(){return this.toString()},Iterator.prototype[_]=function(){return this},createClass(Seq,Iterable),Seq.of=function(){return Seq(arguments)},Seq.prototype.toSeq=function(){return this},Seq.prototype.toString=function(){return this.__toString("Seq {","}")},Seq.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Seq.prototype.__iterate=function(e,t){return seqIterate(this,e,t,!0)},Seq.prototype.__iterator=function(e,t){return seqIterator(this,e,t,!0)},createClass(KeyedSeq,Seq),KeyedSeq.prototype.toKeyedSeq=function(){return this},createClass(IndexedSeq,Seq),IndexedSeq.of=function(){return IndexedSeq(arguments)},IndexedSeq.prototype.toIndexedSeq=function(){return this},IndexedSeq.prototype.toString=function(){return this.__toString("Seq [","]")},IndexedSeq.prototype.__iterate=function(e,t){return seqIterate(this,e,t,!1)},IndexedSeq.prototype.__iterator=function(e,t){return seqIterator(this,e,t,!1)},createClass(SetSeq,Seq),SetSeq.of=function(){return SetSeq(arguments)},SetSeq.prototype.toSetSeq=function(){return this},Seq.isSeq=isSeq,Seq.Keyed=KeyedSeq,Seq.Set=SetSeq,Seq.Indexed=IndexedSeq;var y,b,v,g="@@__IMMUTABLE_SEQ__@@";function ArraySeq(e){this._array=e,this.size=e.length}function ObjectSeq(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function IterableSeq(e){this._iterable=e,this.size=e.length||e.size}function IteratorSeq(e){this._iterator=e,this._iteratorCache=[]}function isSeq(e){return!(!e||!e[g])}function emptySequence(){return y||(y=new ArraySeq([]))}function keyedSeqFromValue(e){var t=Array.isArray(e)?new ArraySeq(e).fromEntrySeq():isIterator(e)?new IteratorSeq(e).fromEntrySeq():hasIterator(e)?new IterableSeq(e).fromEntrySeq():"object"==typeof e?new ObjectSeq(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function indexedSeqFromValue(e){var t=maybeIndexedSeqFromValue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function maybeIndexedSeqFromValue(e){return isArrayLike(e)?new ArraySeq(e):isIterator(e)?new IteratorSeq(e):hasIterator(e)?new IterableSeq(e):void 0}function seqIterate(e,t,n,r){var o=e._cache;if(o){for(var a=o.length-1,i=0;i<=a;i++){var c=o[n?a-i:i];if(!1===t(c[1],r?c[0]:i,e))return i+1}return i}return e.__iterateUncached(t,n)}function seqIterator(e,t,n,r){var o=e._cache;if(o){var a=o.length-1,i=0;return new Iterator(function(){var e=o[n?a-i:i];return i++>a?{value:void 0,done:!0}:iteratorValue(t,r?e[0]:i-1,e[1])})}return e.__iteratorUncached(t,n)}function fromJS(e,t){return t?function fromJSWith(e,t,n,r){return Array.isArray(t)?e.call(r,n,IndexedSeq(t).map(function(n,r){return fromJSWith(e,n,r,t)})):isPlainObj(t)?e.call(r,n,KeyedSeq(t).map(function(n,r){return fromJSWith(e,n,r,t)})):t}(t,e,"",{"":e}):fromJSDefault(e)}function fromJSDefault(e){return Array.isArray(e)?IndexedSeq(e).map(fromJSDefault).toList():isPlainObj(e)?KeyedSeq(e).map(fromJSDefault).toMap():e}function isPlainObj(e){return e&&(e.constructor===Object||void 0===e.constructor)}function is(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function deepEqual(e,t){if(e===t)return!0;if(!isIterable(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||isKeyed(e)!==isKeyed(t)||isIndexed(e)!==isIndexed(t)||isOrdered(e)!==isOrdered(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!isAssociative(e);if(isOrdered(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&is(o[1],e)&&(n||is(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var a=e;e=t,t=a}var i=!0,c=t.__iterate(function(t,r){if(n?!e.has(t):o?!is(t,e.get(r,u)):!is(e.get(r,u),t))return i=!1,!1});return i&&e.size===c}function Repeat(e,t){if(!(this instanceof Repeat))return new Repeat(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(b)return b;b=this}}function invariant(e,t){if(!e)throw new Error(t)}function Range(e,t,n){if(!(this instanceof Range))return new Range(e,t,n);if(invariant(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(v)return v;v=this}}function Collection(){throw TypeError("Abstract")}function KeyedCollection(){}function IndexedCollection(){}function SetCollection(){}Seq.prototype[g]=!0,createClass(ArraySeq,IndexedSeq),ArraySeq.prototype.get=function(e,t){return this.has(e)?this._array[wrapIndex(this,e)]:t},ArraySeq.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},ArraySeq.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new Iterator(function(){return o>r?{value:void 0,done:!0}:iteratorValue(e,o,n[t?r-o++:o++])})},createClass(ObjectSeq,KeyedSeq),ObjectSeq.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ObjectSeq.prototype.has=function(e){return this._object.hasOwnProperty(e)},ObjectSeq.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,a=0;a<=o;a++){var i=r[t?o-a:a];if(!1===e(n[i],i,this))return a+1}return a},ObjectSeq.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,a=0;return new Iterator(function(){var i=r[t?o-a:a];return a++>o?{value:void 0,done:!0}:iteratorValue(e,i,n[i])})},ObjectSeq.prototype[o]=!0,createClass(IterableSeq,IndexedSeq),IterableSeq.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=getIterator(n),o=0;if(isIterator(r))for(var a;!(a=r.next()).done&&!1!==e(a.value,o++,this););return o},IterableSeq.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=getIterator(n);if(!isIterator(r))return new Iterator(iteratorDone);var o=0;return new Iterator(function(){var t=r.next();return t.done?t:iteratorValue(e,o++,t.value)})},createClass(IteratorSeq,IndexedSeq),IteratorSeq.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,a=0;a<o.length;)if(!1===e(o[a],a++,this))return a;for(;!(n=r.next()).done;){var i=n.value;if(o[a]=i,!1===e(i,a++,this))break}return a},IteratorSeq.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new Iterator(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return iteratorValue(e,o,r[o++])})},createClass(Repeat,IndexedSeq),Repeat.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Repeat.prototype.get=function(e,t){return this.has(e)?this._value:t},Repeat.prototype.includes=function(e){return is(this._value,e)},Repeat.prototype.slice=function(e,t){var n=this.size;return wholeSlice(e,t,n)?this:new Repeat(this._value,resolveEnd(t,n)-resolveBegin(e,n))},Repeat.prototype.reverse=function(){return this},Repeat.prototype.indexOf=function(e){return is(this._value,e)?0:-1},Repeat.prototype.lastIndexOf=function(e){return is(this._value,e)?this.size:-1},Repeat.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},Repeat.prototype.__iterator=function(e,t){var n=this,r=0;return new Iterator(function(){return r<n.size?iteratorValue(e,r++,n._value):{value:void 0,done:!0}})},Repeat.prototype.equals=function(e){return e instanceof Repeat?is(this._value,e._value):deepEqual(e)},createClass(Range,IndexedSeq),Range.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Range.prototype.get=function(e,t){return this.has(e)?this._start+wrapIndex(this,e)*this._step:t},Range.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Range.prototype.slice=function(e,t){return wholeSlice(e,t,this.size)?this:(e=resolveBegin(e,this.size),(t=resolveEnd(t,this.size))<=e?new Range(0,0):new Range(this.get(e,this._end),this.get(t,this._end),this._step))},Range.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Range.prototype.lastIndexOf=function(e){return this.indexOf(e)},Range.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;a<=n;a++){if(!1===e(o,a,this))return a+1;o+=t?-r:r}return a},Range.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;return new Iterator(function(){var i=o;return o+=t?-r:r,a>n?{value:void 0,done:!0}:iteratorValue(e,a++,i)})},Range.prototype.equals=function(e){return e instanceof Range?this._start===e._start&&this._end===e._end&&this._step===e._step:deepEqual(this,e)},createClass(Collection,Iterable),createClass(KeyedCollection,Collection),createClass(IndexedCollection,Collection),createClass(SetCollection,Collection),Collection.Keyed=KeyedCollection,Collection.Indexed=IndexedCollection,Collection.Set=SetCollection;var w="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function imul(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function smi(e){return e>>>1&1073741824|3221225471&e}function hash(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return smi(n)}if("string"===t)return e.length>T?function cachedHashString(e){var t=I[e];return void 0===t&&(t=hashString(e),x===P&&(x=0,I={}),x++,I[e]=t),t}(e):hashString(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function hashJSObj(e){var t;if(C&&void 0!==(t=E.get(e)))return t;if(void 0!==(t=e[j]))return t;if(!O){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[j]))return t;if(void 0!==(t=function getIENodeHash(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++k,1073741824&k&&(k=0),C)E.set(e,t);else{if(void 0!==S&&!1===S(e))throw new Error("Non-extensible objects are not allowed as keys.");if(O)Object.defineProperty(e,j,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[j]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[j]=t}}return t}(e);if("function"==typeof e.toString)return hashString(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function hashString(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return smi(t)}var E,S=Object.isExtensible,O=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),C="function"==typeof WeakMap;C&&(E=new WeakMap);var k=0,j="__immutablehash__";"function"==typeof Symbol&&(j=Symbol(j));var T=16,P=255,x=0,I={};function assertNotInfinite(e){invariant(e!==1/0,"Cannot perform this action with an infinite size.")}function Map(e){return null==e?emptyMap():isMap(e)&&!isOrdered(e)?e:emptyMap().withMutations(function(t){var n=KeyedIterable(e);assertNotInfinite(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function isMap(e){return!(!e||!e[A])}createClass(Map,KeyedCollection),Map.of=function(){var t=e.call(arguments,0);return emptyMap().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},Map.prototype.toString=function(){return this.__toString("Map {","}")},Map.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Map.prototype.set=function(e,t){return updateMap(this,e,t)},Map.prototype.setIn=function(e,t){return this.updateIn(e,u,function(){return t})},Map.prototype.remove=function(e){return updateMap(this,e,u)},Map.prototype.deleteIn=function(e){return this.updateIn(e,function(){return u})},Map.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Map.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function updateInDeepMap(e,t,n,r){var o=e===u,a=t.next();if(a.done){var i=o?n:e,c=r(i);return c===i?e:c}invariant(o||e&&e.set,"invalid keyPath");var l=a.value,s=o?u:e.get(l,u),f=updateInDeepMap(s,t,n,r);return f===s?e:f===u?e.remove(l):(o?emptyMap():e).set(l,f)}(this,forceIterator(e),t,n);return r===u?void 0:r},Map.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):emptyMap()},Map.prototype.merge=function(){return mergeIntoMapWith(this,void 0,arguments)},Map.prototype.mergeWith=function(t){var n=e.call(arguments,1);return mergeIntoMapWith(this,t,n)},Map.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,emptyMap(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger,arguments)},Map.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return mergeIntoMapWith(this,deepMergerWith(t),n)},Map.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,emptyMap(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},Map.prototype.sort=function(e){return OrderedMap(sortFactory(this,e))},Map.prototype.sortBy=function(e,t){return OrderedMap(sortFactory(this,t,e))},Map.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)},Map.prototype.asImmutable=function(){return this.__ensureOwner()},Map.prototype.wasAltered=function(){return this.__altered},Map.prototype.__iterator=function(e,t){return new MapIterator(this,e,t)},Map.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Map.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?makeMap(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Map.isMap=isMap;var M,A="@@__IMMUTABLE_MAP__@@",N=Map.prototype;function ArrayMapNode(e,t){this.ownerID=e,this.entries=t}function BitmapIndexedNode(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function HashArrayMapNode(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function HashCollisionNode(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ValueNode(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function MapIterator(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&mapIteratorFrame(e._root)}function mapIteratorValue(e,t){return iteratorValue(e,t[0],t[1])}function mapIteratorFrame(e,t){return{node:e,index:0,__prev:t}}function makeMap(e,t,n,r){var o=Object.create(N);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function emptyMap(){return M||(M=makeMap(0))}function updateMap(e,t,n){var r,o;if(e._root){var a=MakeRef(l),i=MakeRef(s);if(r=updateNode(e._root,e.__ownerID,0,void 0,t,n,a,i),!i.value)return e;o=e.size+(a.value?n===u?-1:1:0)}else{if(n===u)return e;o=1,r=new ArrayMapNode(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?makeMap(o,r):emptyMap()}function updateNode(e,t,n,r,o,a,i,c){return e?e.update(t,n,r,o,a,i,c):a===u?e:(SetRef(c),SetRef(i),new ValueNode(t,r,[o,a]))}function isLeafNode(e){return e.constructor===ValueNode||e.constructor===HashCollisionNode}function mergeIntoNode(e,t,n,r,o){if(e.keyHash===r)return new HashCollisionNode(t,r,[e.entry,o]);var i,u=(0===n?e.keyHash:e.keyHash>>>n)&c,l=(0===n?r:r>>>n)&c,s=u===l?[mergeIntoNode(e,t,n+a,r,o)]:(i=new ValueNode(t,r,o),u<l?[e,i]:[i,e]);return new BitmapIndexedNode(t,1<<u|1<<l,s)}function mergeIntoMapWith(e,t,n){for(var r=[],o=0;o<n.length;o++){var a=n[o],i=KeyedIterable(a);isIterable(a)||(i=i.map(function(e){return fromJS(e)})),r.push(i)}return mergeIntoCollectionWith(e,t,r)}function deepMerger(e,t,n){return e&&e.mergeDeep&&isIterable(t)?e.mergeDeep(t):is(e,t)?e:t}function deepMergerWith(e){return function(t,n,r){if(t&&t.mergeDeepWith&&isIterable(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return is(t,o)?t:o}}function mergeIntoCollectionWith(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,u,function(e){return e===u?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function popCount(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function setIn(e,t,n,r){var o=r?e:arrCopy(e);return o[t]=n,o}N[A]=!0,N.delete=N.remove,N.removeIn=N.deleteIn,ArrayMapNode.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(is(n,o[a][0]))return o[a][1];return r},ArrayMapNode.prototype.update=function(e,t,n,r,o,a,i){for(var c=o===u,l=this.entries,s=0,f=l.length;s<f&&!is(r,l[s][0]);s++);var p=s<f;if(p?l[s][1]===o:c)return this;if(SetRef(i),(c||!p)&&SetRef(a),!c||1!==l.length){if(!p&&!c&&l.length>=R)return function createNodes(e,t,n,r){e||(e=new OwnerID);for(var o=new ValueNode(e,hash(n),[n,r]),a=0;a<t.length;a++){var i=t[a];o=o.update(e,0,void 0,i[0],i[1])}return o}(e,l,r,o);var d=e&&e===this.ownerID,h=d?l:arrCopy(l);return p?c?s===f-1?h.pop():h[s]=h.pop():h[s]=[r,o]:h.push([r,o]),d?(this.entries=h,this):new ArrayMapNode(e,h)}},BitmapIndexedNode.prototype.get=function(e,t,n,r){void 0===t&&(t=hash(n));var o=1<<((0===e?t:t>>>e)&c),i=this.bitmap;return 0==(i&o)?r:this.nodes[popCount(i&o-1)].get(e+a,t,n,r)},BitmapIndexedNode.prototype.update=function(e,t,n,r,o,l,s){void 0===n&&(n=hash(r));var f=(0===t?n:n>>>t)&c,p=1<<f,d=this.bitmap,h=0!=(d&p);if(!h&&o===u)return this;var m=popCount(d&p-1),_=this.nodes,y=h?_[m]:void 0,b=updateNode(y,e,t+a,n,r,o,l,s);if(b===y)return this;if(!h&&b&&_.length>=L)return function expandNodes(e,t,n,r,o){for(var a=0,c=new Array(i),u=0;0!==n;u++,n>>>=1)c[u]=1&n?t[a++]:void 0;return c[r]=o,new HashArrayMapNode(e,a+1,c)}(e,_,d,f,b);if(h&&!b&&2===_.length&&isLeafNode(_[1^m]))return _[1^m];if(h&&b&&1===_.length&&isLeafNode(b))return b;var v=e&&e===this.ownerID,g=h?b?d:d^p:d|p,w=h?b?setIn(_,m,b,v):function spliceOut(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),a=0,i=0;i<r;i++)i===t&&(a=1),o[i]=e[i+a];return o}(_,m,v):function spliceIn(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var a=new Array(o),i=0,c=0;c<o;c++)c===t?(a[c]=n,i=-1):a[c]=e[c+i];return a}(_,m,b,v);return v?(this.bitmap=g,this.nodes=w,this):new BitmapIndexedNode(e,g,w)},HashArrayMapNode.prototype.get=function(e,t,n,r){void 0===t&&(t=hash(n));var o=(0===e?t:t>>>e)&c,i=this.nodes[o];return i?i.get(e+a,t,n,r):r},HashArrayMapNode.prototype.update=function(e,t,n,r,o,i,l){void 0===n&&(n=hash(r));var s=(0===t?n:n>>>t)&c,f=o===u,p=this.nodes,d=p[s];if(f&&!d)return this;var h=updateNode(d,e,t+a,n,r,o,i,l);if(h===d)return this;var m=this.count;if(d){if(!h&&--m<D)return function packNodes(e,t,n,r){for(var o=0,a=0,i=new Array(n),c=0,u=1,l=t.length;c<l;c++,u<<=1){var s=t[c];void 0!==s&&c!==r&&(o|=u,i[a++]=s)}return new BitmapIndexedNode(e,o,i)}(e,p,m,s)}else m++;var _=e&&e===this.ownerID,y=setIn(p,s,h,_);return _?(this.count=m,this.nodes=y,this):new HashArrayMapNode(e,m,y)},HashCollisionNode.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(is(n,o[a][0]))return o[a][1];return r},HashCollisionNode.prototype.update=function(e,t,n,r,o,a,i){void 0===n&&(n=hash(r));var c=o===u;if(n!==this.keyHash)return c?this:(SetRef(i),SetRef(a),mergeIntoNode(this,e,t,n,[r,o]));for(var l=this.entries,s=0,f=l.length;s<f&&!is(r,l[s][0]);s++);var p=s<f;if(p?l[s][1]===o:c)return this;if(SetRef(i),(c||!p)&&SetRef(a),c&&2===f)return new ValueNode(e,this.keyHash,l[1^s]);var d=e&&e===this.ownerID,h=d?l:arrCopy(l);return p?c?s===f-1?h.pop():h[s]=h.pop():h[s]=[r,o]:h.push([r,o]),d?(this.entries=h,this):new HashCollisionNode(e,this.keyHash,h)},ValueNode.prototype.get=function(e,t,n,r){return is(n,this.entry[0])?this.entry[1]:r},ValueNode.prototype.update=function(e,t,n,r,o,a,i){var c=o===u,l=is(r,this.entry[0]);return(l?o===this.entry[1]:c)?this:(SetRef(i),c?void SetRef(a):l?e&&e===this.ownerID?(this.entry[1]=o,this):new ValueNode(e,this.keyHash,[r,o]):(SetRef(a),mergeIntoNode(this,e,t,hash(r),[r,o])))},ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var a=n[t?o-r:r];if(a&&!1===a.iterate(e,t))return!1}},ValueNode.prototype.iterate=function(e,t){return e(this.entry)},createClass(MapIterator,Iterator),MapIterator.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return mapIteratorValue(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return mapIteratorValue(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var a=r.nodes[this._reverse?n-o:o];if(a){if(a.entry)return mapIteratorValue(e,a.entry);t=this._stack=mapIteratorFrame(a,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var R=i/4,L=i/2,D=i/4;function List(e){var t=emptyList();if(null==e)return t;if(isList(e))return e;var n=IndexedIterable(e),r=n.size;return 0===r?t:(assertNotInfinite(r),r>0&&r<i?makeList(0,r,a,null,new VNode(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function isList(e){return!(!e||!e[F])}createClass(List,IndexedCollection),List.of=function(){return this(arguments)},List.prototype.toString=function(){return this.__toString("List [","]")},List.prototype.get=function(e,t){if((e=wrapIndex(this,e))>=0&&e<this.size){var n=listNodeFor(this,e+=this._origin);return n&&n.array[e&c]}return t},List.prototype.set=function(e,t){return function updateList(e,t,n){if((t=wrapIndex(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?setListBounds(e,t).set(0,n):setListBounds(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,a=MakeRef(s);return t>=getTailOffset(e._capacity)?r=updateVNode(r,e.__ownerID,0,t,n,a):o=updateVNode(o,e.__ownerID,e._level,t,n,a),a.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):makeList(e._origin,e._capacity,e._level,o,r):e}(this,e,t)},List.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},List.prototype.insert=function(e,t){return this.splice(e,0,t)},List.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=a,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):emptyList()},List.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){setListBounds(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},List.prototype.pop=function(){return setListBounds(this,0,-1)},List.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){setListBounds(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},List.prototype.shift=function(){return setListBounds(this,1)},List.prototype.merge=function(){return mergeIntoListWith(this,void 0,arguments)},List.prototype.mergeWith=function(t){var n=e.call(arguments,1);return mergeIntoListWith(this,t,n)},List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger,arguments)},List.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return mergeIntoListWith(this,deepMergerWith(t),n)},List.prototype.setSize=function(e){return setListBounds(this,0,e)},List.prototype.slice=function(e,t){var n=this.size;return wholeSlice(e,t,n)?this:setListBounds(this,resolveBegin(e,n),resolveEnd(t,n))},List.prototype.__iterator=function(e,t){var n=0,r=iterateList(this,t);return new Iterator(function(){var t=r();return t===z?{value:void 0,done:!0}:iteratorValue(e,n++,t)})},List.prototype.__iterate=function(e,t){for(var n,r=0,o=iterateList(this,t);(n=o())!==z&&!1!==e(n,r++,this););return r},List.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?makeList(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},List.isList=isList;var F="@@__IMMUTABLE_LIST__@@",V=List.prototype;function VNode(e,t){this.array=e,this.ownerID=t}V[F]=!0,V.delete=V.remove,V.setIn=N.setIn,V.deleteIn=V.removeIn=N.removeIn,V.update=N.update,V.updateIn=N.updateIn,V.mergeIn=N.mergeIn,V.mergeDeepIn=N.mergeDeepIn,V.withMutations=N.withMutations,V.asMutable=N.asMutable,V.asImmutable=N.asImmutable,V.wasAltered=N.wasAltered,VNode.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&c;if(r>=this.array.length)return new VNode([],e);var o,i=0===r;if(t>0){var u=this.array[r];if((o=u&&u.removeBefore(e,t-a,n))===u&&i)return this}if(i&&!o)return this;var l=editableVNode(this,e);if(!i)for(var s=0;s<r;s++)l.array[s]=void 0;return o&&(l.array[r]=o),l},VNode.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&c;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-a,n))===i&&o===this.array.length-1)return this}var u=editableVNode(this,e);return u.array.splice(o+1),r&&(u.array[o]=r),u};var U,B,z={};function iterateList(e,t){var n=e._origin,r=e._capacity,o=getTailOffset(r),c=e._tail;return iterateNodeOrLeaf(e._root,e._level,0);function iterateNodeOrLeaf(e,u,l){return 0===u?function iterateLeaf(e,a){var u=a===o?c&&c.array:e&&e.array,l=a>n?0:n-a,s=r-a;return s>i&&(s=i),function(){if(l===s)return z;var e=t?--s:l++;return u&&u[e]}}(e,l):function iterateNode(e,o,c){var u,l=e&&e.array,s=c>n?0:n-c>>o,f=1+(r-c>>o);return f>i&&(f=i),function(){for(;;){if(u){var e=u();if(e!==z)return e;u=null}if(s===f)return z;var n=t?--f:s++;u=iterateNodeOrLeaf(l&&l[n],o-a,c+(n<<o))}}}(e,u,l)}}function makeList(e,t,n,r,o,a,i){var c=Object.create(V);return c.size=t-e,c._origin=e,c._capacity=t,c._level=n,c._root=r,c._tail=o,c.__ownerID=a,c.__hash=i,c.__altered=!1,c}function emptyList(){return U||(U=makeList(0,0,a))}function updateVNode(e,t,n,r,o,i){var u,l=r>>>n&c,s=e&&l<e.array.length;if(!s&&void 0===o)return e;if(n>0){var f=e&&e.array[l],p=updateVNode(f,t,n-a,r,o,i);return p===f?e:((u=editableVNode(e,t)).array[l]=p,u)}return s&&e.array[l]===o?e:(SetRef(i),u=editableVNode(e,t),void 0===o&&l===u.array.length-1?u.array.pop():u.array[l]=o,u)}function editableVNode(e,t){return t&&e&&t===e.ownerID?e:new VNode(e?e.array.slice():[],t)}function listNodeFor(e,t){if(t>=getTailOffset(e._capacity))return e._tail;if(t<1<<e._level+a){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&c],r-=a;return n}}function setListBounds(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new OwnerID,o=e._origin,i=e._capacity,u=o+t,l=void 0===n?i:n<0?i+n:o+n;if(u===o&&l===i)return e;if(u>=l)return e.clear();for(var s=e._level,f=e._root,p=0;u+p<0;)f=new VNode(f&&f.array.length?[void 0,f]:[],r),p+=1<<(s+=a);p&&(u+=p,o+=p,l+=p,i+=p);for(var d=getTailOffset(i),h=getTailOffset(l);h>=1<<s+a;)f=new VNode(f&&f.array.length?[f]:[],r),s+=a;var m=e._tail,_=h<d?listNodeFor(e,l-1):h>d?new VNode([],r):m;if(m&&h>d&&u<i&&m.array.length){for(var y=f=editableVNode(f,r),b=s;b>a;b-=a){var v=d>>>b&c;y=y.array[v]=editableVNode(y.array[v],r)}y.array[d>>>a&c]=m}if(l<i&&(_=_&&_.removeAfter(r,0,l)),u>=h)u-=h,l-=h,s=a,f=null,_=_&&_.removeBefore(r,0,u);else if(u>o||h<d){for(p=0;f;){var g=u>>>s&c;if(g!==h>>>s&c)break;g&&(p+=(1<<s)*g),s-=a,f=f.array[g]}f&&u>o&&(f=f.removeBefore(r,s,u-p)),f&&h<d&&(f=f.removeAfter(r,s,h-p)),p&&(u-=p,l-=p)}return e.__ownerID?(e.size=l-u,e._origin=u,e._capacity=l,e._level=s,e._root=f,e._tail=_,e.__hash=void 0,e.__altered=!0,e):makeList(u,l,s,f,_)}function mergeIntoListWith(e,t,n){for(var r=[],o=0,a=0;a<n.length;a++){var i=n[a],c=IndexedIterable(i);c.size>o&&(o=c.size),isIterable(i)||(c=c.map(function(e){return fromJS(e)})),r.push(c)}return o>e.size&&(e=e.setSize(o)),mergeIntoCollectionWith(e,t,r)}function getTailOffset(e){return e<i?0:e-1>>>a<<a}function OrderedMap(e){return null==e?emptyOrderedMap():isOrderedMap(e)?e:emptyOrderedMap().withMutations(function(t){var n=KeyedIterable(e);assertNotInfinite(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function isOrderedMap(e){return isMap(e)&&isOrdered(e)}function makeOrderedMap(e,t,n,r){var o=Object.create(OrderedMap.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function emptyOrderedMap(){return B||(B=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(e,t,n){var r,o,a=e._map,c=e._list,l=a.get(t),s=void 0!==l;if(n===u){if(!s)return e;c.size>=i&&c.size>=2*a.size?(o=c.filter(function(e,t){return void 0!==e&&l!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=a.remove(t),o=l===c.size-1?c.pop():c.set(l,void 0))}else if(s){if(n===c.get(l)[1])return e;r=a,o=c.set(l,[t,n])}else r=a.set(t,c.size),o=c.set(c.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):makeOrderedMap(r,o)}function ToKeyedSequence(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function ToIndexedSequence(e){this._iter=e,this.size=e.size}function ToSetSequence(e){this._iter=e,this.size=e.size}function FromEntriesSequence(e){this._iter=e,this.size=e.size}function flipFactory(e){var t=makeSequence(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=cacheResultThrough,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===d){var r=e.__iterator(t,n);return new Iterator(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===p?f:p,n)},t}function mapFactory(e,t,n){var r=makeSequence(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var a=e.get(r,u);return a===u?o:t.call(n,a,r,e)},r.__iterateUncached=function(r,o){var a=this;return e.__iterate(function(e,o,i){return!1!==r(t.call(n,e,o,i),o,a)},o)},r.__iteratorUncached=function(r,o){var a=e.__iterator(d,o);return new Iterator(function(){var o=a.next();if(o.done)return o;var i=o.value,c=i[0];return iteratorValue(r,c,t.call(n,i[1],c,e),o)})},r}function reverseFactory(e,t){var n=makeSequence(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=flipFactory(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=cacheResultThrough,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function filterFactory(e,t,n,r){var o=makeSequence(e);return r&&(o.has=function(r){var o=e.get(r,u);return o!==u&&!!t.call(n,o,r,e)},o.get=function(r,o){var a=e.get(r,u);return a!==u&&t.call(n,a,r,e)?a:o}),o.__iterateUncached=function(o,a){var i=this,c=0;return e.__iterate(function(e,a,u){if(t.call(n,e,a,u))return c++,o(e,r?a:c-1,i)},a),c},o.__iteratorUncached=function(o,a){var i=e.__iterator(d,a),c=0;return new Iterator(function(){for(;;){var a=i.next();if(a.done)return a;var u=a.value,l=u[0],s=u[1];if(t.call(n,s,l,e))return iteratorValue(o,r?l:c++,s,a)}})},o}function sliceFactory(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=o:n|=0),wholeSlice(t,n,o))return e;var a=resolveBegin(t,o),i=resolveEnd(n,o);if(a!=a||i!=i)return sliceFactory(e.toSeq().cacheResult(),t,n,r);var c,u=i-a;u==u&&(c=u<0?0:u);var l=makeSequence(e);return l.size=0===c?c:e.size&&c||void 0,!r&&isSeq(e)&&c>=0&&(l.get=function(t,n){return(t=wrapIndex(this,t))>=0&&t<c?e.get(t+a,n):n}),l.__iterateUncached=function(t,n){var o=this;if(0===c)return 0;if(n)return this.cacheResult().__iterate(t,n);var i=0,u=!0,l=0;return e.__iterate(function(e,n){if(!u||!(u=i++<a))return l++,!1!==t(e,r?n:l-1,o)&&l!==c}),l},l.__iteratorUncached=function(t,n){if(0!==c&&n)return this.cacheResult().__iterator(t,n);var o=0!==c&&e.__iterator(t,n),i=0,u=0;return new Iterator(function(){for(;i++<a;)o.next();if(++u>c)return{value:void 0,done:!0};var e=o.next();return r||t===p?e:iteratorValue(t,u-1,t===f?void 0:e.value[1],e)})},l}function skipWhileFactory(e,t,n,r){var o=makeSequence(e);return o.__iterateUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterate(o,a);var c=!0,u=0;return e.__iterate(function(e,a,l){if(!c||!(c=t.call(n,e,a,l)))return u++,o(e,r?a:u-1,i)}),u},o.__iteratorUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterator(o,a);var c=e.__iterator(d,a),u=!0,l=0;return new Iterator(function(){var e,a,s;do{if((e=c.next()).done)return r||o===p?e:iteratorValue(o,l++,o===f?void 0:e.value[1],e);var h=e.value;a=h[0],s=h[1],u&&(u=t.call(n,s,a,i))}while(u);return o===d?e:iteratorValue(o,a,s,e)})},o}function flattenFactory(e,t,n){var r=makeSequence(e);return r.__iterateUncached=function(r,o){var a=0,i=!1;return function flatDeep(e,c){var u=this;e.__iterate(function(e,o){return(!t||c<t)&&isIterable(e)?flatDeep(e,c+1):!1===r(e,n?o:a++,u)&&(i=!0),!i},o)}(e,0),a},r.__iteratorUncached=function(r,o){var a=e.__iterator(r,o),i=[],c=0;return new Iterator(function(){for(;a;){var e=a.next();if(!1===e.done){var u=e.value;if(r===d&&(u=u[1]),t&&!(i.length<t)||!isIterable(u))return n?e:iteratorValue(r,c++,u,e);i.push(a),a=u.__iterator(r,o)}else a=i.pop()}return{value:void 0,done:!0}})},r}function sortFactory(e,t,n){t||(t=defaultComparator);var r=isKeyed(e),o=0,a=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return a.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),r?KeyedSeq(a):isIndexed(e)?IndexedSeq(a):SetSeq(a)}function maxFactory(e,t,n){if(t||(t=defaultComparator),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return maxCompare(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return maxCompare(t,e,n)?n:e})}function maxCompare(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function zipWithFactory(e,t,n){var r=makeSequence(e);return r.size=new ArraySeq(n).map(function(e){return e.size}).min(),r.__iterate=function(e,t){for(var n,r=this.__iterator(p,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},r.__iteratorUncached=function(e,r){var o=n.map(function(e){return e=Iterable(e),getIterator(r?e.reverse():e)}),a=0,i=!1;return new Iterator(function(){var n;return i||(n=o.map(function(e){return e.next()}),i=n.some(function(e){return e.done})),i?{value:void 0,done:!0}:iteratorValue(e,a++,t.apply(null,n.map(function(e){return e.value})))})},r}function reify(e,t){return isSeq(e)?t:e.constructor(t)}function validateEntry(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function resolveSize(e){return assertNotInfinite(e.size),ensureSize(e)}function iterableClass(e){return isKeyed(e)?KeyedIterable:isIndexed(e)?IndexedIterable:SetIterable}function makeSequence(e){return Object.create((isKeyed(e)?KeyedSeq:isIndexed(e)?IndexedSeq:SetSeq).prototype)}function cacheResultThrough(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Seq.prototype.cacheResult.call(this)}function defaultComparator(e,t){return e>t?1:e<t?-1:0}function forceIterator(e){var t=getIterator(e);if(!t){if(!isArrayLike(e))throw new TypeError("Expected iterable or array-like: "+e);t=getIterator(Iterable(e))}return t}function Record(e,t){var n,r=function Record(a){if(a instanceof r)return a;if(!(this instanceof r))return new r(a);if(!n){n=!0;var i=Object.keys(e);!function setProps(e,t){try{t.forEach(function setProp(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){invariant(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(o,i),o.size=i.length,o._name=t,o._keys=i,o._defaultValues=e}this._map=Map(a)},o=r.prototype=Object.create(q);return o.constructor=r,r}createClass(OrderedMap,Map),OrderedMap.of=function(){return this(arguments)},OrderedMap.prototype.toString=function(){return this.__toString("OrderedMap {","}")},OrderedMap.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},OrderedMap.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):emptyOrderedMap()},OrderedMap.prototype.set=function(e,t){return updateOrderedMap(this,e,t)},OrderedMap.prototype.remove=function(e){return updateOrderedMap(this,e,u)},OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},OrderedMap.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},OrderedMap.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},OrderedMap.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?makeOrderedMap(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},OrderedMap.isOrderedMap=isOrderedMap,OrderedMap.prototype[o]=!0,OrderedMap.prototype.delete=OrderedMap.prototype.remove,createClass(ToKeyedSequence,KeyedSeq),ToKeyedSequence.prototype.get=function(e,t){return this._iter.get(e,t)},ToKeyedSequence.prototype.has=function(e){return this._iter.has(e)},ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq()},ToKeyedSequence.prototype.reverse=function(){var e=this,t=reverseFactory(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},ToKeyedSequence.prototype.map=function(e,t){var n=this,r=mapFactory(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},ToKeyedSequence.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?resolveSize(this):0,function(o){return e(o,t?--n:n++,r)}),t)},ToKeyedSequence.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(p,t),r=t?resolveSize(this):0;return new Iterator(function(){var o=n.next();return o.done?o:iteratorValue(e,t?--r:r++,o.value,o)})},ToKeyedSequence.prototype[o]=!0,createClass(ToIndexedSequence,IndexedSeq),ToIndexedSequence.prototype.includes=function(e){return this._iter.includes(e)},ToIndexedSequence.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},ToIndexedSequence.prototype.__iterator=function(e,t){var n=this._iter.__iterator(p,t),r=0;return new Iterator(function(){var t=n.next();return t.done?t:iteratorValue(e,r++,t.value,t)})},createClass(ToSetSequence,SetSeq),ToSetSequence.prototype.has=function(e){return this._iter.includes(e)},ToSetSequence.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},ToSetSequence.prototype.__iterator=function(e,t){var n=this._iter.__iterator(p,t);return new Iterator(function(){var t=n.next();return t.done?t:iteratorValue(e,t.value,t.value,t)})},createClass(FromEntriesSequence,KeyedSeq),FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq()},FromEntriesSequence.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){validateEntry(t);var r=isIterable(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},FromEntriesSequence.prototype.__iterator=function(e,t){var n=this._iter.__iterator(p,t);return new Iterator(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){validateEntry(r);var o=isIterable(r);return iteratorValue(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough,createClass(Record,KeyedCollection),Record.prototype.toString=function(){return this.__toString(recordName(this)+" {","}")},Record.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Record.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Record.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=makeRecord(this,emptyMap()))},Record.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+recordName(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:makeRecord(this,r)},Record.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:makeRecord(this,t)},Record.prototype.wasAltered=function(){return this._map.wasAltered()},Record.prototype.__iterator=function(e,t){var n=this;return KeyedIterable(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},Record.prototype.__iterate=function(e,t){var n=this;return KeyedIterable(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},Record.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?makeRecord(this,t,e):(this.__ownerID=e,this._map=t,this)};var q=Record.prototype;function makeRecord(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function recordName(e){return e._name||e.constructor.name||"Record"}function Set(e){return null==e?emptySet():isSet(e)&&!isOrdered(e)?e:emptySet().withMutations(function(t){var n=SetIterable(e);assertNotInfinite(n.size),n.forEach(function(e){return t.add(e)})})}function isSet(e){return!(!e||!e[W])}q.delete=q.remove,q.deleteIn=q.removeIn=N.removeIn,q.merge=N.merge,q.mergeWith=N.mergeWith,q.mergeIn=N.mergeIn,q.mergeDeep=N.mergeDeep,q.mergeDeepWith=N.mergeDeepWith,q.mergeDeepIn=N.mergeDeepIn,q.setIn=N.setIn,q.update=N.update,q.updateIn=N.updateIn,q.withMutations=N.withMutations,q.asMutable=N.asMutable,q.asImmutable=N.asImmutable,createClass(Set,SetCollection),Set.of=function(){return this(arguments)},Set.fromKeys=function(e){return this(KeyedIterable(e).keySeq())},Set.prototype.toString=function(){return this.__toString("Set {","}")},Set.prototype.has=function(e){return this._map.has(e)},Set.prototype.add=function(e){return updateSet(this,this._map.set(e,!0))},Set.prototype.remove=function(e){return updateSet(this,this._map.remove(e))},Set.prototype.clear=function(){return updateSet(this,this._map.clear())},Set.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)SetIterable(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Set.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return SetIterable(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},Set.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return SetIterable(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},Set.prototype.merge=function(){return this.union.apply(this,arguments)},Set.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Set.prototype.sort=function(e){return OrderedSet(sortFactory(this,e))},Set.prototype.sortBy=function(e,t){return OrderedSet(sortFactory(this,t,e))},Set.prototype.wasAltered=function(){return this._map.wasAltered()},Set.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Set.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Set.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Set.isSet=isSet;var H,W="@@__IMMUTABLE_SET__@@",G=Set.prototype;function updateSet(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function makeSet(e,t){var n=Object.create(G);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function emptySet(){return H||(H=makeSet(emptyMap()))}function OrderedSet(e){return null==e?emptyOrderedSet():isOrderedSet(e)?e:emptyOrderedSet().withMutations(function(t){var n=SetIterable(e);assertNotInfinite(n.size),n.forEach(function(e){return t.add(e)})})}function isOrderedSet(e){return isSet(e)&&isOrdered(e)}G[W]=!0,G.delete=G.remove,G.mergeDeep=G.merge,G.mergeDeepWith=G.mergeWith,G.withMutations=N.withMutations,G.asMutable=N.asMutable,G.asImmutable=N.asImmutable,G.__empty=emptySet,G.__make=makeSet,createClass(OrderedSet,Set),OrderedSet.of=function(){return this(arguments)},OrderedSet.fromKeys=function(e){return this(KeyedIterable(e).keySeq())},OrderedSet.prototype.toString=function(){return this.__toString("OrderedSet {","}")},OrderedSet.isOrderedSet=isOrderedSet;var K,$=OrderedSet.prototype;function makeOrderedSet(e,t){var n=Object.create($);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function emptyOrderedSet(){return K||(K=makeOrderedSet(emptyOrderedMap()))}function Stack(e){return null==e?emptyStack():isStack(e)?e:emptyStack().unshiftAll(e)}function isStack(e){return!(!e||!e[Q])}$[o]=!0,$.__empty=emptyOrderedSet,$.__make=makeOrderedSet,createClass(Stack,IndexedCollection),Stack.of=function(){return this(arguments)},Stack.prototype.toString=function(){return this.__toString("Stack [","]")},Stack.prototype.get=function(e,t){var n=this._head;for(e=wrapIndex(this,e);n&&e--;)n=n.next;return n?n.value:t},Stack.prototype.peek=function(){return this._head&&this._head.value},Stack.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):makeStack(e,t)},Stack.prototype.pushAll=function(e){if(0===(e=IndexedIterable(e)).size)return this;assertNotInfinite(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):makeStack(t,n)},Stack.prototype.pop=function(){return this.slice(1)},Stack.prototype.unshift=function(){return this.push.apply(this,arguments)},Stack.prototype.unshiftAll=function(e){return this.pushAll(e)},Stack.prototype.shift=function(){return this.pop.apply(this,arguments)},Stack.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):emptyStack()},Stack.prototype.slice=function(e,t){if(wholeSlice(e,t,this.size))return this;var n=resolveBegin(e,this.size),r=resolveEnd(t,this.size);if(r!==this.size)return IndexedCollection.prototype.slice.call(this,e,t);for(var o=this.size-n,a=this._head;n--;)a=a.next;return this.__ownerID?(this.size=o,this._head=a,this.__hash=void 0,this.__altered=!0,this):makeStack(o,a)},Stack.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?makeStack(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Stack.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Stack.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new Iterator(function(){if(r){var t=r.value;return r=r.next,iteratorValue(e,n++,t)}return{value:void 0,done:!0}})},Stack.isStack=isStack;var J,Q="@@__IMMUTABLE_STACK__@@",Y=Stack.prototype;function makeStack(e,t,n,r){var o=Object.create(Y);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function emptyStack(){return J||(J=makeStack(0))}function mixin(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Y[Q]=!0,Y.withMutations=N.withMutations,Y.asMutable=N.asMutable,Y.asImmutable=N.asImmutable,Y.wasAltered=N.wasAltered,Iterable.Iterator=Iterator,mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new ToIndexedSequence(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new ToKeyedSequence(this,!0)},toMap:function(){return Map(this.toKeyedSeq())},toObject:function(){assertNotInfinite(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq())},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this)},toSet:function(){return Set(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new ToSetSequence(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this)},toList:function(){return List(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return reify(this,function concatFactory(e,t){var n=isKeyed(e),r=[e].concat(t).map(function(e){return isIterable(e)?n&&(e=KeyedIterable(e)):e=n?keyedSeqFromValue(e):indexedSeqFromValue(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var o=r[0];if(o===e||n&&isKeyed(o)||isIndexed(e)&&isIndexed(o))return o}var a=new ArraySeq(r);return n?a=a.toKeyedSeq():isIndexed(e)||(a=a.toSetSeq()),(a=a.flatten(!0)).size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),a}(this,t))},includes:function(e){return this.some(function(t){return is(t,e)})},entries:function(){return this.__iterator(d)},every:function(e,t){assertNotInfinite(this.size);var n=!0;return this.__iterate(function(r,o,a){if(!e.call(t,r,o,a))return n=!1,!1}),n},filter:function(e,t){return reify(this,filterFactory(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return assertNotInfinite(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){assertNotInfinite(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""}),t},keys:function(){return this.__iterator(f)},map:function(e,t){return reify(this,mapFactory(this,e,t))},reduce:function(e,t,n){var r,o;return assertNotInfinite(this.size),arguments.length<2?o=!0:r=t,this.__iterate(function(t,a,i){o?(o=!1,r=t):r=e.call(n,r,t,a,i)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return reify(this,reverseFactory(this,!0))},slice:function(e,t){return reify(this,sliceFactory(this,e,t,!0))},some:function(e,t){return!this.every(not(e),t)},sort:function(e){return reify(this,sortFactory(this,e))},values:function(){return this.__iterator(p)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return ensureSize(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function countByFactory(e,t,n){var r=Map().asMutable();return e.__iterate(function(o,a){r.update(t.call(n,o,a,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return deepEqual(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ArraySeq(e._cache);var t=e.toSeq().map(entryMapper).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(not(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,o,a){if(e.call(t,n,o,a))return r=[o,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(returnTrue)},flatMap:function(e,t){return reify(this,function flatMapFactory(e,t,n){var r=iterableClass(e);return e.toSeq().map(function(o,a){return r(t.call(n,o,a,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return reify(this,flattenFactory(this,e,!0))},fromEntrySeq:function(){return new FromEntriesSequence(this)},get:function(e,t){return this.find(function(t,n){return is(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,o=forceIterator(e);!(n=o.next()).done;){var a=n.value;if((r=r&&r.get?r.get(a,u):u)===u)return t}return r},groupBy:function(e,t){return function groupByFactory(e,t,n){var r=isKeyed(e),o=(isOrdered(e)?OrderedMap():Map()).asMutable();e.__iterate(function(a,i){o.update(t.call(n,a,i,e),function(e){return(e=e||[]).push(r?[i,a]:a),e})});var a=iterableClass(e);return o.map(function(t){return reify(e,a(t))})}(this,e,t)},has:function(e){return this.get(e,u)!==u},hasIn:function(e){return this.getIn(e,u)!==u},isSubset:function(e){return e="function"==typeof e.includes?e:Iterable(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:Iterable(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return is(t,e)})},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return maxFactory(this,e)},maxBy:function(e,t){return maxFactory(this,t,e)},min:function(e){return maxFactory(this,e?neg(e):defaultNegComparator)},minBy:function(e,t){return maxFactory(this,t?neg(t):defaultNegComparator,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return reify(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return reify(this,skipWhileFactory(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(not(e),t)},sortBy:function(e,t){return reify(this,sortFactory(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return reify(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return reify(this,function takeWhileFactory(e,t,n){var r=makeSequence(e);return r.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var i=0;return e.__iterate(function(e,o,c){return t.call(n,e,o,c)&&++i&&r(e,o,a)}),i},r.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(d,o),c=!0;return new Iterator(function(){if(!c)return{value:void 0,done:!0};var e=i.next();if(e.done)return e;var o=e.value,u=o[0],l=o[1];return t.call(n,l,u,a)?r===d?e:iteratorValue(r,u,l,e):(c=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(not(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function hashIterable(e){if(e.size===1/0)return 0;var t=isOrdered(e),n=isKeyed(e),r=t?1:0;return function murmurHashOfSize(e,t){return t=w(t,3432918353),t=w(t<<15|t>>>-15,461845907),t=w(t<<13|t>>>-13,5),t=w((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=smi((t=w(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+hashMerge(hash(e),hash(t))|0}:function(e,t){r=r+hashMerge(hash(e),hash(t))|0}:t?function(e){r=31*r+hash(e)|0}:function(e){r=r+hash(e)|0}),r)}(this))}});var X=Iterable.prototype;X[t]=!0,X[_]=X.values,X.__toJS=X.toArray,X.__toStringMapper=quoteString,X.inspect=X.toSource=function(){return this.toString()},X.chain=X.flatMap,X.contains=X.includes,mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this))},mapEntries:function(e,t){var n=this,r=0;return reify(this,this.toSeq().map(function(o,a){return e.call(t,[a,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return reify(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var Z=KeyedIterable.prototype;function keyMapper(e,t){return t}function entryMapper(e,t){return[t,e]}function not(e){return function(){return!e.apply(this,arguments)}}function neg(e){return function(){return-e.apply(this,arguments)}}function quoteString(e){return"string"==typeof e?JSON.stringify(e):String(e)}function defaultZipper(){return arrCopy(arguments)}function defaultNegComparator(e,t){return e<t?1:e>t?-1:0}function hashMerge(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Z[n]=!0,Z[_]=X.entries,Z.__toJS=X.toObject,Z.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+quoteString(e)},mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,!1)},filter:function(e,t){return reify(this,filterFactory(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return reify(this,reverseFactory(this,!1))},slice:function(e,t){return reify(this,sliceFactory(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=resolveBegin(e,e<0?this.count():this.size);var r=this.slice(0,e);return reify(this,1===n?r:r.concat(arrCopy(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return reify(this,flattenFactory(this,e,!1))},get:function(e,t){return(e=wrapIndex(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=wrapIndex(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return reify(this,function interposeFactory(e,t){var n=makeSequence(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,a=0;return e.__iterate(function(e,r){return(!a||!1!==n(t,a++,o))&&!1!==n(e,a++,o)},r),a},n.__iteratorUncached=function(n,r){var o,a=e.__iterator(p,r),i=0;return new Iterator(function(){return(!o||i%2)&&(o=a.next()).done?o:i%2?iteratorValue(n,i++,t):iteratorValue(n,i++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(arrCopy(arguments)),t=zipWithFactory(this.toSeq(),IndexedSeq.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),reify(this,n)},keySeq:function(){return Range(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return reify(this,skipWhileFactory(this,e,t,!1))},zip:function(){return reify(this,zipWithFactory(this,defaultZipper,[this].concat(arrCopy(arguments))))},zipWith:function(e){var t=arrCopy(arguments);return t[0]=this,reify(this,zipWithFactory(this,e,t))}}),IndexedIterable.prototype[r]=!0,IndexedIterable.prototype[o]=!0,mixin(SetIterable,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),SetIterable.prototype.has=X.includes,SetIterable.prototype.contains=SetIterable.prototype.includes,mixin(KeyedSeq,KeyedIterable.prototype),mixin(IndexedSeq,IndexedIterable.prototype),mixin(SetSeq,SetIterable.prototype),mixin(KeyedCollection,KeyedIterable.prototype),mixin(IndexedCollection,IndexedIterable.prototype),mixin(SetCollection,SetIterable.prototype),{Iterable:Iterable,Seq:Seq,Collection:Collection,Map:Map,OrderedMap:OrderedMap,List:List,Stack:Stack,Set:Set,OrderedSet:OrderedSet,Record:Record,Range:Range,Repeat:Repeat,is:is,fromJS:fromJS}}()},function(e,t,n){"use strict";var r=n(9),o=n(2),a={"&amp;":"&","&#038;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#8217;":"’","&#8216;":"‘","&#8211;":"–","&#8212;":"—","&#8230;":"…","&#8221;":"”"};function ChatActionFocusComment(e){r.a.dispatch({type:o.g,comment_id:parseInt(e)>0?parseInt(e):null})}function ChatActionScroll(e){r.a.dispatch({type:o.j,data:e})}function ChatActionHeadInit(e){r.a.dispatch({type:o.a,chat:e.chat,comment_popup:e.comment_popup})}function ChatActionVideoPlay(e){r.a.dispatch({type:o.m,videoplay:e})}function ChatActionCommentLastCreate(e){r.a.dispatch({type:o.h,comment_id:e})}function ChatActionDefaultTitle(e){var t;r.a.dispatch({type:o.k,title:(t=e,t.replace(/\\&[\\w\\d\\#]{2,5}\\;/g,function(e){return a[e]}))})}function ChatActionCommentsClear(){r.a.dispatch({type:o.c})}function ChatActionCommentsBegin(e){r.a.dispatch({type:o.b,key_chat:e})}function ChatActionCommentsSuccess(e,t,n,a){r.a.dispatch({type:o.d,page:e,data:t,params:n,key_chat:a})}function ChatActionFixedCommentUpdate(e){r.a.dispatch({type:o.l,comment:e})}function ChatActionCommentCreate(e,t){r.a.dispatch({type:o.e,data:e,insert_down:t})}function ChatActionCommentRemove(e){r.a.dispatch({type:o.i,id:e})}function ChatActionCommentEditProps(e,t){r.a.dispatch({type:o.f,id:e,props:t})}n.d(t,"j",function(){return ChatActionFocusComment}),n.d(t,"l",function(){return ChatActionScroll}),n.d(t,"k",function(){return ChatActionHeadInit}),n.d(t,"m",function(){return ChatActionVideoPlay}),n.d(t,"c",function(){return ChatActionCommentLastCreate}),n.d(t,"h",function(){return ChatActionDefaultTitle}),n.d(t,"f",function(){return ChatActionCommentsClear}),n.d(t,"e",function(){return ChatActionCommentsBegin}),n.d(t,"g",function(){return ChatActionCommentsSuccess}),n.d(t,"i",function(){return ChatActionFixedCommentUpdate}),n.d(t,"a",function(){return ChatActionCommentCreate}),n.d(t,"d",function(){return ChatActionCommentRemove}),n.d(t,"b",function(){return ChatActionCommentEditProps})},function(e,t,n){"use strict";n.d(t,"k",function(){return ActionEditorGetKeyMessage}),n.d(t,"i",function(){return ActionEditorGetKeyComment}),n.d(t,"j",function(){return ActionEditorGetKeyCommentTree}),n.d(t,"n",function(){return ActionEditorTextEdit}),n.d(t,"g",function(){return ActionEditorCommentIdEdit}),n.d(t,"b",function(){return ActionEditorAnswerCreate}),n.d(t,"a",function(){return ActionEditorAnswerChange}),n.d(t,"d",function(){return ActionEditorAttacheDelete}),n.d(t,"c",function(){return ActionEditorAttacheCreate}),n.d(t,"e",function(){return ActionEditorClear}),n.d(t,"f",function(){return ActionEditorCommentEdit}),n.d(t,"h",function(){return ActionEditorFocused}),n.d(t,"m",function(){return ActionEditorMentionIndex}),n.d(t,"l",function(){return ActionEditorMentionData});var r=n(9),o=n(2);function ActionEditorGetKeyMessage(e){return"m"+e}function ActionEditorGetKeyComment(e,t,n){return"c"+e+":"+("null"==t?"|["+n+"]|":t)}function ActionEditorGetKeyCommentTree(e,t,n,r){return"c"+e+":"+("null"==t?"|["+n+"]|":t)+(null==r?"":":::"+parseInt(r))}function ActionEditorTextEdit(e,t){r.a.dispatch({type:o.eb,value:e,id:t})}function ActionEditorCommentIdEdit(e,t){r.a.dispatch({type:o.U,comment_id:e,id:t})}function ActionEditorAnswerCreate(e){r.a.dispatch({type:o.P,answer_comment:e})}function ActionEditorAnswerChange(e,t){r.a.dispatch({type:o.O,answer_comment:e,id:t})}function ActionEditorAttacheDelete(e,t){r.a.dispatch({type:o.R,file_id:e,id:t})}function ActionEditorAttacheCreate(e,t){r.a.dispatch({type:o.Q,data:e,id:t})}function ActionEditorClear(e){r.a.dispatch({type:o.T,id:e})}function ActionEditorCommentEdit(e){r.a.dispatch({type:o.S,data:e})}function ActionEditorFocused(e){r.a.dispatch({type:o.bb,data:e})}function ActionEditorMentionIndex(e){r.a.dispatch({type:o.db,data:e})}function ActionEditorMentionData(e){r.a.dispatch({type:o.cb,data:e})}},function(e,t,n){"use strict";var r=n(57),o=n.n(r);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=new(function(e){function SocketConnect(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SocketConnect),t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(SocketConnect).call(this,e)),_defineProperty(_assertThisInitialized(t),"send",function(e){var n=e.toLowerCase();if(t.con&&t.con_success)try{for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t.con.api.server[n].apply(null,o),!0}catch(t){console.error("SignalR error: method: "+e,t)}return!1}),_defineProperty(_assertThisInitialized(t),"status",function(){return t.con_success}),_defineProperty(_assertThisInitialized(t),"connect",function(e){t.token=e,null==t.con?n.e(27).then(n.t.bind(null,237,7)).then(function(e){window.jQuery=e.default,n.e(28).then(n.t.bind(null,238,7)).then(function(){window.jQuery&&window.jQuery.connection&&window.jQuery.getScript("/api/signalr/hubs").done(t._success)})}):t._success()}),_defineProperty(_assertThisInitialized(t),"disconnect",function(){t.con&&t.con.hub&&t.con.hub.stop&&t.con.hub.stop(),clearTimeout(t.reconnectTimer)}),_defineProperty(_assertThisInitialized(t),"_connection",function(){t.con_success=!0,t.emit("connect")}),_defineProperty(_assertThisInitialized(t),"_disconnected",function(){t.con_success=!1,t.emit("disconnect"),clearTimeout(t.reconnectTimer),t.reconnectTimer=setTimeout(t._start,3e4*Math.random()+3e4)}),_defineProperty(_assertThisInitialized(t),"_reconnected",function(){t.con_success=!0,t.emit("reconnected")}),_defineProperty(_assertThisInitialized(t),"_reconnecting",function(){t.con_success=!1,t.emit("reconnecting")}),_defineProperty(_assertThisInitialized(t),"_error",function(e){console.error("SignalR error: error",e)}),_defineProperty(_assertThisInitialized(t),"_events",function(e){var n=null;try{n=JSON.parse(e)}catch(e){return void console.error("SignalR error: parse",e)}t.emit("event",n.type,n.data),t.emit(n.type,n.data)}),_defineProperty(_assertThisInitialized(t),"_start",function(){0==t.init_event&&(t.init_event=!0,t.con.hub.reconnected(t._reconnected),t.con.hub.reconnecting(t._reconnecting),t.con.hub.disconnected(t._disconnected),t.con.hub.error(t._error)),t.con.hub.start(t.config).done(t._connection)}),_defineProperty(_assertThisInitialized(t),"_success",function(){null==t.con&&(t.con=window.jQuery.connection),t.con.hub.qs={token:t.token,api:!0},t.con.api.client.events=t._events,t._start()}),t.config={},t.con=null,t.token=null,t.reconnectTimer=null,t.con_success=!1,t.init_event=!1,t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SocketConnect,o.a),SocketConnect}());function Send(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(e),a.send.apply(null,t)}function Disconnect(){a.disconnect()}function Connect(e){a.connect(e)}function On(e,t){return a.on(e,t)}function Off(e,t){return a.off(e,t)}n.d(t,"e",function(){return Send}),n.d(t,"b",function(){return Disconnect}),n.d(t,"a",function(){return Connect}),n.d(t,"d",function(){return On}),n.d(t,"c",function(){return Off})},function(e,t,n){"use strict";n.d(t,"k",function(){return r}),n.d(t,"l",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"i",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return s}),n.d(t,"p",function(){return f}),n.d(t,"m",function(){return p}),n.d(t,"n",function(){return d}),n.d(t,"o",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"A",function(){return v}),n.d(t,"z",function(){return g}),n.d(t,"B",function(){return w}),n.d(t,"K",function(){return E}),n.d(t,"G",function(){return S}),n.d(t,"F",function(){return O}),n.d(t,"E",function(){return C}),n.d(t,"C",function(){return k}),n.d(t,"I",function(){return j}),n.d(t,"H",function(){return T}),n.d(t,"D",function(){return P}),n.d(t,"J",function(){return x}),n.d(t,"x",function(){return I}),n.d(t,"v",function(){return M}),n.d(t,"w",function(){return A}),n.d(t,"s",function(){return N}),n.d(t,"t",function(){return R}),n.d(t,"u",function(){return L}),n.d(t,"r",function(){return D}),n.d(t,"y",function(){return F}),n.d(t,"q",function(){return V});var r="CHAT_ITEMS",o="CHAT_MENTION",a="CHATPAGE_HEAD",i="CHATPAGE_FIRST",c="CHATPAGE_LAST",u="CHATPAGE_PAGE",l="CHATPAGE_FOCUS",s="CHATPAGE_CREATE",f="COMMENT_REMOVE",p="COMMENT_EDIT",d="COMMENT_FIXEDCREATE",h="COMMENT_FIXEDREMOVE",m="AUTH_LOGIN",_="AUTH_REG",y="AUTH_SSO",b="AUTH_PROFILE",v="UPLOAD_FILE",g="UPLOAD_DOWNLOAD",w="USER_ANSWER",E="USER_PROFILE",S="USER_EDITMAIN",O="USER_EDITMAIL",C="USER_EDITLANG",k="USER_EDITAVA",j="USER_EDITPUSH",T="USER_EDITMESSAGE",P="USER_EDITEMAIL",x="USER_MAILCONFIRM",I="RAITING_UP",M="RAITING_DOWN",A="RAITING_STATS",N="PUSH_SETTINGS",R="PUSH_SUBSCRIBE",L="PUSH_UNSUBSCRIBE",D="PUSH_CLOSE",F="SITE_LOCALE",V="LOG_ERROR"},function(e,t,n){var r=n(93)("wks"),o=n(54),a=n(22).Symbol,i="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=i&&a[e]||(i?a:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r=n(81),o=Object(r.b)({initialEntries:["/loading"]});t.a=o},function(e,t,n){"use strict";n(173);var r=n(15);function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function _wrapNativeSuper(e){if(null===e||!function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,Wrapper)}function Wrapper(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,e)})(e)}function _construct(e,t,n){return(_construct=function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function _construct(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(o,n.prototype),o}).apply(null,arguments)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(e){function DataError(e,t){var n;return _classCallCheck(this,DataError),(n=_possibleConstructorReturn(this,_getPrototypeOf(DataError).call(this,e))).name="DataError",n.data=t,n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(DataError,_wrapNativeSuper(Error)),DataError}(),a=function(){function FetchStore(){_classCallCheck(this,FetchStore)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(FetchStore,[{key:"_createUrl",value:function _createUrl(e){return r.a+e.toLowerCase().replace(/_/g,"/")}},{key:"_createParamGet",value:function _createParamGet(e,t){var n=Object.keys(e).filter(function(n){return null!=e[n]&&""!=e[n].toString()&&(!t&&"token"==n||"lang"==n||t)}).map(function(t){return t.replace(/_/g,"")+"="+encodeURIComponent(e[t])}).join("&");return""==n?"":"?"+n}},{key:"CreateFullUrlGet",value:function CreateFullUrlGet(e,t){return this._createUrl(e)+this._createParamGet(t,!0)}},{key:"Ajax",value:function Ajax(e){var t=e.type,n=null!=e.send?e.send:-1!==e.type.indexOf("_POST")?"POST":"GET",r="";null!=e.path&&(Array.isArray(e.path)?r+="/"+e.path.join("/"):r+="/"+e.path),r+=null!=e.param?this._createParamGet(e.param,"GET"==n):"";var a=this._createUrl(t)+r,i={method:n};return"POST"==n&&(i.headers={"Content-Type":"application/json"},i.body=JSON.stringify(e.param)),fetch(a,i).then(function(t){return e.ok?t.ok?void 0:t.json().then(function(e){throw new o(e.error,e)}):t.json().then(function(e){if(void 0===e.data)throw new o(e.error,e);return e.data})})}}]),FetchStore}();t.a=new a},function(e,t,n){"use strict";function GetParentScroll(e){for(;null!=e.className&&0==e.className.split(" ").filter(function(e){return"app-scroll"==e}).length&&"BODY"!=e.tagName;)e=e.parentNode;return"BODY"!=e.tagName?e:null}function CharToInt(e){var t=e.charCodeAt(),n=0;return t>=97&&t<=122?n=14*(t-97):t>=1072&&t<=1103?n=11*(t-1072):t>=48&&t<=57&&(n=10*(t-48)),n}function ImageResizeProportional(e,t,n,r){var o,a=n/e,i=r/t,c=i<a?i:a;return o=e>n&&t>r?{w:e*c,h:t*c}:e>n?{w:n,h:t*a}:t>r?{w:e*i,h:r}:{w:e,h:t},{w:Math.round(o.w),h:Math.round(o.h)}}function CalculateContentHeight(e){if(""==e.value)return 22;var t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n=null==t?22:parseInt(t.lineHeight);return e.style.height="0px",Math.round(e.scrollHeight/n)*n}function CreateColor(e){var t,n,r,o,a,i,c,u,l=.778,s=.69;switch(2==e.length?l=(CharToInt(e[0])+CharToInt(e[1]))/2/366:1==e.length&&(l=CharToInt(e[0])/366),i=.2829,c=s*(1-.59*(a=6*l-(o=Math.floor(6*l)))),u=s*(1-.59*(1-a)),o%6){case 0:t=s,n=u,r=i;break;case 1:t=c,n=s,r=i;break;case 2:t=i,n=s,r=u;break;case 3:t=i,n=c,r=s;break;case 4:t=u,n=i,r=s;break;case 5:t=s,n=i,r=c}return[Math.round(255*t),Math.round(255*n),Math.round(255*r)].join(",")}function CreateName(e){var t=e.replace(/[^a-zа-яё0-9 ]/gi,"").toLowerCase().split(" ");return t.length>1&&t[0].length>0&&t[1].length>0?t[0][0]+t[1][0]:1==t.length&&t[0].length>1?t[0][0]+t[0][1]:1==t.length&&1==t[0].length?t[0][0]:""}function TriggerClass(e,t,n){e.className=e.className.split(" ").filter(function(e){return e!=t}).concat(n?t:"").filter(function(e){return""!=e}).join(" ")}function AddClass(e,t){TriggerClass(e,t,!0)}function RemoveClass(e,t){TriggerClass(e,t,!1)}function NotificationGranted(){return"granted"==Notification.permission}function NumberFormat(e){return e.toLocaleString("ru")}function IsTwoColomn(e){return e>=620}n.d(t,"e",function(){return GetParentScroll}),n.d(t,"f",function(){return ImageResizeProportional}),n.d(t,"b",function(){return CalculateContentHeight}),n.d(t,"c",function(){return CreateColor}),n.d(t,"d",function(){return CreateName}),n.d(t,"a",function(){return AddClass}),n.d(t,"j",function(){return RemoveClass}),n.d(t,"h",function(){return NotificationGranted}),n.d(t,"i",function(){return NumberFormat}),n.d(t,"g",function(){return IsTwoColomn})},function(e,t,n){"use strict";var r=n(24),o=n(20),a=n(17),i=n(19),c=n(91),u=n(32),l=n(3);function safeAdd(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function md5cmn(e,t,n,r,o,a){return safeAdd(function bitRotateLeft(e,t){return e<<t|e>>>32-t}(safeAdd(safeAdd(t,e),safeAdd(r,a)),o),n)}function md5ff(e,t,n,r,o,a,i){return md5cmn(t&n|~t&r,e,t,o,a,i)}function md5gg(e,t,n,r,o,a,i){return md5cmn(t&r|n&~r,e,t,o,a,i)}function md5hh(e,t,n,r,o,a,i){return md5cmn(t^n^r,e,t,o,a,i)}function md5ii(e,t,n,r,o,a,i){return md5cmn(n^(t|~r),e,t,o,a,i)}function rstrMD5(e){return function binl2rstr(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}(function binlMD5(e,t){var n,r,o,a,i;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var c=1732584193,u=-271733879,l=-1732584194,s=271733878;for(n=0;n<e.length;n+=16)r=c,o=u,a=l,i=s,c=md5ff(c,u,l,s,e[n],7,-680876936),s=md5ff(s,c,u,l,e[n+1],12,-389564586),l=md5ff(l,s,c,u,e[n+2],17,606105819),u=md5ff(u,l,s,c,e[n+3],22,-1044525330),c=md5ff(c,u,l,s,e[n+4],7,-176418897),s=md5ff(s,c,u,l,e[n+5],12,1200080426),l=md5ff(l,s,c,u,e[n+6],17,-1473231341),u=md5ff(u,l,s,c,e[n+7],22,-45705983),c=md5ff(c,u,l,s,e[n+8],7,1770035416),s=md5ff(s,c,u,l,e[n+9],12,-1958414417),l=md5ff(l,s,c,u,e[n+10],17,-42063),u=md5ff(u,l,s,c,e[n+11],22,-1990404162),c=md5ff(c,u,l,s,e[n+12],7,1804603682),s=md5ff(s,c,u,l,e[n+13],12,-40341101),l=md5ff(l,s,c,u,e[n+14],17,-1502002290),c=md5gg(c,u=md5ff(u,l,s,c,e[n+15],22,1236535329),l,s,e[n+1],5,-165796510),s=md5gg(s,c,u,l,e[n+6],9,-1069501632),l=md5gg(l,s,c,u,e[n+11],14,643717713),u=md5gg(u,l,s,c,e[n],20,-373897302),c=md5gg(c,u,l,s,e[n+5],5,-701558691),s=md5gg(s,c,u,l,e[n+10],9,38016083),l=md5gg(l,s,c,u,e[n+15],14,-660478335),u=md5gg(u,l,s,c,e[n+4],20,-405537848),c=md5gg(c,u,l,s,e[n+9],5,568446438),s=md5gg(s,c,u,l,e[n+14],9,-1019803690),l=md5gg(l,s,c,u,e[n+3],14,-187363961),u=md5gg(u,l,s,c,e[n+8],20,1163531501),c=md5gg(c,u,l,s,e[n+13],5,-1444681467),s=md5gg(s,c,u,l,e[n+2],9,-51403784),l=md5gg(l,s,c,u,e[n+7],14,1735328473),c=md5hh(c,u=md5gg(u,l,s,c,e[n+12],20,-1926607734),l,s,e[n+5],4,-378558),s=md5hh(s,c,u,l,e[n+8],11,-2022574463),l=md5hh(l,s,c,u,e[n+11],16,1839030562),u=md5hh(u,l,s,c,e[n+14],23,-35309556),c=md5hh(c,u,l,s,e[n+1],4,-1530992060),s=md5hh(s,c,u,l,e[n+4],11,1272893353),l=md5hh(l,s,c,u,e[n+7],16,-155497632),u=md5hh(u,l,s,c,e[n+10],23,-1094730640),c=md5hh(c,u,l,s,e[n+13],4,681279174),s=md5hh(s,c,u,l,e[n],11,-358537222),l=md5hh(l,s,c,u,e[n+3],16,-722521979),u=md5hh(u,l,s,c,e[n+6],23,76029189),c=md5hh(c,u,l,s,e[n+9],4,-640364487),s=md5hh(s,c,u,l,e[n+12],11,-421815835),l=md5hh(l,s,c,u,e[n+15],16,530742520),c=md5ii(c,u=md5hh(u,l,s,c,e[n+2],23,-995338651),l,s,e[n],6,-198630844),s=md5ii(s,c,u,l,e[n+7],10,1126891415),l=md5ii(l,s,c,u,e[n+14],15,-1416354905),u=md5ii(u,l,s,c,e[n+5],21,-57434055),c=md5ii(c,u,l,s,e[n+12],6,1700485571),s=md5ii(s,c,u,l,e[n+3],10,-1894986606),l=md5ii(l,s,c,u,e[n+10],15,-1051523),u=md5ii(u,l,s,c,e[n+1],21,-2054922799),c=md5ii(c,u,l,s,e[n+8],6,1873313359),s=md5ii(s,c,u,l,e[n+15],10,-30611744),l=md5ii(l,s,c,u,e[n+6],15,-1560198380),u=md5ii(u,l,s,c,e[n+13],21,1309151649),c=md5ii(c,u,l,s,e[n+4],6,-145523070),s=md5ii(s,c,u,l,e[n+11],10,-1120210379),l=md5ii(l,s,c,u,e[n+2],15,718787259),u=md5ii(u,l,s,c,e[n+9],21,-343485551),c=safeAdd(c,r),u=safeAdd(u,o),l=safeAdd(l,a),s=safeAdd(s,i);return[c,u,l,s]}(function rstr2binl(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}(e),8*e.length))}var s=new Map;function MD5(e){return s.has(e)||s.set(e,function md5(e){return function rstr2hex(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}(rstrMD5(unescape(encodeURIComponent(e))))}(e)),s.get(e)}var f=n(23);function getAjaxType(e){switch(e){case l.c:return o.f;case l.g:return o.i;case l.d:return o.g;default:return o.j}}function onChatApiLoadByComments(e,t,n){return function(o,i){var c=i().defaultState,u=c.get("token"),l=c.get("comment_show_sort"),s=c.get("comment_show_format"),p=function getChatEdentity(){return f.a.entries[f.a.index]&&f.a.entries[f.a.index].state&&null!=f.a.entries[f.a.index].state.identity?f.a.entries[f.a.index].state.identity:null}(),d=decodeURIComponent(t.url),h=Object.assign({},t,{token:u,identity:p,url:d,sort:l,format:s});return Object(a.e)(n),r.a.Ajax({type:getAjaxType(e),send:"GET",param:h}).then(function(t){return Object(a.g)(e,t,h,n),t})}}function onChatApiLoadByHead(e,t,n){return r.a.Ajax({type:o.h,send:"GET",param:{site_id:e,hash:t,url:n}}).then(a.k)}function onChatApiSendComment(e){return function(){return r.a.Ajax({type:o.e,param:e,send:"POST"})}}function onChatApiScrollSort(e){return function(){Object(a.l)(e?l.l:l.k)}}function onChatApiSubscribe(e){return Object(i.e)(c.g,e.site_id,paramsToHash(e))}function onChatApiUnSubscribe(e){return Object(i.e)(c.h,e.site_id,paramsToHash(e))}function onChatCommentApiSubscribe(e){return Object(i.e)(c.a,e.site_id,paramsToHash(e))}function onChatCommentApiUnSubscribe(e){return Object(i.e)(c.d,e.site_id,paramsToHash(e))}function onChatCommentTreeApiSubscribe(e){var t=e.site_id,n=e.root_id;return Object(i.e)(c.b,t,paramsToHash(e),null==n?0:parseInt(n))}function onChatCommentTreeApiUnSubscribe(e){var t=e.site_id,n=e.root_id;return Object(i.e)(c.c,t,paramsToHash(e),null==n?0:parseInt(n))}function onChatApiWriteBegin(e){return Object(i.e)(c.i,e.site_id,paramsToHash(e))}function onChatApiWriteEnd(e){return Object(i.e)(c.j,e.site_id,paramsToHash(e))}function onChatApiOnUpdate(e){Object(i.d)(u.a,e)}function onChatApiOffUpdate(e){Object(i.c)(u.a,e)}function paramsToHash(e){return"null"==e.hash?MD5(decodeURIComponent(e.url)):e.hash}n.d(t,"a",function(){return onChatApiLoadByComments}),n.d(t,"b",function(){return onChatApiLoadByHead}),n.d(t,"f",function(){return onChatApiSendComment}),n.d(t,"e",function(){return onChatApiScrollSort}),n.d(t,"g",function(){return onChatApiSubscribe}),n.d(t,"h",function(){return onChatApiUnSubscribe}),n.d(t,"k",function(){return onChatCommentApiSubscribe}),n.d(t,"l",function(){return onChatCommentApiUnSubscribe}),n.d(t,"m",function(){return onChatCommentTreeApiSubscribe}),n.d(t,"n",function(){return onChatCommentTreeApiUnSubscribe}),n.d(t,"i",function(){return onChatApiWriteBegin}),n.d(t,"j",function(){return onChatApiWriteEnd}),n.d(t,"d",function(){return onChatApiOnUpdate}),n.d(t,"c",function(){return onChatApiOffUpdate})},function(e,t,n){"use strict";n.d(t,"a",function(){return HoverEffect});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(6);function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _objectWithoutProperties(e,t){if(null==e)return{};var n,r,o=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function HoverEffect(e){var t=e.type,n=e.children,a=e.hover,i=e.style,c=e.className,u=e.classHover,l=e.classDefault,s=e.onHover,f=_objectWithoutProperties(e,["type","children","hover","style","className","classHover","classDefault","onHover"]),p=_slicedToArray(Object(r.useState)(a),2),d=p[0],h=p[1],m=Object(r.useCallback)(function(){h(!0),"function"==typeof s&&s(!0)},[s]),_=Object(r.useCallback)(function(){h(!1),"function"==typeof s&&s(!1)},[s]),y=u?" "+u:"",b=l?" "+l:"";return o.a.createElement(t,Object.assign({},f,{style:d&&a?a:i,className:c+(d?y:b),onMouseEnter:m,onMouseLeave:_}),n)}HoverEffect.defaultProps={type:"div"},HoverEffect.propTypes={type:i.a.string.isRequired,style:i.a.object,hover:i.a.object,className:i.a.string,classDefault:i.a.string,classHover:i.a.string,children:c.a,onHover:i.a.func}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(178),i=n.n(a),c=n(1),u=n.n(c),l=n(198),s=n.n(l),f=1073741823;var p=o.a.createContext||function createReactContext(e,t){var n,o,a="__create-react-context-"+s()()+"__",c=function(e){function Provider(){var t;return(t=e.apply(this,arguments)||this).emitter=function createEventEmitter(e){var t=[];return{on:function on(e){t.push(e)},off:function off(e){t=t.filter(function(t){return t!==e})},get:function get(){return e},set:function set(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(t.props.value),t}i()(Provider,e);var n=Provider.prototype;return n.getChildContext=function getChildContext(){var e;return(e={})[a]=this.emitter,e},n.componentWillReceiveProps=function componentWillReceiveProps(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;!function objectIs(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,o)?(n="function"==typeof t?t(r,o):f,0!=(n|=0)&&this.emitter.set(e.value,n)):n=0}},n.render=function render(){return this.props.children},Provider}(r.Component);c.childContextTypes=((n={})[a]=u.a.object.isRequired,n);var l=function(t){function Consumer(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}i()(Consumer,t);var n=Consumer.prototype;return n.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.observedBits;this.observedBits=null==t?f:t},n.componentDidMount=function componentDidMount(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?f:e},n.componentWillUnmount=function componentWillUnmount(){this.context[a]&&this.context[a].off(this.onUpdate)},n.getValue=function getValue(){return this.context[a]?this.context[a].get():e},n.render=function render(){return function onlyChild(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},Consumer}(r.Component);return l.contextTypes=((o={})[a]=u.a.object,o),{Provider:c,Consumer:l}},d=n(58),h=n(81),m=n(80),_=n(179),y=n.n(_),b=n(31),v=(n(174),n(46));n(199);n.d(t,"a",function(){return C}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return k});var g=function createNamedContext(e){var t=p();return t.displayName=e,t}("Router"),w=function(e){function Router(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(d.a)(Router,e),Router.computeRootMatch=function computeRootMatch(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var t=Router.prototype;return t.componentDidMount=function componentDidMount(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},t.componentWillUnmount=function componentWillUnmount(){this.unlisten&&this.unlisten()},t.render=function render(){return o.a.createElement(g.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:Router.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},Router}(o.a.Component);o.a.Component;o.a.Component;var E={},S=1e4,O=0;function matchPath(e,t){void 0===t&&(t={}),"string"==typeof t&&(t={path:t});var n=t,r=n.path,o=n.exact,a=void 0!==o&&o,i=n.strict,c=void 0!==i&&i,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce(function(t,n){if(!n)return null;if(t)return t;var r=function compilePath$1(e,t){var n=""+t.end+t.strict+t.sensitive,r=E[n]||(E[n]={});if(r[e])return r[e];var o=[],a={regexp:y()(e,o,t),keys:o};return O<S&&(r[e]=a,O++),a}(n,{end:a,strict:c,sensitive:l}),o=r.regexp,i=r.keys,u=o.exec(e);if(!u)return null;var s=u[0],f=u.slice(1),p=e===s;return a&&!p?null:{path:n,url:"/"===n&&""===s?"/":s,isExact:p,params:i.reduce(function(e,t,n){return e[t.name]=f[n],e},{})}},null)}var C=function(e){function Route(){return e.apply(this,arguments)||this}return Object(d.a)(Route,e),Route.prototype.render=function render(){var e=this;return o.a.createElement(g.Consumer,null,function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?matchPath(n.pathname,e.props):t.match,a=Object(b.a)({},t,{location:n,match:r}),i=e.props,c=i.children,u=i.component,l=i.render;(Array.isArray(c)&&0===c.length&&(c=null),"function"==typeof c)&&(void 0===(c=c(a))&&(c=null));return o.a.createElement(g.Provider,{value:a},c&&!function isEmptyChildren(e){return 0===o.a.Children.count(e)}(c)?c:a.match?u?o.a.createElement(u,a):l?l(a):null:null)})},Route}(o.a.Component);function addLeadingSlash(e){return"/"===e.charAt(0)?e:"/"+e}function stripBasename(e,t){if(!e)return t;var n=addLeadingSlash(e);return 0!==t.pathname.indexOf(n)?t:Object(b.a)({},t,{pathname:t.pathname.substr(n.length)})}function createURL(e){return"string"==typeof e?e:Object(h.c)(e)}function staticHandler(e){return function(){Object(m.a)(!1)}}function noop(){}o.a.Component;var k=function(e){function Switch(){return e.apply(this,arguments)||this}return Object(d.a)(Switch,e),Switch.prototype.render=function render(){var e=this;return o.a.createElement(g.Consumer,null,function(t){t||Object(m.a)(!1);var n,r,a=e.props.location||t.location;return o.a.Children.forEach(e.props.children,function(e){if(null==r&&o.a.isValidElement(e)){n=e;var i=e.props.path||e.props.from;r=i?matchPath(a.pathname,Object(b.a)({},e.props,{path:i})):t.match}}),r?o.a.cloneElement(n,{location:a,computedMatch:r}):null})},Switch}(o.a.Component)},function(e,t,n){"use strict";var r=function pad(e){for(e=String(e);e.length<2;)e="0"+e;return e};function DateTimeCreateFlags(e){var t=e.ds,n=e.df,o=e.ms,a=e.mf;return{d:function d(e){return e.getDate()+""},dd:function dd(e){return r(e.getDate())},ddd:function ddd(e){return t?t[0==e.getDay()?6:e.getDay()-1]:0==e.getDay()?6:e.getDay()-1},dddd:function dddd(e){return n?n[0==e.getDay()?6:e.getDay()-1]:0==e.getDay()?6:e.getDay()-1},M:function M(e){return e.getMonth()+1+""},MM:function MM(e){return r(e.getMonth()+1)},MMM:function MMM(e){return o?o[e.getMonth()]:e.getMonth()+1},MMMM:function MMMM(e){return a?a[e.getMonth()]:e.getMonth()+1},yy:function yy(e){return(e.getFullYear()+"").substr(2,2)},yyyy:function yyyy(e){return e.getFullYear()+""},h:function h(e){return e.getHours()%12+""},hh:function hh(e){return r(e.getHours()%12)},H:function H(e){return e.getHours()+""},HH:function HH(e){return r(e.getHours())},m:function m(e){return e.getMinutes()+""},mm:function mm(e){return r(e.getMinutes())},s:function s(e){return e.getSeconds()+""},ss:function ss(e){return r(e.getSeconds())},t:function t(e){return e.getHours()<12?"a":"p"},tt:function tt(e){return e.getHours()<12?"am":"pm"},T:function T(e){return e.getHours()<12?"A":"P"},TT:function TT(e){return e.getHours()<12?"AM":"PM"}}}function DateTimeParser(e,t){var n=e.length;if(0==n)return[];for(var r=[],a="",i=0,c="",u="",l=!1;i<n;)-1!=o.indexOf(e[i])&&0==l?(a&&(r.push(a),a=""),u!=e[i]&&t[c]&&(r.push(t[c]),c=""),c+=e[i]):(t[c]&&(r.push(t[c]),c=""),"/"==e[i]&&0==l||(a+=e[i])),u=e[i],l=!l&&"/"==u,i++;return c&&t[c]?r.push(t[c]):a&&r.push(a),r}function DateTimeMaskArray(e,t){return t.map(function(t){return"function"==typeof t?t(e):t}).join("")}var o=["d","M","y","h","H","m","s","t","T"];function dateformat_toConsumableArray(e){return function dateformat_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function dateformat_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function dateformat_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"f",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s});var a="default",i="date",c="datetime",u="comment",l="commentBack",s="commentEmpty",f=function getTotalSeconds(e,t,n){var r=(n||new Date)-e-t;return Math.round(r/1e3)},p=function getAtherYear(e,t,n){var r=(n||new Date)-e-t;return e.getFullYear()!=new Date(e-r).getFullYear()};t.g=function DateFormat(e,t,n,r,o){var a=e&&e.masks;if(null==a)throw new Error("masks not found");var i=r-n,c=DateTimeCreateFlags(e&&e.locale||{}),d=Object.keys(a),h=Object.assign.apply(Object,dateformat_toConsumableArray(d.map(function(e){return function dateformat_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,DateTimeParser(a[e],c))}))),m=function datetimeFormatBack(e,t){return function(n,r){var o=f(n,t,r),a="{v}";return o<0?"":o<30?e.commentNow.replace(a,o):o<60?e.commentSeconds.replace(a,o):o<3600?e.commentMinutes.replace(a,Math.floor(o/60)):o<86400?e.commentHours.replace(a,Math.floor(o/3600)):o<604800?e.commentDays.replace(a,Math.floor(o/86400)):o<31536e3?e.commentWeeks.replace(a,Math.floor(o/604800)):e.commentYears.replace(a,Math.floor(o/31536e3))}}(e.masks,i),_=function datetimeFormatDefault(e,t){return function(e,n){return Math.abs(f(e,t,n))<43200?"commentToday":p(e,t,n)?"commentYear":"commentDay"}}(e.masks,i);return function(e,n){switch(n){case u:var r=(1==t?_:2==t?m:function maskCommentEmpty(){return""})(e,o);return h[r]?DateTimeMaskArray(e,h[r]):r;case"commentDefault":var a=_(e,o);return h[a]?DateTimeMaskArray(e,h[a]):a;case l:var i=m(e,o);return h[i]?DateTimeMaskArray(e,h[i]):i;case s:return"";default:return h[n]?DateTimeMaskArray(e,h[n]):""}}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return _extends})},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l});var r="USER_PROFILE_UPDATE",o="USER_STATS_UPDATE",a="CHAT_UPDATE_FIXED_COMMENT",i="CHAT_UPDATE_COMMENT",c="CHAT_UPDATE_MESSAGE",u="CHAT_UPDATE_ONLINE",l="CLIENT_CONNECTION"},function(e,t,n){var r=n(30);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=n.n(r),a=n(71),i=o.a.createContext(a.b)},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";function IsDataRange(e,t,n,r){var o=function IsData(e,t){return"number"==typeof e?e:t}(e,t);return o>=n&&o<=r?o:t}function IsDataRangeBool(e,t,n){return"number"==typeof e&&(e>=t&&e<=n)}function IsNumber(e,t,n,r){return"number"==typeof e?Math.max(Math.min(r,e),n):t}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"c",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"e",function(){return GetLocalStoryToken}),n.d(t,"m",function(){return SetLocalStoryToken}),n.d(t,"k",function(){return RemoveLocalStoryToken}),n.d(t,"d",function(){return GetLocalStoryProfile}),n.d(t,"n",function(){return SetLocalStoryUuid}),n.d(t,"f",function(){return GetLocalStoryUuid}),n.d(t,"l",function(){return SetLocalStoryProfile}),n.d(t,"j",function(){return RemoveLocalStoryProfile}),n.d(t,"h",function(){return LocalStorySettingsInit}),n.d(t,"i",function(){return LocalStorySettingsSet}),n.d(t,"g",function(){return LocalStorySettingsClear});var r="token",o="profile",a="settings",i="desktop_open",c="desktop_open_session",u="popup_view",l="popup_view_session",s="email_confirm_alert",f="email_confirm_alert_session",p="uuid",d="view",h="popup",m="confirm_alert",_=[i,c,u,l,s,f],y=108e5,b=2592e6;var v=new Map,g=function(){function LocalStorage(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LocalStorage)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(LocalStorage,[{key:"getItem",value:function getItem(e){var t=String(e);return v.has(e)?String(v.get(t)):null}},{key:"setItem",value:function setItem(e,t){v.set(String(e),String(t))}},{key:"removeItem",value:function removeItem(e){v.delete(e)}},{key:"clear",value:function clear(){v.clear()}},{key:"key",value:function key(e){if(0===arguments.length)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(v.keys())[e]}},{key:"length",get:function get(){return v.size}}]),LocalStorage}(),w=function supports_html5_storage(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}()?window.localStorage:new g;function GetLocalStoryToken(){if(null!=w[r])return w[r]}function SetLocalStoryToken(e){w[r]=e}function RemoveLocalStoryToken(){w[r]=null,w.removeItem(r)}function GetLocalStoryProfile(){try{if(null!=w[o])return JSON.parse(w[o])}catch(e){return console.log("Error profile parse:",e),null}}function SetLocalStoryUuid(e){e&&(!w[p]||w[p]&&!/[0-9a-zA-Z_-]{22}/.test(w[p]))&&(w[p]=e)}function GetLocalStoryUuid(){return w[p]}function SetLocalStoryProfile(e){w[o]=e}function RemoveLocalStoryProfile(){w[o]=null,w.removeItem(o)}function LocalStorySettingsInit(){var e=_GetSettings(),t=(new Date).getTime(),n=IsDataRangeBool(e[c],t,t+y);e[i]=n?function IsBool(e,t){return t&&null==e?null:!!e}(e[i],!0):null,e[c]=IsDataRange(e[c],t+y,t,t+y),e[u]=!IsDataRangeBool(e[l],t,t+y);var r=IsDataRangeBool(e[f],t,t+b);return e[s]=r?IsNumber(e[s],3,0,3):3,e[f]=IsDataRange(e[f],t+b,t,t+b),_SetSettings(e),e}function LocalStorySettingsSet(e,t){var n=_GetSettings(),r=(new Date).getTime();switch(e){case d:n[i]!=!!t&&(n[i]=!!t,n[c]=r+y,_SetSettings(n));break;case h:n[l]=r+y,_SetSettings(n);break;case m:n[s]=IsNumber(t,3,0,3),_SetSettings(n)}return n}function LocalStorySettingsClear(){w[a]=null,w.removeItem(a)}function _GetSettings(){var e={};try{null!=w[a]&&(e=JSON.parse(w[a]))}catch(e){console.log("TC:S",e)}var t={};for(var n in _)t[_[n]]=e&&null!=e[_[n]]?e[_[n]]:null;return t}function _SetSettings(e){w[a]=JSON.stringify(e)}},function(e,t,n){"use strict";n.d(t,"g",function(){return onPostMessageViewMain}),n.d(t,"h",function(){return onPostMessageViewNav}),n.d(t,"d",function(){return onPostMessageNavFirst}),n.d(t,"e",function(){return onPostMessageOpen}),n.d(t,"a",function(){return onPostMessageClose}),n.d(t,"c",function(){return onPostMessageFieldFocus}),n.d(t,"b",function(){return onPostMessageFieldBlur}),n.d(t,"f",function(){return onPostMessageViewHeight}),n.d(t,"i",function(){return onPostMessageWindowScroll});var r=n(5),o=n(8),a=n(17),i=n(12),c=n(13);n(15);function onPostMessageViewMain(){Object(r.c)("/")}function onPostMessageViewNav(e){Object(a.h)(e.title),Object(r.h)(e.site_id,e.hash,e.url,{identity:e.identity})}function onPostMessageNavFirst(){Object(o.c)(i.v)}function onPostMessageOpen(){Object(o.c)(i.d,{user:!0})}function onPostMessageClose(){Object(o.c)(i.c,{user:!0})}function onPostMessageFieldFocus(){Object(c.a)(!0)}function onPostMessageFieldBlur(){Object(c.a)(!1)}function onPostMessageViewHeight(e){Object(o.c)(i.s,{height:e})}function onPostMessageWindowScroll(e){var t=function heightValue(){var e=document.getElementById("app");return e?e.clientHeight:null}();t&&onPostMessageViewHeight(t),Object(o.c)(i.y,{scroll:e})}},function(e,t,n){e.exports=!n(50)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(42),o=n(74);e.exports=n(38)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(22),o=n(39),a=n(43),i=n(54)("src"),c=Function.toString,u=(""+c).split("toString");n(35).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,c){var l="function"==typeof n;l&&(a(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(a(n,i)||o(n,i,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:c?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function toString(){return"function"==typeof this&&this[i]||c.call(this)})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=n.n(r),a=n(14),i=o.a.createContext({getLocale:a.a.getLocale,getText:a.a.getText,getTextFunc:a.a.getTextFunc,getDateFormat:a.a.getDateFormat})},function(e,t,n){var r=n(33),o=n(102),a=n(103),i=Object.defineProperty;t.f=n(38)?Object.defineProperty:function defineProperty(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(51);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,n){"use strict";function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",function(){return _objectWithoutPropertiesLoose})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r="banner_chat",o="banner_comment",a="banner_bottom"},function(e,t,n){"use strict";n.d(t,"a",function(){return RouteActionChangePath}),n.d(t,"b",function(){return RouteActionScrollGlobalTop}),n.d(t,"f",function(){return RouteActionScrollToElementDispatch}),n.d(t,"g",function(){return RouteActionScrollToTopDispatch}),n.d(t,"d",function(){return RouteActionScrollToBottomDispatch}),n.d(t,"h",function(){return RouteActionScrollToValue}),n.d(t,"e",function(){return RouteActionScrollToDispatch}),n.d(t,"c",function(){return RouteActionScrollSaveDispatch});var r=n(2),o=n(9),a=n(53),i=n(23);function RouteActionChangePath(e){o.a.dispatch({type:r.mb,path:e})}function RouteActionScrollGlobalTop(){return function(e,t){t().defaultState.get("height_auto")&&a.a.ScrollToTopGlobal()}}function RouteActionScrollToElementDispatch(e){return function(t,n){return!(null==e||!e.parentNode)&&(n().defaultState.get("height_auto")?a.a.ScrollToElementGlobal(e):a.a.ScrollToElementLocal(e),!0)}}function RouteActionScrollToTopDispatch(e){return function(){return!(null==e||!e.parentNode)&&(a.a.ScrollToTop(e),!0)}}function RouteActionScrollToBottomDispatch(e){return function(){return!(null==e||!e.parentNode)&&(a.a.ScrollToBottom(e),!0)}}function RouteActionScrollToValue(e,t,n,r){return function(o,i){if(null!=e&&e.parentNode){var c=i().defaultState,u=c.get("height_auto"),l=c.get("global_scroll"),s=u?l:t;a.a.ScrollTo(e,s+n-r)}}}function RouteActionScrollToDispatch(e,t,n){return function(r,o){if(null!=e&&e.parentNode){var c=o().routeState.get("history");(!n||i.a.location.state&&!0===i.a.location.state.scroll)&&c.has(t)?a.a.ScrollTo(e,c.get(t)):a.a.ScrollTo(e,0)}}}function RouteActionScrollSaveDispatch(e,t){return function(n,o){var a=o().defaultState,i=a.get("height_auto"),c=a.get("global_scroll"),u=i?c:e;n({type:r.nb,url:t,scroll:u})}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return i});var r="default",o="notclose",a="button",i="push"},function(e,t,n){"use strict";var r=n(37),o=n(25);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=new function Scroller(){var e=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Scroller),_defineProperty(this,"_border_top",49),_defineProperty(this,"_scroll",function(e,t){e.scrollTo?e.scrollTo(0,t):e.scrollTop=t}),_defineProperty(this,"_scrollLocal",function(t,n,r){if(null==t&&null==n)return!1;var a=null==t&&null!=n?Object(o.e)(n):t;return null!=r?e._scroll(a,r):null!=n&&e._scroll(a,a.scrollTop+n.getBoundingClientRect().top-a.getBoundingClientRect().top),!0}),_defineProperty(this,"_scrollGlobal",function(t,n,o){return null!=o?Object(r.i)(o):null!=t?Object(r.i)(t.getBoundingClientRect().top):null!=n&&Object(r.i)(n.getBoundingClientRect().top-e._border_top),!0}),_defineProperty(this,"scroll",this._scrollLocal),_defineProperty(this,"SetLocalScroll",function(t){e.scroll=t?e._scrollLocal:e._scrollGlobal}),_defineProperty(this,"ScrollToElement",function(t){return e.scroll(null,t,null)}),_defineProperty(this,"ScrollToElementGlobal",function(t){return e._scrollGlobal(null,t,null)}),_defineProperty(this,"ScrollToElementLocal",function(t){return e._scrollLocal(null,t,null)}),_defineProperty(this,"ScrollTo",function(t,n){return e.scroll(t,null,n)}),_defineProperty(this,"ScrollToTop",function(t){return e.scroll(null,t,0)}),_defineProperty(this,"ScrollToTopGlobal",function(){return e._scrollGlobal(null,null,0)}),_defineProperty(this,"ScrollToBottom",function(t){return e.scroll(null,t,1e6)})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(105),o=n(68);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(42).f,o=n(43),a=n(21)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){function Emitter(e){if(e)return function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}(e)}e.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){this.off(e,on),t.apply(this,arguments)}return on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return _inheritsLoose})},function(e,t,n){var r=n(22),o=n(35),a=n(39),i=n(40),c=n(44),u=function(e,t,n){var l,s,f,p,d=e&u.F,h=e&u.G,m=e&u.S,_=e&u.P,y=e&u.B,b=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,v=h?o:o[t]||(o[t]={}),g=v.prototype||(v.prototype={});for(l in h&&(n=t),n)f=((s=!d&&b&&void 0!==b[l])?b:n)[l],p=y&&s?c(f,r):_&&"function"==typeof f?c(Function.call,f):f,b&&i(b,l,f,e&u.U),v[l]!=f&&a(v,l,p),_&&g[l]!=f&&(g[l]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";n.d(t,"a",function(){return ScrollShowContainer});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(25);function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ScrollShowContainer(e){var t=e.children,n=e.border_view_top,a=e.border_view_bottom,i=Object(r.useRef)(null),u=Object(r.useRef)(null),l=Object(r.useRef)(null),s=_slicedToArray(Object(r.useState)(!1),2),f=s[0],p=s[1],d=Object(r.useCallback)(function(){l.current=null;var e=i.current.getBoundingClientRect().top,t=u.current.getBoundingClientRect().top;return e>t-a&&e<u.current.offsetHeight+t+n&&(p(!0),u.current.removeEventListener("scroll",h,"false"),!0)},[a,n,h]),h=Object(r.useCallback)(function(){return l.current=setTimeout(d,300)},[d]);return Object(r.useEffect)(function(){if(u.current=Object(c.e)(i.current),0==d())return u.current.addEventListener("scroll",h,"false"),function(){u.current.removeEventListener("scroll",h,"false"),clearTimeout(l.current)}},[d,h]),o.a.createElement("div",{ref:i},f&&t)}ScrollShowContainer.propTypes={children:i.a.oneOfType([i.a.string,i.a.element,i.a.array]),border_view_top:i.a.number,border_view_bottom:i.a.number},ScrollShowContainer.defaultProps={border_view_top:500,border_view_bottom:500}},function(e,t,n){"use strict";n.d(t,"c",function(){return StateOn}),n.d(t,"b",function(){return StateOff}),n.d(t,"a",function(){return StateEmit});var r=n(57),o=new(n.n(r).a);function StateOn(e,t){o.on(e,t)}function StateOff(e,t){o.off(e,t)}function StateEmit(e,t){o.emit(e,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="EVENT_CHAT_CREATE",o="EVENT_USER_ANSWER_VIEW"},function(e,t,n){"use strict";n.d(t,"a",function(){return onPushActive}),n.d(t,"e",function(){return onPushToken}),n.d(t,"c",function(){return onPushSettings}),n.d(t,"d",function(){return onPushSubscribe}),n.d(t,"f",function(){return onPushUnSubscribe}),n.d(t,"b",function(){return onPushClose});var r=n(24),o=n(20),a=n(89),i=n(73);function onPushActive(e){Object(a.a)(e);try{i.a.set("db_user_push_active",e)}catch(e){console.error("onPushActive",e)}}function onPushToken(e){Object(a.c)(e);try{i.a.set("db_user_push_token",e)}catch(e){console.error("onPushToken",e)}}function onPushSettings(e){return r.a.Ajax({type:o.s,send:"GET",param:{token:e}}).then(function(e){onPushActive(e.push_active),Object(a.b)(e.push_close)})}function onPushSubscribe(e,t){return r.a.Ajax({type:o.t,send:"POST",ok:!0,param:{token:e,push_token:t}}).then(function(){onPushToken(e)})}function onPushUnSubscribe(e){return r.a.Ajax({type:o.u,send:"GET",ok:!0,param:{push_token:e}}).then(function(){onPushToken(null)})}function onPushClose(e){return r.a.Ajax({type:o.r,send:"POST",ok:!0,param:{token:e}}).then(function(){Object(a.b)(!0)})}},function(e,t,n){var r=n(49),o=n(21)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t){e.exports=!1},function(e,t,n){var r=n(30),o=n(22).document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(93)("keys"),o=n(54);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}(),e.exports=n(168)},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return CreateThemeAdvanced});var r={colorBlackDark:"#333333",colorBlackMiddle:"#808080",colorBlackLight:"#e6e6e6",colorBlack:"#000",colorMainDark:"#1D3F49",colorMainMiddleDark:"#2C616F",colorMain:"#4FA3BA",colorMainMiddle:"#93C6D5",colorMainLight:"#DBECF1",colorAlert:"#EF4C47",colorBackground:"#fff"};function CreateThemeAdvanced(e,t){var n=e.color_alert,o=e.color_background,a=e.color_black,i=e.color_black_dark,c=e.color_black_middle,u=e.color_black_light,l=e.color_main,s=e.color_main_dark,f=e.color_main_light,p=e.color_main_middle,d=e.color_main_middle_dark,h=e.theme_white,m={colorBlackDark:h?i:o,colorBlackMiddle:c,colorBlackLight:h?u:i,colorBlack:h?a:o,colorMainDark:h?s:f,colorMainMiddleDark:h?d:p,colorMain:l,colorMainMiddle:h?p:d,colorMainLight:h?f:s,colorAlert:n,colorBackground:h?o:a};return Object.assign(r,m,t)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n(1),c=n.n(i);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=0,l=function(e){function BannerDefaultView(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BannerDefaultView),(t=_possibleConstructorReturn(this,_getPrototypeOf(BannerDefaultView).call(this,e))).number=++u,t.id="g"+t.number,t.elem=o.a.createRef(),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BannerDefaultView,o.a.Component),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BannerDefaultView,[{key:"componentDidMount",value:function componentDidMount(){var e,t,n,r,o,a=this.props,i=a.banner_id,c=a.height,u=this.id,l=this.elem.current,s=this.number;if("banner-test"==i)l.style.background="#eee",l.style.height=c+"px",l.style.lineHeight=c+"px",l.style.textAlign="center",l.innerHTML=i;else try{l.setAttribute("data-id",i),e=window,t=document,e[n="yandexContextAsyncCallbacks"]=e[n]||[],e[n].push(function(){window.Ya.Context.AdvManager.render({blockId:i,renderTo:u,async:!0,pageNumber:s})}),o=t.getElementsByTagName("script")[0],(r=t.createElement("script")).type="text/javascript",r.src="//an.yandex.ru/system/context.js",r.async=!0,o.parentNode.insertBefore(r,o)}catch(e){console.error("ADS",e)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){}},{key:"render",value:function render(){return o.a.createElement("div",{ref:this.elem,id:this.id})}}]),BannerDefaultView}();l.defaultProps={height:200},l.propTypes={banner_id:c.a.string.isRequired,height:c.a.number},l.index=0;var s=n(47),f=n(60),p=n(6);function banner_focus_hide_container_typeof(e){return(banner_focus_hide_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function banner_focus_hide_container_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function banner_focus_hide_container_possibleConstructorReturn(e,t){return!t||"object"!==banner_focus_hide_container_typeof(t)&&"function"!=typeof t?function banner_focus_hide_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function banner_focus_hide_container_getPrototypeOf(e){return(banner_focus_hide_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function banner_focus_hide_container_setPrototypeOf(e,t){return(banner_focus_hide_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function BannerFocusHideContainer(){return function banner_focus_hide_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BannerFocusHideContainer),banner_focus_hide_container_possibleConstructorReturn(this,banner_focus_hide_container_getPrototypeOf(BannerFocusHideContainer).apply(this,arguments))}return function banner_focus_hide_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&banner_focus_hide_container_setPrototypeOf(e,t)}(BannerFocusHideContainer,o.a.Component),function banner_focus_hide_container_createClass(e,t,n){return t&&banner_focus_hide_container_defineProperties(e.prototype,t),n&&banner_focus_hide_container_defineProperties(e,n),e}(BannerFocusHideContainer,[{key:"render",value:function render(){return!this.props.focushide&&this.props.children}}]),BannerFocusHideContainer}();d.propTypes={focushide:c.a.bool,children:p.a};var h=Object(a.b)(function mapStateToProps(e){return{focushide:e.defaultState.get("focus")}})(d);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function BannerBlock(e){if(!e.banner_id)return e.children;switch(e.banner_type){case s.b:return o.a.createElement(f.a,null,o.a.createElement("div",{className:"app-chat"},o.a.createElement("div",{className:"border"},o.a.createElement(l,e))));case s.c:return o.a.createElement(f.a,{border_view_top:0},o.a.createElement("div",{className:"app-comments_banner"},o.a.createElement(l,e)));case s.a:return o.a.createElement(h,null,o.a.createElement(l,_extends({},e,{height:"80"})))}}BannerBlock.propTypes={banner:c.a.string,children:p.a};var m=Object(a.b)(function mapStateToProps(e,t){var n=e.defaultState;return{vidjet_width:n.get("vidjet_width"),banner_id:n.getIn(["site_settings",t.banner]),banner_type:t.banner,children:t.children?t.children:null}})(BannerBlock);t.a=m},function(e,t,n){"use strict";var r=n(112),o=n(15);function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function KeyValue(e,t){var n=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeyValue),this.db=e,this.store=t,this.issupport=!1,this.notsupport="indexedDB not support",r.a.support()?this.dbPromise=r.a.open(this.db,1,function(e){e.createObjectStore(n.store)}).then(function(e){return n.issupport=!0,e}).catch(function(){return Promise.reject(new Error(n.notsupport))}):this.dbPromise=Promise.reject(new Error(this.notsupport))}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(KeyValue,[{key:"get",value:function get(e){var t=this;return this.dbPromise.then(function(n){return n.transaction(t.store).objectStore(t.store).get(e)})}},{key:"set",value:function set(e,t){var n=this;return this.dbPromise.then(function(r){var o=r.transaction(n.store,"readwrite");return o.objectStore(n.store).put(t,e),o.complete})}},{key:"delete",value:function _delete(e){var t=this;return this.dbPromise.then(function(n){var r=n.transaction(t.store,"readwrite");return r.objectStore(t.store).delete(e),r.complete})}},{key:"clear",value:function clear(){var e=this;return this.dbPromise.then(function(t){var n=t.transaction(e.store,"readwrite");return n.objectStore(e.store).clear(),n.complete})}},{key:"keys",value:function keys(){var e=this;return this.dbPromise.then(function(t){var n=t.transaction(e.store),r=[],o=n.objectStore(e.store);return(o.iterateKeyCursor||o.iterateCursor).call(o,function(e){e&&(r.push(e.key),e.continue())}),n.complete.then(function(){return r})})}}]),KeyValue}();t.a=new a(o.b,o.c)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(65),o=n(59),a=n(40),i=n(39),c=n(45),u=n(122),l=n(56),s=n(127),f=n(21)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,m,_,y){u(n,t,h);var b,v,g,w=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":return function keys(){return new n(this,e)};case"values":return function values(){return new n(this,e)}}return function entries(){return new n(this,e)}},E=t+" Iterator",S="values"==m,O=!1,C=e.prototype,k=C[f]||C["@@iterator"]||m&&C[m],j=k||w(m),T=m?S?w("entries"):j:void 0,P="Array"==t&&C.entries||k;if(P&&(g=s(P.call(new e)))!==Object.prototype&&g.next&&(l(g,E,!0),r||"function"==typeof g[f]||i(g,f,d)),S&&k&&"values"!==k.name&&(O=!0,j=function values(){return k.call(this)}),r&&!y||!p&&!O&&C[f]||i(C,f,j),c[t]=j,c[E]=d,m)if(b={values:S?j:w("values"),keys:_?j:w("keys"),entries:T},y)for(v in b)v in C||a(C,v,b[v]);else o(o.P+o.F*(p||O),t,b);return b}},function(e,t,n){var r=n(124),o=n(95);e.exports=Object.keys||function keys(e){return r(e,o)}},function(e,t,n){"use strict";n.d(t,"a",function(){return goHref}),n.d(t,"c",function(){return goHrefRestory}),n.d(t,"b",function(){return goHrefLending});var r=n(15),o=n(5);function goHref(e){window.open(e,"_blank")}function goHrefRestory(){return function(e,t){var n=t().defaultState.get("lang");goHref(r.i+(n?n+"/":"")+r.n)}}function goHrefLending(e){goHref(Object(o.t)(r.i,"banner",e))}},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a});var r="en",o=["ru","en"],a={en:{pluralzero:{group:3,comment:[0,1,2],func:function func(e){return 0===e?0:1==e?1:2}}},ru:{pluralzero:{group:4,comment:[0,1,2,5],func:function func(e){return 0===e?0:e%10==1&&e%100!=11?1:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?2:3}}}}},function(e,t,n){"use strict";var r=!0,o="Invariant failed";t.a=function invariant(e,t){if(!e)throw r?new Error(o):new Error(o+": "+(t||""))}},function(e,t,n){"use strict";var r=n(31);function isAbsolute(e){return"/"===e.charAt(0)}function spliceOne(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function resolvePathname(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&isAbsolute(e),a=t&&isAbsolute(t),i=o||a;if(e&&isAbsolute(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c=void 0;if(r.length){var u=r[r.length-1];c="."===u||".."===u||""===u}else c=!1;for(var l=0,s=r.length;s>=0;s--){var f=r[s];"."===f?spliceOne(r,s):".."===f?(spliceOne(r,s),l++):l&&(spliceOne(r,s),l--)}if(!i)for(;l--;l)r.unshift("..");!i||""===r[0]||r[0]&&isAbsolute(r[0])||r.unshift("");var p=r.join("/");return c&&"/"!==p.substr(-1)&&(p+="/"),p},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=function valueEqual(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return valueEqual(e,t[n])});var n=void 0===e?"undefined":a(e);if(n!==(void 0===t?"undefined":a(t)))return!1;if("object"===n){var r=e.valueOf(),o=t.valueOf();if(r!==e||o!==t)return valueEqual(r,o);var i=Object.keys(e),c=Object.keys(t);return i.length===c.length&&i.every(function(n){return valueEqual(e[n],t[n])})}return!1};n(80);function createPath(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function createLocation(e,t,n,a){var i;"string"==typeof e?(i=function parsePath(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=Object(r.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),a?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=o(i.pathname,a.pathname)):i.pathname=a.pathname:i.pathname||(i.pathname="/"),i}function locationsAreEqual(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&i(e.state,t.state)}function createTransitionManager(){var e=null;var t=[];return{setPrompt:function setPrompt(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function confirmTransitionTo(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):o(!0):o(!1!==a)}else o(!0)},appendListener:function appendListener(e){var n=!0;function listener(){n&&e.apply(void 0,arguments)}return t.push(listener),function(){n=!1,t=t.filter(function(e){return e!==listener})}},notifyListeners:function notifyListeners(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}n.d(t,"b",function(){return createMemoryHistory}),n.d(t,"a",function(){return createLocation}),n.d(t,"d",function(){return locationsAreEqual}),n.d(t,"c",function(){return createPath});"undefined"==typeof window||!window.document||window.document.createElement;function clamp(e,t,n){return Math.min(Math.max(e,t),n)}function createMemoryHistory(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,a=void 0===o?["/"]:o,i=t.initialIndex,c=void 0===i?0:i,u=t.keyLength,l=void 0===u?6:u,s=createTransitionManager();function setState(e){Object(r.a)(h,e),h.length=h.entries.length,s.notifyListeners(h.location,h.action)}function createKey(){return Math.random().toString(36).substr(2,l)}var f=clamp(c,0,a.length-1),p=a.map(function(e){return createLocation(e,void 0,"string"==typeof e?createKey():e.key||createKey())}),d=createPath;function go(e){var t=clamp(h.index+e,0,h.entries.length-1),r=h.entries[t];s.confirmTransitionTo(r,"POP",n,function(e){e?setState({action:"POP",location:r,index:t}):setState()})}var h={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:d,push:function push(e,t){var r=createLocation(e,t,createKey(),h.location);s.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=h.index+1,n=h.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),setState({action:"PUSH",location:r,index:t,entries:n})}})},replace:function replace(e,t){var r=createLocation(e,t,createKey(),h.location);s.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(h.entries[h.index]=r,setState({action:"REPLACE",location:r}))})},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},canGo:function canGo(e){var t=h.index+e;return t>=0&&t<h.entries.length},block:function block(e){return void 0===e&&(e=!1),s.setPrompt(e)},listen:function listen(e){return s.appendListener(e)}};return h}},function(e,t,n){"use strict";var r=n(64),o={};o[n(21)("toStringTag")]="z",o+""!="[object z]"&&n(40)(Object.prototype,"toString",function toString(){return"[object "+r(this)+"]"},!0)},function(e,t,n){"use strict";var r=n(121)(!0);n(75)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){for(var r=n(128),o=n(76),a=n(40),i=n(22),c=n(39),u=n(45),l=n(21),s=l("iterator"),f=l("toStringTag"),p=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),m=0;m<h.length;m++){var _,y=h[m],b=d[y],v=i[y],g=v&&v.prototype;if(g&&(g[s]||c(g,s,p),g[f]||c(g,f,y),u[y]=p,b))for(_ in r)g[_]||a(g,_,r[_],!0)}},function(e,t,n){var r=n(40);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(44),o=n(131),a=n(132),i=n(33),c=n(94),u=n(133),l={},s={};(t=e.exports=function(e,t,n,f,p){var d,h,m,_,y=p?function(){return e}:u(e),b=r(n,f,t?2:1),v=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(a(y)){for(d=c(e.length);d>v;v++)if((_=t?b(i(h=e[v])[0],h[1]):b(e[v]))===l||_===s)return _}else for(m=y.call(e);!(h=m.next()).done;)if((_=o(m,b,h.value,t))===l||_===s)return _}).BREAK=l,t.RETURN=s},function(e,t,n){"use strict";n.d(t,"b",function(){return FormErrorView}),n.d(t,"a",function(){return FormErrorClear}),n.d(t,"d",function(){return FormFieldView}),n.d(t,"c",function(){return FormFieldClear});var r=n(2),o=n(9);function FormErrorView(e,t){o.a.dispatch({type:r.fb,section:e,data:t.fields?t.fields:null})}function FormErrorClear(e){o.a.dispatch({type:r.fb,section:e,data:null})}function FormFieldView(e,t){o.a.dispatch({type:r.gb,section:e,data:t})}function FormFieldClear(e){o.a.dispatch({type:r.gb,section:e,data:null})}},function(e,t,n){"use strict";n.d(t,"d",function(){return UserPushUpdate}),n.d(t,"b",function(){return UserPushClose}),n.d(t,"a",function(){return UserPushActive}),n.d(t,"c",function(){return UserPushToken}),n.d(t,"e",function(){return UserPushView});var r=n(9),o=n(2);function UserPushUpdate(){r.a.dispatch({type:o.rb,push_update:(new Date).getTime()})}function UserPushClose(e){r.a.dispatch({type:o.pb,push_close:e})}function UserPushActive(e){r.a.dispatch({type:o.ob,push_active:e})}function UserPushToken(e){r.a.dispatch({type:o.qb,push_token:e})}function UserPushView(){r.a.dispatch({type:o.sb})}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,i,c){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,c],s=0;(u=new Error(t.replace(/%s/g,function(){return l[s++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"j",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return p});var r="CHAT_SUBSCRIBE",o="CHAT_UNSUBSCRIBE",a="CHAT_WRITE_BEGIN",i="CHAT_WRITE_END",c="CHAT_COMMENT_SUBSCRIBE",u="CHAT_COMMENT_UNSUBSCRIBE",l="CHAT_COMMENT_TREE_SUBSCRIBE",s="CHAT_COMMENT_TREE_UNSUBSCRIBE",f="CHAT_MESSAGE_SUBSCRIBE",p="CHAT_MESSAGE_UNSUBSCRIBE"},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n(1),c=n.n(i),u=n(48),l=n(6),s=n(23);function ScrollPositionBlock(e){var t=e.children,n=e.height_auto,a=e.dispatch,i=e.section,c=e.stateScroll,l=Object(r.useRef)(),s=Object(r.useRef)(),f=Object(r.useCallback)(function(){return s.current=l.current.scrollTop},[]);return Object(r.useLayoutEffect)(function(){return a(Object(u.e)(l.current,i,c)),function(){a(Object(u.c)(s.current,i))}},[a,i,c]),o.a.createElement("div",{ref:l,onScroll:f,className:"app-scroll"+(n?"":" app-scroll-style app-position-absolute")},t)}ScrollPositionBlock.propTypes={dispatch:c.a.func,children:l.a,section:c.a.string,height_auto:c.a.bool,stateScroll:c.a.bool};var f=Object(a.b)(function mapStateToProps(e,t){var n=e.defaultState;return{children:t.children,section:null!=t.section?t.section:s.a.location.pathname,stateScroll:null==t.stateScroll||t.stateScroll,height_auto:n.get("height_auto")}})(ScrollPositionBlock);t.a=f},function(e,t,n){var r=n(35),o=n(22),a=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(65)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(67),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(22).document;e.exports=r&&r.documentElement},function(e,t,n){var r,o,a,i=n(44),c=n(140),u=n(96),l=n(66),s=n(22),f=s.process,p=s.setImmediate,d=s.clearImmediate,h=s.MessageChannel,m=s.Dispatch,_=0,y={},b=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},v=function(e){b.call(e.data)};p&&d||(p=function setImmediate(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++_]=function(){c("function"==typeof e?e:Function(e),t)},r(_),_},d=function clearImmediate(e){delete y[e]},"process"==n(49)(f)?r=function(e){f.nextTick(i(b,e,1))}:m&&m.now?r=function(e){m.now(i(b,e,1))}:h?(a=(o=new h).port2,o.port1.onmessage=v,r=i(a.postMessage,a,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(r=function(e){s.postMessage(e+"","*")},s.addEventListener("message",v,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(i(b,e,1),0)}),e.exports={set:p,clear:d}},function(e,t,n){"use strict";var r=n(51);function PromiseCapability(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new PromiseCapability(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return RatingActionClear}),n.d(t,"b",function(){return RatingActionSuccess});var r=n(2),o=n(9);function RatingActionClear(){o.a.dispatch({type:r.kb})}function RatingActionSuccess(e){o.a.dispatch({type:r.lb,data:e})}},function(e,t,n){"use strict";var r=n(196),o="object"==typeof self&&self&&self.Object===Object&&self,a=(r.a||o||Function("return this")()).Symbol,i=Object.prototype,c=i.hasOwnProperty,u=i.toString,l=a?a.toStringTag:void 0;var s=function getRawTag(e){var t=c.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[l]=n:delete e[l]),o},f=Object.prototype.toString;var p=function objectToString(e){return f.call(e)},d="[object Null]",h="[object Undefined]",m=a?a.toStringTag:void 0;var _=function baseGetTag(e){return null==e?void 0===e?h:d:m&&m in Object(e)?s(e):p(e)};var y=function overArg(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var b=function isObjectLike(e){return null!=e&&"object"==typeof e},v="[object Object]",g=Function.prototype,w=Object.prototype,E=g.toString,S=w.hasOwnProperty,O=E.call(Object);var C=function isPlainObject(e){if(!b(e)||_(e)!=v)return!1;var t=y(e);if(null===t)return!0;var n=S.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==O},k=n(177),j={INIT:"@@redux/INIT"};function createStore_createStore(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(createStore_createStore)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,a=t,i=[],c=i,u=!1;function ensureCanMutateNextListeners(){c===i&&(c=i.slice())}function getState(){return a}function subscribe(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return ensureCanMutateNextListeners(),c.push(e),function unsubscribe(){if(t){t=!1,ensureCanMutateNextListeners();var n=c.indexOf(e);c.splice(n,1)}}}function dispatch(e){if(!C(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=o(a,e)}finally{u=!1}for(var t=i=c,n=0;n<t.length;n++){(0,t[n])()}return e}return dispatch({type:j.INIT}),(r={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function replaceReducer(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,dispatch({type:j.INIT})}})[k.a]=function observable(){var e,t=subscribe;return(e={subscribe:function subscribe(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function observeState(){e.next&&e.next(getState())}return observeState(),{unsubscribe:t(observeState)}}})[k.a]=function(){return this},e},r}function getUndefinedStateErrorMessage(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function combineReducers(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a=Object.keys(n);var i=void 0;try{!function assertReducerShape(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:j.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+j.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){i=e}return function combination(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(i)throw i;for(var r=!1,o={},c=0;c<a.length;c++){var u=a[c],l=n[u],s=e[u],f=l(s,t);if(void 0===f){var p=getUndefinedStateErrorMessage(u,t);throw new Error(p)}o[u]=f,r=r||f!==s}return r?o:e}}function bindActionCreator(e,t){return function(){return t(e.apply(void 0,arguments))}}function bindActionCreators(e,t){if("function"==typeof e)return bindActionCreator(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var a=n[o],i=e[a];"function"==typeof i&&(r[a]=bindActionCreator(i,t))}return r}var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function applyMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a,i=e(n,r,o),c=i.dispatch,u={getState:i.getState,dispatch:function dispatch(e){return c(e)}};return a=t.map(function(e){return e(u)}),c=function compose(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}.apply(void 0,a)(i.dispatch),T({},i,{dispatch:c})}}}n.d(t,"d",function(){return createStore_createStore}),n.d(t,"c",function(){return combineReducers}),n.d(t,"b",function(){return bindActionCreators}),n.d(t,"a",function(){return applyMiddleware})},function(e,t,n){"use strict";var r=n(24),o=n(9),a=n(2),i=n(57),c=n.n(i);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=new(function(e){function FetchFile(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FetchFile),(t=_possibleConstructorReturn(this,_getPrototypeOf(FetchFile).call(this,e))).files=[],t.index=0,t.select_max_files=5,t.uploading=0,t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(FetchFile,c.a),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(FetchFile,[{key:"addFiles",value:function addFiles(e){var t=[];if(e)for(var n=0;n<e.length;n++)if(this.files.length<this.select_max_files){var r={id:this.index,data:e[n],progress:0,error:""};this.files.push(r),t.push(r),this.index++}return t.map(function(e){return{id:e.id,name:e.data.name,progress:e.progress,error:e.error}})}},{key:"getFile",value:function getFile(e){return this.files.filter(function(t){return t.id==e})[0]}},{key:"removeFile",value:function removeFile(e){var t=this.getFile(e);t&&t.xhr&&(t.xhr.abort(),t.xhr=null),this.files=this.files.filter(function(t){return t.id!=e})}},{key:"removeAllFiles",value:function removeAllFiles(){var e=this.files.map(function(e){return e.id});for(var t in e)this.removeFile(e[t])}},{key:"start",value:function start(e){var t=this;if(!(this.uploading>=this.index)){var n=this.getFile(this.uploading);if(!n)return this.uploading++,this.start(e);var r=new XMLHttpRequest;if(r.uploading=this.uploading,this.emit("progress",{id:r.uploading,progress:0}),r.upload.onprogress=function(e){t.emit("progress",{id:r.uploading,progress:parseInt(e.loaded/e.total*100)})},r.onload=function(){if(200==r.status)try{t.emit("success",{id:r.uploading,data:JSON.parse(r.responseText).data})}catch(e){t.emit("success",{id:r.uploading,error:e})}else if(r.status>=400)try{t.emit("error",{id:r.uploading,error:JSON.parse(r.responseText).error})}catch(e){t.emit("error",{id:r.uploading,error:e})}t.start(e)},r.onerror=function(){try{t.emit("error",{id:r.uploading,error:JSON.parse(r.responseText).error})}catch(e){t.emit("error",{id:r.uploading,error:e})}t.start(e)},n.data){var o=new FormData;o.append("File",n.data),r.open("POST",e,!0),r.send(o)}n.xhr=r,this.uploading++}}}]),FetchFile}()),l=n(20);function onUploadDownloadDispatch(e){return function(t,n){var i=n().defaultState.get("token"),c=u.addFiles([{name:e}]),s=c[0],f={token:i,url:e};return o.a.dispatch({type:a.Z,files:c}),r.a.Ajax({type:l.z,param:f,send:"POST"}).then(function(e){return t(function(t,n){var r=n().filesState;return _onSuccess({id:s.id,data:e}),-1!=r.get("attaches").findIndex(function(e){return e.get("id")===s.id})?e:null})}).catch(function(e){return _onError({id:s.id,error:e})})}}function onUploadSelectDispatch(e,t){return function(n,i){var c=i().defaultState.get("token"),l=r.a.CreateFullUrlGet(t,{token:c}),s=u.addFiles(e);u.start(l),o.a.dispatch({type:a.Z,files:s})}}function onUploadCansel(e){u.removeFile(e),o.a.dispatch({type:a.V,file_id:e})}function onUploadDestroy(){u.removeAllFiles(),o.a.dispatch({type:a.W})}function onUploadEventProgress(e){u.on("progress",e)}function offUploadEventProgress(e){u.off("progress",e)}function onUploadEventSuccess(e){u.on("success",e)}function offUploadEventSuccess(e){u.off("success",e)}function onUploadEventError(e){u.on("error",e)}function offUploadEventError(e){u.off("error",e)}function _onSuccess(e){o.a.dispatch({type:a.ab,file_id:e.id,data:e.data}),setTimeout(function(){return onUploadCansel(e.id)},500)}function _onError(e){o.a.dispatch({type:a.X,file_id:e.id,error:e.error}),setTimeout(function(){return onUploadCansel(e.id)},3e3)}n.d(t,"f",function(){return onUploadDownloadDispatch}),n.d(t,"j",function(){return onUploadSelectDispatch}),n.d(t,"d",function(){return onUploadCansel}),n.d(t,"e",function(){return onUploadDestroy}),n.d(t,"h",function(){return onUploadEventProgress}),n.d(t,"b",function(){return offUploadEventProgress}),n.d(t,"i",function(){return onUploadEventSuccess}),n.d(t,"c",function(){return offUploadEventSuccess}),n.d(t,"g",function(){return onUploadEventError}),n.d(t,"a",function(){return offUploadEventError}),u.on("progress",function _onProgress(e){o.a.dispatch({type:a.Y,file_id:e.id,progress:e.progress})}),u.on("success",_onSuccess),u.on("error",_onError)},function(e,t,n){e.exports=!n(38)&&!n(50)(function(){return 7!=Object.defineProperty(n(66)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(30);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(33),o=n(123),a=n(95),i=n(69)("IE_PROTO"),c=function(){},u=function(){var e,t=n(66)("iframe"),r=a.length;for(t.style.display="none",n(96).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[a[r]];return u()};e.exports=Object.create||function create(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[i]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(49);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(68);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(22),o=n(42),a=n(38),i=n(21)("species");e.exports=function(e){var t=r[e];a&&t&&!t[i]&&o.f(t,i,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(30);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(21)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},e(a)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n(1),c=n.n(i),u=n(8),l=n(12),s=n(6);function _objectWithoutProperties(e,t){if(null==e)return{};var n,r,o=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function ScrollFixedView(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ScrollFixedView),t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(ScrollFixedView).call(this,e)),_defineProperty(_assertThisInitialized(t),"_PmWindowScroll",function(e){var n=e.scroll,r=t.props.vidjet_height,o=t.state.global_scroll,a=n>=0&&n<=r;(1==a||0==a&&1==(o>=0&&o<=r))&&t.setState(function(){return{global_scroll:n}}),t.setState(function(){return{scroll_active:!1}})}),_defineProperty(_assertThisInitialized(t),"_PmWindowScrollBegin",function(){return t.setState(function(){return{scroll_active:!0}})}),_defineProperty(_assertThisInitialized(t),"componentDidMountUpdate",function(){t.elem.current.clientHeight!=t.state.client_height&&t.setState(function(){return{client_height:t.elem.current.clientHeight}})}),_defineProperty(_assertThisInitialized(t),"componentDidMount",function(){Object(u.b)(l.y,t._PmWindowScroll),Object(u.b)(l.z,t._PmWindowScrollBegin),t.componentDidMountUpdate()}),_defineProperty(_assertThisInitialized(t),"componentWillUnmount",function(){Object(u.a)(l.y,t._PmWindowScroll),Object(u.a)(l.z,t._PmWindowScrollBegin)}),_defineProperty(_assertThisInitialized(t),"componentDidUpdate",function(){t.componentDidMountUpdate();var e=!(t.state.scroll_active||t.props.vidjet_height<=t.props.window_height);t.state.default_active_state!=e&&t.setState(function(){return{default_active_state:e}})}),_defineProperty(_assertThisInitialized(t),"render",function(){var e=t.state,n=e.global_scroll,r=e.client_height,a=e.scroll_active,i=e.default_active_state,c=t.props,u=c.window_height,l=c.vidjet_height,s=c.children,f=c.position,p=c.faik_space,d=c.border,h=!(a||l<=u),m=1-d-("top"==f?0:u/2),_=l-u-1+d+("top"==f?u/2:0),y=Math.min(_,Math.max(m,n)),b={position:"absolute",left:0,right:0,zIndex:2,backgroundColor:"#fff",top:h&&"top"==f?y-1+d+"px":"",bottom:h&&"bottom"==f?l-y-u+d-1+"px":""},v=h&&m!=y&&_!=y?"app-scroll-fixed-effect"+(i?" apper":""):null;return o.a.createElement(o.a.Fragment,null,h&&p&&o.a.createElement("div",{style:{height:r+"px"}}),o.a.createElement("div",{ref:t.elem,className:v,style:h?b:null},s))}),t.elem=o.a.createRef(),t.state={client_height:0,global_scroll:0,scroll_active:!0,default_active_state:e.vidjet_height<=e.window_height},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ScrollFixedView,o.a.Component),ScrollFixedView}();_defineProperty(f,"propTypes",{window_height:c.a.number,vidjet_height:c.a.number,children:s.a,position:c.a.string,faik_space:c.a.bool,border:c.a.number});var p=function ScrollFixedBlock(e){var t=e.height_auto,n=e.children,r=_objectWithoutProperties(e,["height_auto","children"]);return t?o.a.createElement(f,r,n):n};p.propTypes={vidjet_sso:c.a.bool,height_auto:c.a.bool,children:s.a};var d=Object(a.b)(function mapStateToPropsHeightAuto(e,t){var n=e.defaultState;return{height_auto:n.get("height_auto"),window_height:n.get("window_height"),vidjet_height:n.get("vidjet_height"),children:t.children,position:t.position,faik_space:t.faik_space,border:n.get("top"==t.position?"scroll_border_top":"scroll_border_bottom")}})(p);t.a=d},function(e,t,n){"use strict";var r="undefined"!=typeof self;function promisifyRequest(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function promisifyRequestCall(e,t,n){var r,o=new Promise(function(o,a){promisifyRequest(r=e[t].apply(e,n)).then(o,a)});return o.request=r,o}function proxyProperties(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function get(){return this[t][n]},set:function set(e){this[t][n]=e}})})}function proxyRequestMethods(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return promisifyRequestCall(this[t],r,arguments)})})}function proxyMethods(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function proxyCursorRequestMethods(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return function promisifyCursorRequestCall(e,t,n){var r=promisifyRequestCall(e,t,n);return r.then(function(e){if(e)return new Cursor(e,r.request)})}(this[t],r,arguments)})})}function Index(e){this._index=e}function Cursor(e,t){this._cursor=e,this._request=t}function ObjectStore(e){this._store=e}function Transaction(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function UpgradeDB(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Transaction(n)}function DB(e){this._db=e}proxyProperties(Index,"_index",["name","keyPath","multiEntry","unique"]),r&&"IDBIndex"in self&&(proxyRequestMethods(Index,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),proxyCursorRequestMethods(Index,"_index",IDBIndex,["openCursor","openKeyCursor"])),proxyProperties(Cursor,"_cursor",["direction","key","primaryKey","value"]),r&&"IDBCursor"in self&&(proxyRequestMethods(Cursor,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Cursor.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),promisifyRequest(t._request).then(function(e){if(e)return new Cursor(e,t._request)})})})})),ObjectStore.prototype.createIndex=function(){return new Index(this._store.createIndex.apply(this._store,arguments))},ObjectStore.prototype.index=function(){return new Index(this._store.index.apply(this._store,arguments))},proxyProperties(ObjectStore,"_store",["name","keyPath","indexNames","autoIncrement"]),r&&"IDBObjectStore"in self&&(proxyRequestMethods(ObjectStore,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),proxyCursorRequestMethods(ObjectStore,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),proxyMethods(ObjectStore,"_store",IDBObjectStore,["deleteIndex"])),Transaction.prototype.objectStore=function(){return new ObjectStore(this._tx.objectStore.apply(this._tx,arguments))},proxyProperties(Transaction,"_tx",["objectStoreNames","mode"]),r&&"IDBTransaction"in self&&proxyMethods(Transaction,"_tx",IDBTransaction,["abort"]),UpgradeDB.prototype.createObjectStore=function(){return new ObjectStore(this._db.createObjectStore.apply(this._db,arguments))},proxyProperties(UpgradeDB,"_db",["name","version","objectStoreNames"]),r&&"IDBDatabase"in self&&proxyMethods(UpgradeDB,"_db",IDBDatabase,["deleteObjectStore","close"]),DB.prototype.transaction=function(){return new Transaction(this._db.transaction.apply(this._db,arguments))},proxyProperties(DB,"_db",["name","version","objectStoreNames"]),r&&"IDBDatabase"in self&&proxyMethods(DB,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[ObjectStore,Index].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=function toArray(e){return Array.prototype.slice.call(e)}(arguments),n=t[t.length-1],r=this._store||this._index,o=r[e].apply(r,t.slice(0,-1));o.onsuccess=function(){n(o.result)}})})}),[Index,ObjectStore].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(o){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():o(r)):o(r)})})})}),t.a={support:function support(){return r&&!!self.indexedDB},open:function open(e,t,n){var r;return new Promise(function(o,a){(r=indexedDB.open.apply(indexedDB,[e,t])).onupgradeneeded=function(e){n&&n(new UpgradeDB(r.result,e.oldVersion,r.transaction))},promisifyRequest(r).then(o,a)}).then(function(e){return new DB(e)})},remove:function remove(e){return promisifyRequestCall(indexedDB,"deleteDatabase",[e])}}},function(e,t,n){"use strict";n.d(t,"a",function(){return onRatingAction}),n.d(t,"b",function(){return onUpdateRaitingDispatch});var r=n(24),o=n(99),a=n(20);n(5);function onRatingAction(e,t){return r.a.Ajax({type:a.w,param:{comment_id:e,token:t},send:"GET"}).then(function(e){return Object(o.b)(e),e})}function onUpdateRaitingDispatch(e,t){return function(n,o){var i=o().defaultState.get("token");return r.a.Ajax({type:t?a.x:a.v,param:{comment_id:e,token:i},send:"POST"})}}},function(e,t,n){e.exports=n(202)()},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(27),u=n(6);function FormButtonView(e){var t=e.click,n=e.children;return o.a.createElement(c.a,{className:"app-button s-color-Background",classDefault:"s-bg-Main",classHover:"s-bg-MainMiddleDark",onClick:t},n)}FormButtonView.propTypes={click:i.a.func,children:u.a},t.a=FormButtonView},function(e,t,n){"use strict";n.d(t,"d",function(){return onUserProfile}),n.d(t,"b",function(){return onUserLogin}),n.d(t,"e",function(){return onUserReg}),n.d(t,"c",function(){return onUserLoginSSO}),n.d(t,"f",function(){return onUserReload}),n.d(t,"a",function(){return onUserExit}),n.d(t,"g",function(){return onUserSocial});var r=n(24),o=n(20),a=n(13),i=n(88),c=n(37),u=n(36),l=n(73),s=n(120),f=n(2),p=n(5);function onUserToken(e){return function(t,n){var r=n().defaultState.get("vidjet_sso");if(Object(a.r)(e),!r){Object(u.m)(e);try{l.a.set("db_token",e)}catch(e){console.error("onUserToken",e)}}}}function onUserProfile(e){return function(t,n){var r=n().defaultState,o=r.get("vidjet_sso"),i=r.get("site_id");if(Object(a.q)(e,i),!o)try{Object(u.l)(JSON.stringify(e)),Object(a.j)(Object(u.h)())}catch(e){console.error(e)}}}function onLoad(e,t,n){return function(o){return r.a.Ajax({type:t,param:e,send:"POST"}).then(function(e){switch(o(onUserToken(e.token)),o(onUserProfile(e.profile)),Object(i.a)(t),Object(s.a)(),n){case"login":window.yandexReachGoal("vidjet_login");break;case"reg":window.yandexReachGoal("vidjet_reg");break;case"sso":window.yandexReachGoal("vidjet_sso")}}).catch(function(e){throw e.data&&Object(i.b)(t,e.data),e})}}function onUserLogin(e){return function(t){return t(onLoad(e,o.a,"login"))}}function onUserReg(e){return function(t){return t(onLoad(e,o.c,"reg"))}}function onUserLoginSSO(e){return function(t){return t({type:f.C,data:!0}),t(onLoad(e,o.d,"sso"))}}function onUserReload(){return function(e,t){var n=t().defaultState.get("token");return r.a.Ajax({type:o.b,param:{token:n},send:"POST"}).then(function(t){e(onUserToken(t.token)),e(onUserProfile(t.profile))})}}function onUserExit(){return function(e,t){var n=t().defaultState.get("vidjet_sso");if(Object(a.f)(),Object(s.a)(),Object(p.m)(),Object(c.d)(),!n){Object(u.j)(),Object(u.k)(),Object(u.g)();try{l.a.delete("db_token")}catch(e){console.error("onUserExit",e)}}}}function onUserSocial(e){return function(t){t(onUserToken(e.token)),t(onUserProfile(e.profile)),Object(s.a)(),window.yandexReachGoal("vidjet_social")}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,c=function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(c[l]=n[l]);if(r){i=r(n);for(var s=0;s<i.length;s++)a.call(n,i[s])&&(c[i[s]]=n[i[s]])}}return c}},function(e,t,n){"use strict";n(0);var r=n(4),o=n(1),a=n.n(o),i=n(6);function BrendWhitelabel(e){return!e.white_label&&e.children}BrendWhitelabel.propTypes={white_label:a.a.bool,children:i.a};var c=Object(r.b)(function mapStateToProps(e){return{white_label:e.defaultState.getIn(["site_settings","white_label"])}})(BrendWhitelabel);t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return MainActionClear}),n.d(t,"b",function(){return MainActionSuccess});var r=n(2),o=n(9);function MainActionClear(){o.a.dispatch({type:r.hb})}function MainActionSuccess(e){o.a.dispatch({type:r.jb,data:e.chats})}},function(e,t,n){var r=n(67),o=n(68);e.exports=function(e){return function(t,n){var a,i,c=String(o(t)),u=r(n),l=c.length;return u<0||u>=l?e?"":void 0:(a=c.charCodeAt(u))<55296||a>56319||u+1===l||(i=c.charCodeAt(u+1))<56320||i>57343?e?c.charAt(u):a:e?c.slice(u,u+2):i-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(104),o=n(74),a=n(56),i={};n(39)(i,n(21)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(42),o=n(33),a=n(76);e.exports=n(38)?Object.defineProperties:function defineProperties(e,t){o(e);for(var n,i=a(t),c=i.length,u=0;c>u;)r.f(e,n=i[u++],t[n]);return e}},function(e,t,n){var r=n(43),o=n(55),a=n(125)(!1),i=n(69)("IE_PROTO");e.exports=function(e,t){var n,c=o(e),u=0,l=[];for(n in c)n!=i&&r(c,n)&&l.push(n);for(;t.length>u;)r(c,n=t[u++])&&(~a(l,n)||l.push(n));return l}},function(e,t,n){var r=n(55),o=n(94),a=n(126);e.exports=function(e){return function(t,n,i){var c,u=r(t),l=o(u.length),s=a(i,l);if(e&&n!=n){for(;l>s;)if((c=u[s++])!=c)return!0}else for(;l>s;s++)if((e||s in u)&&u[s]===n)return e||s||0;return!e&&-1}}},function(e,t,n){var r=n(67),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):a(e,t)}},function(e,t,n){var r=n(43),o=n(106),a=n(69)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){"use strict";var r=n(129),o=n(107),a=n(45),i=n(55);e.exports=n(75)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(21)("unscopables"),o=Array.prototype;null==o[r]&&n(39)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){"use strict";var r=n(42).f,o=n(104),a=n(85),i=n(44),c=n(86),u=n(87),l=n(75),s=n(107),f=n(108),p=n(38),d=n(134).fastKey,h=n(109),m=p?"_s":"size",_=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var s=e(function(e,r){c(e,s,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&u(r,n,e[l],e)});return a(s.prototype,{clear:function clear(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=_(n,e);if(r){var o=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=o),o&&(o.p=a),n._f==r&&(n._f=o),n._l==r&&(n._l=a),n[m]--}return!!r},forEach:function forEach(e){h(this,t);for(var n,r=i(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function has(e){return!!_(h(this,t),e)}}),p&&r(s.prototype,"size",{get:function(){return h(this,t)[m]}}),s},def:function(e,t,n){var r,o,a=_(e,t);return a?a.v=n:(e._l=a={i:o=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[m]++,"F"!==o&&(e._i[o]=a)),e},getEntry:_,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?s(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,s(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){var r=n(33);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(45),o=n(21)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},function(e,t,n){var r=n(64),o=n(21)("iterator"),a=n(45);e.exports=n(35).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var r=n(54)("meta"),o=n(30),a=n(43),i=n(42).f,c=0,u=Object.isExtensible||function(){return!0},l=!n(50)(function(){return u(Object.preventExtensions({}))}),s=function(e){i(e,r,{value:{i:"O"+ ++c,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!u(e))return"F";if(!t)return"E";s(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!u(e))return!0;if(!t)return!1;s(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!a(e,r)&&s(e),e}}},function(e,t,n){"use strict";var r=n(22),o=n(59),a=n(40),i=n(85),c=n(134),u=n(87),l=n(86),s=n(30),f=n(50),p=n(110),d=n(56),h=n(155);e.exports=function(e,t,n,m,_,y){var b=r[e],v=b,g=_?"set":"add",w=v&&v.prototype,E={},S=function(e){var t=w[e];a(w,e,"delete"==e?function(e){return!(y&&!s(e))&&t.call(this,0===e?0:e)}:"has"==e?function has(e){return!(y&&!s(e))&&t.call(this,0===e?0:e)}:"get"==e?function get(e){return y&&!s(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function add(e){return t.call(this,0===e?0:e),this}:function set(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof v&&(y||w.forEach&&!f(function(){(new v).entries().next()}))){var O=new v,C=O[g](y?{}:-0,1)!=O,k=f(function(){O.has(1)}),j=p(function(e){new v(e)}),T=!y&&f(function(){for(var e=new v,t=5;t--;)e[g](t,t);return!e.has(-0)});j||((v=t(function(t,n){l(t,v,e);var r=h(new b,t,v);return null!=n&&u(n,_,r[g],r),r})).prototype=w,w.constructor=v),(k||T)&&(S("delete"),S("has"),_&&S("get")),(T||C)&&S(g),y&&w.clear&&delete w.clear}else v=m.getConstructor(t,e,_,g),i(v.prototype,n),c.NEED=!0;return d(v,e),E[e]=v,o(o.G+o.W+o.F*(v!=b),E),y||m.setStrong(v,e,_),v}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){n(82),n(83),n(84),n(138),e.exports=n(35).Promise},function(e,t,n){"use strict";var r,o,a,i,c=n(65),u=n(22),l=n(44),s=n(64),f=n(59),p=n(30),d=n(51),h=n(86),m=n(87),_=n(139),y=n(97).set,b=n(141)(),v=n(98),g=n(142),w=n(143),E=n(144),S=u.TypeError,O=u.process,C=O&&O.versions,k=C&&C.v8||"",j=u.Promise,T="process"==s(O),P=function(){},x=o=v.f,I=!!function(){try{var e=j.resolve(1),t=(e.constructor={})[n(21)("species")]=function(e){e(P,P)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==k.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,o=1==e._s,a=0,i=function(t){var n,a,i,c=o?t.ok:t.fail,u=t.resolve,l=t.reject,s=t.domain;try{c?(o||(2==e._h&&L(e),e._h=1),!0===c?n=r:(s&&s.enter(),n=c(r),s&&(s.exit(),i=!0)),n===t.promise?l(S("Promise-chain cycle")):(a=M(n))?a.call(n,u,l):u(n)):l(r)}catch(e){s&&!i&&s.exit(),l(e)}};n.length>a;)i(n[a++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){y.call(u,function(){var t,n,r,o=e._v,a=R(e);if(a&&(t=g(function(){T?O.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=T||R(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){y.call(u,function(){var t;T?O.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=M(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,l(F,r,1),l(D,r,1))}catch(e){D.call(r,e)}}):(n._v=e,n._s=1,A(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};I||(j=function Promise(e){h(this,j,"Promise","_h"),d(e),r.call(this);try{e(l(F,this,1),l(D,this,1))}catch(e){D.call(this,e)}},(r=function Promise(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(85)(j.prototype,{then:function then(e,t){var n=x(_(this,j));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=l(F,e,1),this.reject=l(D,e,1)},v.f=x=function(e){return e===j||e===i?new a(e):o(e)}),f(f.G+f.W+f.F*!I,{Promise:j}),n(56)(j,"Promise"),n(108)("Promise"),i=n(35).Promise,f(f.S+f.F*!I,"Promise",{reject:function reject(e){var t=x(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(c||!I),"Promise",{resolve:function resolve(e){return E(c&&this===i?j:this,e)}}),f(f.S+f.F*!(I&&n(110)(function(e){j.all(e).catch(P)})),"Promise",{all:function all(e){var t=this,n=x(t),r=n.resolve,o=n.reject,a=g(function(){var n=[],a=0,i=1;m(e,!1,function(e){var c=a++,u=!1;n.push(void 0),i++,t.resolve(e).then(function(e){u||(u=!0,n[c]=e,--i||r(n))},o)}),--i||r(n)});return a.e&&o(a.v),n.promise},race:function race(e){var t=this,n=x(t),r=n.reject,o=g(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){var r=n(33),o=n(51),a=n(21)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||null==(n=r(i)[a])?t:o(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(22),o=n(97).set,a=r.MutationObserver||r.WebKitMutationObserver,i=r.process,c=r.Promise,u="process"==n(49)(i);e.exports=function(){var e,t,n,l=function(){var r,o;for(u&&(r=i.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){i.nextTick(l)};else if(!a||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var s=c.resolve(void 0);n=function(){s.then(l)}}else n=function(){o.call(r,l)};else{var f=!0,p=document.createTextNode("");new a(l).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(22).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(33),o=n(30),a=n(98);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";n.d(t,"a",function(){return goAwardDefault}),n.d(t,"b",function(){return goAwardGroup}),n.d(t,"c",function(){return goAwardItem});var r=n(5);function goAwardDefault(e,t){Object(r.c)("/award"+(e?"/"+e:""),t)}function goAwardGroup(e,t){Object(r.c)("/award/"+e+"/"+t)}function goAwardItem(e,t,n){Object(r.c)("/award/"+e+"/item/"+t,n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return onLoadAnswerDispatch}),n.d(t,"b",function(){return onLoadProfileDispatch}),n.d(t,"c",function(){return onUserMailConfirm});var r=n(24),o=n(20);function onLoadAnswerDispatch(){return function(e,t){var n=t().defaultState;return r.a.Ajax({type:o.B,param:{token:n.get("token"),site_id:n.get("site_id"),lang:n.getIn(["profile","lang"])},send:"GET"})}}function onLoadProfileDispatch(e){return function(t,n){var a=n().defaultState;return r.a.Ajax({type:o.K,param:{user_id:e,site_id:a.get("site_id"),token:a.get("token"),lang:a.getIn(["profile","lang"])},send:"GET"})}}function onUserMailConfirm(e){return r.a.Ajax({type:o.J,param:{token:e},send:"POST",ok:!0})}},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n.n(o),i=n(6);function HeightAutoCondition(e){return e.height_auto?e.children:null}HeightAutoCondition.propTypes={height_auto:a.a.bool,children:i.a};var c=Object(r.b)(function mapStateToProps(e,t){return{height_auto:e.defaultState.get("height_auto")==t.defaultValue}})(HeightAutoCondition);c.propTypes={defaultValue:a.a.bool.isRequired,children:i.a},t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return onCommentApiEdit}),n.d(t,"b",function(){return onCommentEditApi});var r=n(24),o=n(20),a=n(18),i=n(13);function onCommentApiEdit(e){return function(){return r.a.Ajax({type:o.m,param:e,send:"POST"})}}function onCommentEditApi(e){return function(t,n){var c=n(),u=c.defaultState,l=c.chatState,s=u.getIn(["profile","lang"]),f=u.get("token");return r.a.Ajax({type:o.m,param:{token:f,id:e,lang:s},send:"GET"}).then(function(e){var t=e.id,n=e.text,r=e.attache,o=e.answer_comment,i=l.get("key_chat");if(i){Object(a.g)(t,i),null!=o&&Object(a.a)(o,i),Object(a.n)(n,i);for(var c=0,u=r.length;c<u;c++)Object(a.c)(r[c],i);return Object(a.h)(1e4),e}return null}).catch(function(e){return Object(i.b)(e.message),null})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return LoaderMini});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(34);function LoaderMini(e){var t=Object(r.useContext)(c.a).colorMain;return o.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 100 100",className:"app-icon",preserveAspectRatio:"xMidYMid"},o.a.createElement("circle",{cx:50,cy:50,fill:"none",stroke:t,strokeWidth:15,r:35,strokeDasharray:"164.93361431346415 56.97787143782138",transform:"rotate(5.77 50 50)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})))}LoaderMini.propTypes={size:i.a.number,color:i.a.string}},function(e,t,n){"use strict";n.d(t,"a",function(){return UserAdminView});var r=n(0),o=n.n(r),a=n(41);function UserAdminView(){var e=Object(r.useContext)(a.a);return o.a.createElement("span",{className:"s-bg-Main s-color-Background app-user-admin","data-name":e.getText("User-Adm")})}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(7),u=n(11),l=n(149),s=n(27),f=n(25);function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ChatItemRatingView(e){var t=e.onUpdate,n=e.user_val,a=e.val,i=e.myProfile,c=e.goRaiting,u=_slicedToArray(Object(r.useState)(!1),2),p=u[0],d=u[1],h=Object(r.useCallback)(function(){n<=0&&(d(!0),t(!0).then(function(){return d(!1)}))},[t,n]),m=Object(r.useCallback)(function(){n>=0&&(d(!0),t(!1).then(function(){return d(!1)}))},[t,n]);Object(r.useEffect)(function(){if(p){var e=setTimeout(function(){return d(!1)},3e3);return function(){return clearTimeout(e)}}},[p]);return o.a.createElement("div",{className:"app-comment-rating"},o.a.createElement("span",{className:"acr-val "+(a>0?"s-color-Main":"s-color-MainMiddle"),onClick:c},p?o.a.createElement(l.a,{size:18}):(0!=a?a>0?"+":"−":"")+Object(f.i)(Math.abs(a))),!i&&o.a.createElement("div",{className:"acr-block s-border-MainMiddle"},o.a.createElement(s.a,{className:"acr-item",classDefault:n>0?"s-color-Background s-bg-MainMiddle":"s-color-Main s-bg-Background",classHover:"s-color-Main s-bg-MainMiddle",onClick:h},"+"),o.a.createElement("div",{className:"ar-border s-bg-MainMiddle"}),o.a.createElement(s.a,{className:"acr-item",classDefault:n<0?"s-color-Background s-bg-MainMiddle":"s-color-Main s-bg-Background",classHover:"s-color-Main s-bg-MainMiddle",onClick:m},"−")))}ChatItemRatingView.propTypes={goRaiting:i.a.func,onUpdate:i.a.func,user_val:i.a.number,val:i.a.number,myProfile:i.a.bool};var p=n(41),d=n(13),h=n(29);function ChatItemTimeView(e){var t=e.data_create,n=e.edited,a=Object(r.useContext)(p.a).getDateFormat,i=Object(r.useCallback)(function(e){e.stopPropagation(),Object(d.b)(a(t,h.f))},[t,a]);return o.a.createElement("div",{className:"snippet s-color-MainMiddle"},n&&o.a.createElement(c.o,{hover:o.a.createElement(u.a,{msg:"edited"})},o.a.createElement("span",{className:"icon icon-pencil"})," "),o.a.createElement("span",{className:"datetime",onClick:i,title:a(t,h.f)},o.a.createElement(u.b,{datetime:t,format:h.a})))}ChatItemTimeView.propTypes={data_create:i.a.string,edited:i.a.bool};var m=n(4),_=n(60);function chat_item_attache_youtube_veiw_slicedToArray(e,t){return function chat_item_attache_youtube_veiw_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function chat_item_attache_youtube_veiw_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function chat_item_attache_youtube_veiw_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ChatAttacheYoutubeView(e){var t=e.videoplay,n=e.youtubeid,a=e.onPlay,i=chat_item_attache_youtube_veiw_slicedToArray(Object(r.useState)({width:0,height:0}),2),u=i[0],l=i[1],s=Object(r.useCallback)(function(e,t){l({width:e,height:t})},[]),f="https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&autoplay=1",p="https://i.ytimg.com/vi/"+n+"/hqdefault.jpg";return o.a.createElement("div",{className:"attache-youtube"},o.a.createElement(c.r,{width:2400,height:1800,onResize:s},t?o.a.createElement("iframe",{className:"resizeing",src:f,frameBorder:"0",allowFullScreen:"allowfullscreen",width:u.width,height:u.height}):o.a.createElement(_.a,null,o.a.createElement(c.i,{className:"app-custom-image",src:p}),o.a.createElement("div",{className:"play",onClick:a}))))}ChatAttacheYoutubeView.propTypes={videoplay:i.a.bool,youtubeid:i.a.string,onPlay:i.a.func};var y=n(17);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function ChatYoutubeContainer(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatYoutubeContainer);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,(e=_getPrototypeOf(ChatYoutubeContainer)).call.apply(e,[this].concat(r))),function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(_assertThisInitialized(t),"onPlay",function(){Object(y.m)(t.props.comment_id)}),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ChatYoutubeContainer,o.a.Component),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ChatYoutubeContainer,[{key:"render",value:function render(){return o.a.createElement(ChatAttacheYoutubeView,{videoplay:this.props.videoplay,youtubeid:this.props.youtubeid,onPlay:this.onPlay})}}]),ChatYoutubeContainer}();b.propTypes={youtubeid:i.a.string,videoplay:i.a.bool,comment_id:i.a.number};var v=Object(m.b)(function mapStateToProps(e,t){return{videoplay:e.chatState.get("videoplay")==t.comment_id,comment_id:t.comment_id,youtubeid:t.youtubeid}})(b),g=n(77);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function chat_item_attache_images_view_typeof(e){return(chat_item_attache_images_view_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function chat_item_attache_images_view_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function chat_item_attache_images_view_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function chat_item_attache_images_view_createClass(e,t,n){return t&&chat_item_attache_images_view_defineProperties(e.prototype,t),n&&chat_item_attache_images_view_defineProperties(e,n),e}function chat_item_attache_images_view_possibleConstructorReturn(e,t){return!t||"object"!==chat_item_attache_images_view_typeof(t)&&"function"!=typeof t?chat_item_attache_images_view_assertThisInitialized(e):t}function chat_item_attache_images_view_getPrototypeOf(e){return(chat_item_attache_images_view_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function chat_item_attache_images_view_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function chat_item_attache_images_view_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&chat_item_attache_images_view_setPrototypeOf(e,t)}function chat_item_attache_images_view_setPrototypeOf(e,t){return(chat_item_attache_images_view_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function ImageItemView(){var e,t;chat_item_attache_images_view_classCallCheck(this,ImageItemView);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function chat_item_attache_images_view_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(chat_item_attache_images_view_assertThisInitialized(t=chat_item_attache_images_view_possibleConstructorReturn(this,(e=chat_item_attache_images_view_getPrototypeOf(ImageItemView)).call.apply(e,[this].concat(r)))),"onClick",function(){Object(g.a)(t.props.src)}),t}return chat_item_attache_images_view_inherits(ImageItemView,o.a.Component),chat_item_attache_images_view_createClass(ImageItemView,[{key:"render",value:function render(){var e=this.props,t=e.style,n=e.width,r=e.height,a=e.src;return o.a.createElement("div",{style:{width:t+"%"},onClick:this.onClick,className:"app-cursor"},o.a.createElement(c.r,{width:n,height:r},o.a.createElement(_.a,null,o.a.createElement(c.i,{className:"app-custom-image",src:a}))))}}]),ImageItemView}();w.propTypes={style:i.a.number,width:i.a.number,height:i.a.number,src:i.a.string};var E=[100],S=[49.5,49.5],O=[32.6,32.6,32.6],C=function(e){function ChatAttacheImagesView(){return chat_item_attache_images_view_classCallCheck(this,ChatAttacheImagesView),chat_item_attache_images_view_possibleConstructorReturn(this,chat_item_attache_images_view_getPrototypeOf(ChatAttacheImagesView).apply(this,arguments))}return chat_item_attache_images_view_inherits(ChatAttacheImagesView,o.a.Component),chat_item_attache_images_view_createClass(ChatAttacheImagesView,[{key:"getTemplate",value:function getTemplate(e){switch(e){case 1:return[E];case 2:return[S];case 3:return[O];case 4:return[S,S];case 5:return[S,O]}}},{key:"render",value:function render(){var e=this;return this.getTemplate(this.props.data.length).map(function(t,n){return o.a.createElement("div",{className:"comment_images",key:n},t.map(function(t,n){return o.a.createElement(w,_extends({key:n},e.props.data[n],{style:t}))}))})}}]),ChatAttacheImagesView}(),k=n(15);function chat_item_attache_giffy_view_typeof(e){return(chat_item_attache_giffy_view_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function chat_item_attache_giffy_view_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function chat_item_attache_giffy_view_getPrototypeOf(e){return(chat_item_attache_giffy_view_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function chat_item_attache_giffy_view_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function chat_item_attache_giffy_view_setPrototypeOf(e,t){return(chat_item_attache_giffy_view_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function chat_item_attache_giffy_view_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function MP4ItemView(){var e,t;!function chat_item_attache_giffy_view_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MP4ItemView);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=function chat_item_attache_giffy_view_possibleConstructorReturn(e,t){return!t||"object"!==chat_item_attache_giffy_view_typeof(t)&&"function"!=typeof t?chat_item_attache_giffy_view_assertThisInitialized(e):t}(this,(e=chat_item_attache_giffy_view_getPrototypeOf(MP4ItemView)).call.apply(e,[this].concat(r))),chat_item_attache_giffy_view_defineProperty(chat_item_attache_giffy_view_assertThisInitialized(t),"state",{width:0,height:0}),chat_item_attache_giffy_view_defineProperty(chat_item_attache_giffy_view_assertThisInitialized(t),"onResize",function(e,n){t.setState({width:e,height:n})}),chat_item_attache_giffy_view_defineProperty(chat_item_attache_giffy_view_assertThisInitialized(t),"onPlay",function(){t.video.paused&&t.video.play()}),t}return function chat_item_attache_giffy_view_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&chat_item_attache_giffy_view_setPrototypeOf(e,t)}(MP4ItemView,o.a.Component),function chat_item_attache_giffy_view_createClass(e,t,n){return t&&chat_item_attache_giffy_view_defineProperties(e.prototype,t),n&&chat_item_attache_giffy_view_defineProperties(e,n),e}(MP4ItemView,[{key:"render",value:function render(){var e=this;return o.a.createElement(c.r,{width:this.props.width,height:this.props.height,onResize:this.onResize},o.a.createElement(_.a,null,o.a.createElement("video",{width:this.state.width,height:this.state.height,loop:"loop",preload:"preload",poster:this.props.src,ref:function ref(t){return e.video=t},onClick:this.onPlay,playsInline:"playsinline",muted:"muted",autoPlay:"autoPlay"},o.a.createElement("source",{src:this.props.video,type:"video/mp4"}))))}}]),MP4ItemView}();function ChatAttacheGiffyView(e){return e.data.map(function(e){return o.a.createElement("div",{key:e.src,className:"comment_attache_padding"},k.o&&o.a.createElement(c.r,{width:e.width,height:e.height},o.a.createElement(_.a,null,o.a.createElement(c.h,{width:e.width,height:e.height,src:e.webp}))),!k.o&&o.a.createElement(j,e))})}j.propTypes={width:i.a.number,height:i.a.number,src:i.a.string,video:i.a.string};var T=["giffy","youtube","images"];function ChatItemAttacheView(e){return e.items?e.items.sort(function(e,t){return T.indexOf(e.type)-T.indexOf(t.type)}).map(function(t,n){switch(t.type){case"youtube":return o.a.createElement(v,{key:n,youtubeid:t.data,comment_id:e.comment_id});case"images":return o.a.createElement(C,{key:n,data:t.data});case"giffy":return o.a.createElement(ChatAttacheGiffyView,{key:n,data:t.data});default:return null}}):null}var P=n(5),x=n(150);function chat_item_desc_view_slicedToArray(e,t){return function chat_item_desc_view_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function chat_item_desc_view_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function chat_item_desc_view_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ChatItemDescView(e){var t=e.comment,n=e.isShowBottom,a=e.isModerator,i=e.timeCommentFormat,l=e.profile_id,f=e.onRaitingUpdate,p=e.onAnswerCreate,d=e.goProfile,h=e.focus,m=e.menu,_=t.id,y=t.user,b=t.data_create,v=t.attaches,g=t.edited,w=t.text_template,E=t.raiting,S=t.fixed,O=chat_item_desc_view_slicedToArray(Object(r.useState)(!1),2),C=O[0],k=O[1];Object(r.useEffect)(function(){h&&k(!0)},[h]),Object(r.useEffect)(function(){if(C){var e=setTimeout(function(){return k(!1)},3e3);return function(){return clearTimeout(e)}}},[C]);var j=l==y.id,T="desc-p"+(v.length>0?"":" desc-p-no-attache"),I=0!=i||g?"<span class='space'></span>":"",M=Object(r.useCallback)(function(){return Object(P.r)(_)},[_]),A=Object(r.useCallback)(function(e){return f(_,e)},[_,f]),N=Object(r.useCallback)(function(){return p(_)},[_,p]),R=Object(r.useCallback)(function(e){e.stopPropagation(),d(y.id)},[d,y.id]),L=Object(r.useCallback)(function(){return Object(P.c)("/comment/"+_)},[_]),D=""!=w?w+I:"";return o.a.createElement("div",{className:"desc"},o.a.createElement("div",{className:"desc-r s-bg-Main"+(C?"Middle":"Light")},o.a.createElement("div",{className:T},o.a.createElement("div",{className:"desc-pos"},o.a.createElement("div",{className:"menus"},m&&n&&(a||j)&&o.a.createElement(s.a,{className:"menu",classDefault:"s-color-MainMiddle",classHover:"s-color-Main",onClick:L},o.a.createElement("span",{className:"app-icon icon-ellipsis-h"})),S&&o.a.createElement(c.o,{hover:o.a.createElement(u.a,{msg:"Pinned message"})},o.a.createElement("div",{className:"menu s-color-MainMiddle"},o.a.createElement("span",{className:"app-icon icon-thumb-tack"})))),o.a.createElement("div",{className:"author"},y.admin&&o.a.createElement(x.a,null),o.a.createElement("span",{className:"app-cursor s-color-Main",onClick:R},y.name)),o.a.createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:D}}),o.a.createElement(ChatItemTimeView,{data_create:b,edited:g}))),o.a.createElement(ChatItemAttacheView,{items:v,comment_id:_})),n&&o.a.createElement("div",{className:"action"},o.a.createElement("div",{className:"answer"},o.a.createElement("span",{className:"icon icon-comment-discussion"}),!j&&o.a.createElement(c.j,{click:N},o.a.createElement(u.a,{msg:"Reply"}))),o.a.createElement("div",{className:"raiting-view"},o.a.createElement(ChatItemRatingView,{goRaiting:M,onUpdate:A,myProfile:j,user_val:E.user_val,val:E.val}))))}ChatItemDescView.propTypes={onRaitingUpdate:i.a.func,goRaiting:i.a.func,goProfile:i.a.func,goChat:i.a.func,comment:i.a.shape({user:i.a.shape({id:i.a.number,name:i.a.string,online:i.a.bool,ava:i.a.string,admin:i.a.bool}),id:i.a.number,site_id:i.a.number,hash:i.a.string,url:i.a.string,title:i.a.string,attaches:i.a.arrayOf(i.a.object),raiting:i.a.object,data_create:i.a.string,text_template:i.a.string,edited:i.a.bool,fixed:i.a.bool,comment_type:i.a.number}),onAnswerCreate:i.a.func,profile_id:i.a.number,focus:i.a.bool,menu:i.a.bool,isShowBottom:i.a.bool,isModerator:i.a.bool,timeCommentFormat:i.a.number};var I=3;function chat_item_view_extends(){return(chat_item_view_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function goChatChildDispatch(e){return function(t,n){var r=n().chatState;Object(P.j)(r.getIn(["chat","site_id"]),r.getIn(["chat","hash"]),r.getIn(["chat","url"]),e)}}function CommentAvaItemView(e){var t=e.user,n=e.comment_type,a=e.avaType,i=Object(r.useCallback)(function(){return Object(P.q)(t.id)},[t.id]);return o.a.createElement(c.a,chat_item_view_extends({},t,{click:i,comment_type:n,type:a}))}function CommentAnswersParentView(e){var t=e.dispatch,n=e.answer_comment_root_id,a=Object(r.useCallback)(function(){return t(goChatChildDispatch(n))},[n,t]);return o.a.createElement("div",{className:"app-comments_answers desc"},o.a.createElement("div",{className:"line s-bg-MainMiddle"}),o.a.createElement("span",{className:"text s-bg-Background"},o.a.createElement("span",{className:"a",onClick:a},o.a.createElement(u.a,{msg:"One answer"}))))}function CommentAnswersChildView(e){var t=e.dispatch,n=e.answer_comment_root_id,a=e.count,i=Object(r.useCallback)(function(){return t(goChatChildDispatch(n))},[n,t]);return o.a.createElement("div",{className:"app-comments_answers desc"},o.a.createElement("div",{className:"line s-bg-MainMiddle"}),o.a.createElement("span",{className:"text s-bg-Background"},o.a.createElement("span",{className:"a",onClick:i},o.a.createElement(u.c,{msg:"More {{count}} reply",func:"pluralzero",count:a}))))}function CommentAnswerItemView(e){var t=e.comment,n=e.profile_id,r=e.dispatch,a=t.answer_comment,i=t.answer_comment_count,c=a.answer_comment_root_id;return o.a.createElement("div",{className:"desc-p-b "+(n==a.user.id?"position-right":"position-left")},o.a.createElement("div",{className:"desc"},o.a.createElement(CommentAvaItemView,{user:a.user,goProfileCallback:P.q,comment_type:a.comment_type,avaType:"tiny"}),o.a.createElement("div",{className:a.attaches.length>0?"":" desc-p-no-attache"},o.a.createElement(ChatItemDescView,{isShowBottom:!1,isModerator:e.isModerator,timeCommentFormat:e.timeCommentFormat,profile_id:e.profile_id,menu:e.menu,comment:a,goProfile:P.q})),i<=1?o.a.createElement(CommentAnswersParentView,{dispatch:r,answer_comment_root_id:c}):o.a.createElement(CommentAnswersChildView,{dispatch:r,answer_comment_root_id:c,count:i-1})))}function ChatItemView(e){var t=e.comment,n=e.profile_id,r=e.onAnswerCreate,a=e.onRaitingUpdate,i=e.dispatch,c=t.user,u=t.answer_comment,l=t.answer_comment_count;return o.a.createElement(o.a.Fragment,null,t.comment_type==I?o.a.createElement("div",{className:"desc-p-b position-left"},o.a.createElement(TemplateDeletedView,{type:"small"})):o.a.createElement("div",{className:"desc-p-b "+(n==c.id?"position-right":"position-left")},o.a.createElement(CommentAvaItemView,{dispatch:i,user:t.user,comment_type:t.comment_type,avaType:"small"}),o.a.createElement(ChatItemDescView,{isShowBottom:e.isShowBottom,isModerator:e.isModerator,timeCommentFormat:e.timeCommentFormat,profile_id:e.profile_id,focus:e.focus,menu:e.menu,comment:t,onRaitingUpdate:a,onAnswerCreate:r,goProfile:P.q,avaType:"small"})),u&&(u.comment_type==I?o.a.createElement("div",{className:"desc-p-b position-left"},o.a.createElement("div",{className:"desc"},o.a.createElement(TemplateDeletedView,{type:"tiny"}),o.a.createElement(CommentAnswersChildView,{dispatch:i,answer_comment_root_id:u.answer_comment_root_id,count:l}))):o.a.createElement(CommentAnswerItemView,e)))}n.d(t,"a",function(){return ChatItemView}),CommentAvaItemView.propTypes={dispatch:i.a.func,user:i.a.shape({id:i.a.number}),comment_type:i.a.number,avaType:i.a.string},CommentAnswersParentView.propTypes={dispatch:i.a.func,answer_comment_root_id:i.a.number},CommentAnswersChildView.propTypes={dispatch:i.a.func,answer_comment_root_id:i.a.number,count:i.a.number};var M=i.a.shape({user:i.a.shape({id:i.a.number,name:i.a.string,online:i.a.bool,ava:i.a.string}),id:i.a.number,site_id:i.a.number,hash:i.a.string,url:i.a.string,title:i.a.string,attaches:i.a.arrayOf(i.a.object),raiting:i.a.object,data_create:i.a.string,text_template:i.a.string,edited:i.a.bool,comment_type:i.a.number,answer_comment:M,answer_comment_count:i.a.number});function TemplateDeletedView(e){var t=e.type;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"app-custom-ava "+t,style:{cursor:"default"}},o.a.createElement("div",{className:"ava-p"},o.a.createElement("div",{className:"ava-img s-bg-BlackLight s-color-BlackMiddle","data-context":"?"}))),o.a.createElement("div",{className:"desc desc-p-no-attache"},o.a.createElement("div",{className:"desc-r s-bg-BlackLight"},o.a.createElement("div",{className:"desc-p desc-p-no-attache s-color-BlackMiddle"},o.a.createElement(u.a,{msg:"Comment has been deleted"})))))}CommentAnswerItemView.propTypes={dispatch:i.a.func,onAnswerCreate:i.a.func,comment:M,profile_id:i.a.number,isModerator:i.a.bool,timeCommentFormat:i.a.number,menu:i.a.bool},ChatItemView.propTypes={dispatch:i.a.func,goChat:i.a.func,onAnswerCreate:i.a.func,onRaitingUpdate:i.a.func,comment:M,profile_id:i.a.number,isShowBottom:i.a.bool,isModerator:i.a.bool,timeCommentFormat:i.a.number,menu:i.a.bool,focus:i.a.bool},TemplateDeletedView.propTypes={type:i.a.string}},function(e,t,n){"use strict";var r=n(100),o=n(16),a=n.n(o),i=n(2),c=n(15),u=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent),l={version:c.q,uuid:null,site_id:null,site_hash:null,site_url:null,render_in_content:null,site_settings:null,site_domain_banner:"",profile:null,token:null,localstory:null,stats:{answer_count:0,user_event:0},menu:{open:!1},view_begin:!1,vidjet_open:!1,vidjet_width:0,vidjet_height:0,window_width:0,window_height:0,socket_connect:!1,social_link:window.location.origin+"/api/social/provider",focus:!1,alert:null,alerts:[],mobile:u,lang:null,locale:null,vidjet_sso:!1,height_auto:!1,global_scroll:0,scroll_border_top:0,scroll_border_bottom:0,time_client:0,theme:null,widget_focus:!0,comment_show_sort:0,comment_show_format:0,hide_all_chats:!1,trial_popup:!0};var s={items:null};var f={errors:null,fields:null};var p=n(3),d=120,h={rows:null,default_title:null,focus:null,scroll:null,count_comment:null,chat:null,comments:null,comment_first:!1,comment_last:!1,videoplay:null,comment_popup:null,key_chat:null,comment_last_create:null};function ChatCommentsSuccess(e,t){var n=t.data,r=n.chat,o=n.comments,i=r.count_comment_load,c=t.params.down,u=e.get("focus");if(e=e.set("key_chat",t.key_chat).set("count_comment",r.count_comment_all).set("chat",a.a.fromJS(r)).set("comment_first",function IsBoolCommentFirstStatus(e,t,n,r,o){var a=t.length;switch(e){case p.c:return!0;case p.g:return a<n;case p.j:return a<n&&!r;case p.d:return a<n/2||t.map(function(e){return e.id}).indexOf(o)<a/3}return!1}(t.page,o,i,c,u)).set("comment_last",function IsBoolCommentLastStatus(e,t,n,r,o){var a=t.length;switch(e){case p.c:return a<n;case p.g:return!0;case p.j:return a<n&&r;case p.d:return a<n/2||t.map(function(e){return e.id}).indexOf(o)>a-a/3}return!1}(t.page,o,i,c,u)),t.page==p.j){var l=a.a.fromJS(o),s=e.get("comments"),f=null!=s?s.size:0,h=Math.max(0,f+o.length-d);return e.update("comments",function(e){return null==e?a.a.fromJS([]):e}).update("comments",function(e){return t.params.down?e.concat(l):l.concat(e)}).update("comments",function(e){return(t.params.down?e.skip(h):e).take(d)})}return e.set("comments",a.a.fromJS(o))}var m={data:null};var _={focused:null,answer_comment:null,mention_index:null,mention_data:null,values:{}};var y=50,b={path_first:null,path:null,history:{}};var v={answer:null,push_update:0,push_token:null,push_active:null,push_close:!1,push_view:2};var g={attaches:[]};n.d(t,"b",function(){return E}),n.d(t,"a",function(){return S});var w={defaultState:function DefaultReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.fromJS(l),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.G:return e.set("uuid",t.data);case i.n:return e.update("alerts",function(e){return e.remove(e.findIndex(function(e){return e.get("text")==t.data.text})).push(a.a.fromJS(t.data))});case i.o:return e.update("alerts",function(e){return e.remove(e.findIndex(function(e){return e.get("key")==t.key}))});case i.y:return e.set("site_id",parseInt(t.site_id)).set("site_hash",t.site_hash).set("site_url",t.site_url).set("render_in_content",t.render_in_content).set("height_auto",t.height_auto).set("scroll_border_top",t.scroll_border_top).set("scroll_border_bottom",t.scroll_border_bottom).set("time_client",t.time_client).set("theme",t.theme).set("comment_show_sort",t.comment_show_sort).set("comment_show_format",t.comment_show_format).set("hide_all_chats",t.hide_all_chats);case i.z:return e.set("lang",t.data);case i.I:return e.set("vidjet_open",t.data).set("vidjet_update",!1);case i.J:return e.set("vidjet_update",t.data!=e.get("vidjet_open"));case i.w:return e.set("profile",a.a.fromJS(t.data));case i.E:return e.set("token",a.a.fromJS(t.data));case i.r:return e.set("profile",null).set("token",null).set("stats",a.a.fromJS(l.stats));case i.D:return e.set("stats",a.a.fromJS(t.data));case i.B:return e.set("socket_connect",!!t.data);case i.A:return e.set("site_settings",a.a.fromJS(t.data));case i.x:return e.set("site_domain_banner",t.data);case i.s:return e.set("focus",!!t.data);case i.M:return e.set("widget_focus",!!t.data);case i.L:return e.set("view_begin",!0);case i.K:return e.set("vidjet_width",t.data);case i.H:return e.set("vidjet_height",t.data);case i.N:return e.set("window_height",t.window_height).set("window_width",t.window_width);case i.u:return e.set("locale",t.data);case i.C:return e.set("vidjet_sso",!!t.data);case i.v:return e.set("localstory",a.a.fromJS(t.data));case i.t:return e.set("global_scroll",t.data);case i.q:return e.set("comment_show_sort",t.data);case i.p:return e.set("comment_show_format",t.data);case i.F:return e.set("trial_popup",!1);default:return e}},mainState:function MainReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.fromJS(s),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.hb:return e.set("items",null);case i.jb:return e.set("items",a.a.fromJS(t.data));case i.ib:return e.update("items",function(e){return null!=e?e.update(e.findIndex(function(e){return e.get("id")==t.id}),function(e){return e.set("type","def")}):e});default:return e}},formState:function FormReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.fromJS(f),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.r:return a.a.fromJS(f);case i.fb:return e.update("errors",function(e){return e?t.data?e.set(t.section,t.data):e.get(t.section)&&null==t.data?e.remove(t.section):e:a.a.Map([[t.section,t.data]])});case i.gb:return e.update("fields",function(e){return e?t.data?e.set(t.section,t.data):e.get(t.section)&&null==t.data?e.remove(t.section):e:a.a.Map([[t.section,t.data]])});default:return e}},chatState:function ChatReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.fromJS(h),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.k:return e.set("default_title",t.title);case i.c:return e.set("chat",null).set("comments",null).set("comment_first",!1).set("comment_last",!1).set("videoplay",null).set("key_chat",null).set("comment_last_create",null);case i.b:return e.set("key_chat",t.key_chat);case i.d:return ChatCommentsSuccess(e,t);case i.a:return e.set("chat",a.a.fromJS(t.chat)).set("comment_popup",a.a.fromJS(t.comment_popup));case i.g:return e.set("focus",t.comment_id);case i.j:return e.set("scroll",t.data);case i.m:return e.set("videoplay",t.videoplay);case i.h:return e.set("comment_last_create",t.comment_id);case i.S:return e.update("comments",function(e){return null!=e?e.set(e.findIndex(function(e){return e.get("id")==t.data.id}),a.a.fromJS(t.data)):e});case i.f:return e.update("comments",function(e){return null!=e?e.update(e.findIndex(function(e){return e.get("id")==t.id}),function(e){return null!=e?a.a.fromJS(Object.assign(e.toJSON(),t.props)):e}):e});case i.e:return e.update("comments",function(e){return t.insert_down?e.push(a.a.fromJS(t.data)):e.insert(0,a.a.fromJS(t.data))});case i.i:return e.update("comments",function(e){return null!=e?e.remove(e.findIndex(function(e){return e.get("id")==t.id})):e});case i.lb:return e.update("comments",function(e){return null!=e?e.update(e.findIndex(function(e){return e.get("id")===t.data.raiting.id}),function(e){return e.set("raiting",a.a.fromJS(t.data.raiting))}):e});case i.l:return e.update("chat",function(e){return null!=e?e.set("fixed_comment",a.a.fromJS(t.comment)):null}).update("comments",function(e){return e.map(function(e){return e.set("fixed",!1)})});default:return e}},raitingState:function RaitingReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.fromJS(m),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.kb:return e.set("data",null);case i.lb:return e.set("data",a.a.fromJS(t.data));default:return e}},editorState:function EditorReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.fromJS(_),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.r:return a.a.fromJS(_);case i.P:return e.set("answer_comment",t.answer_comment);case i.O:return e.setIn(["values",t.id,"answer_comment"],t.answer_comment);case i.eb:return e.setIn(["values",t.id,"value"],t.value);case i.U:return e.setIn(["values",t.id,"comment_id"],t.comment_id);case i.T:return e.deleteIn(["values",t.id]);case i.R:return e.updateIn(["values",t.id,"attaches_images"],function(e){if(e){var n=e.findIndex(function(e){return e.get("id")===t.file_id});if(-1!=n)return e.remove(n)}return a.a.fromJS([])});case i.Q:return null!=t.data?e.updateIn(["values",t.id,"attaches_images"],function(e){return e?-1!==e.findIndex(function(e){return e.get("id")===t.data.id})?e:e.push(a.a.fromJS(t.data)):a.a.fromJS([t.data])}):e;case i.bb:return e.set("focused",t.data);case i.db:return e.set("mention_index",t.data);case i.cb:return e.set("mention_data",a.a.fromJS(t.data));default:return e}},routeState:function RouteReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.fromJS(b),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.mb:return e.set("path",a.a.fromJS(t.path));case i.nb:return e.update("history",function(e){var n=y-e.size;return e.delete(t.url).set(t.url,t.scroll).filter(function(){return++n>1})});default:return e}},userState:function UserReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.fromJS(v),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.r:return a.a.fromJS(v);case i.rb:return e.set("push_update",t.push_update);case i.qb:return e.set("push_token",t.push_token);case i.ob:return e.set("push_active",t.push_active);case i.pb:return e.set("push_close",t.push_close);case i.sb:return e.update("push_view",function(e){return e-1});case i.lb:return e.updateIn(["profile","comments"],function(e){return null!=e&&null!=t.data?e.update(e.findIndex(function(e){return e.get("id")===t.data.raiting.id}),function(e){return e.set("raiting",a.a.fromJS(t.data.raiting))}):e});default:return e}},filesState:function FilesReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.fromJS(g),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.W:return e.set("attaches",a.a.fromJS([]));case i.Z:return e.set("attaches",a.a.fromJS(t.files));case i.V:return e.update("attaches",function(e){return e.remove(e.findIndex(function(e){return e.get("id")===t.file_id}))});case i.Y:return e.update("attaches",function(e){return e.update(e.findIndex(function(e){return e.get("id")===t.file_id}),function(e){return e?e.set("progress",t.progress):e})});case i.ab:return e.update("attaches",function(e){return e.update(e.findIndex(function(e){return e.get("id")===t.file_id}),function(e){return e?e.set("progress",100):e})});case i.X:return e.update("attaches",function(e){return e.update(e.findIndex(function(e){return e.get("id")===t.file_id}),function(e){return e?e.set("progress",100).set("error",t.error):e})});default:return e}}},E=Object(r.c)(w),S=function AddReducer(e,t){return Object(r.c)(Object.assign(w,function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t)))}},function(e,t,n){n(82),n(83),n(84),n(154),e.exports=n(35).Map},function(e,t,n){"use strict";var r=n(130),o=n(109);e.exports=n(135)("Map",function(e){return function Map(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function get(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function set(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(30),o=n(156).set;e.exports=function(e,t,n){var a,i=t.constructor;return i!==n&&"function"==typeof i&&(a=i.prototype)!==n.prototype&&r(a)&&o&&o(e,a),e}},function(e,t,n){var r=n(30),o=n(33),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(44)(Function.call,n(157).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function setPrototypeOf(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){var r=n(136),o=n(74),a=n(55),i=n(103),c=n(43),u=n(102),l=Object.getOwnPropertyDescriptor;t.f=n(38)?l:function getOwnPropertyDescriptor(e,t){if(e=a(e),t=i(t,!0),u)try{return l(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){n(82),n(83),n(84),n(159),e.exports=n(35).Set},function(e,t,n){"use strict";var r=n(130),o=n(109);e.exports=n(135)("Set",function(e){return function Set(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(59);r(r.S+r.F,"Object",{assign:n(161)})},function(e,t,n){"use strict";var r=n(76),o=n(162),a=n(136),i=n(106),c=n(105),u=Object.assign;e.exports=!u||n(50)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function assign(e,t){for(var n=i(e),u=arguments.length,l=1,s=o.f,f=a.f;u>l;)for(var p,d=c(arguments[l++]),h=s?r(d).concat(s(d)):r(d),m=h.length,_=0;m>_;)f.call(d,p=h[_++])&&(n[p]=d[p]);return n}:u},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){n(164).polyfill()},function(e,t,n){(function(t){for(var r=n(165),o="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",c=o["request"+i],u=o["cancel"+i]||o["cancelRequest"+i],l=0;!c&&l<a.length;l++)c=o[a[l]+"Request"+i],u=o[a[l]+"Cancel"+i]||o[a[l]+"CancelRequest"+i];if(!c||!u){var s=0,f=0,p=[];c=function(e){if(0===p.length){var t=r(),n=Math.max(0,1e3/60-(t-s));s=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(s)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++f,callback:e,cancelled:!1}),f},u=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return c.call(o,e)},e.exports.cancel=function(){u.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=c,e.cancelAnimationFrame=u}}).call(this,n(117))},function(e,t,n){(function(t){(function(){var n,r,o,a,i,c;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,a=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),c=1e9*t.uptime(),i=a-c):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(166))},function(e,t){var n,r,o=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var a,i=[],c=!1,u=-1;function cleanUpNextTick(){c&&a&&(c=!1,a.length?i=a.concat(i):u=-1,i.length&&drainQueue())}function drainQueue(){if(!c){var e=runTimeout(cleanUpNextTick);c=!0;for(var t=i.length;t;){for(a=i,i=[];++u<t;)a&&a[u].run();u=-1,t=i.length}a=null,c=!1,function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];i.push(new Item(e,t)),1!==i.length||c||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(118),o=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,c=60110,u=60112;t.Suspense=60113;var l=60115,s=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;o=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),i=f("react.provider"),c=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),s=f("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function C(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||d}function D(){}function E(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||d}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(z(85));this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},D.prototype=C.prototype;var m=E.prototype=new D;m.constructor=E,r(m,C.prototype),m.isPureReactComponent=!0;var _={current:null},b=Object.prototype.hasOwnProperty,v={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,n){var r,a={},i=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(i=""+t.key),t)b.call(t,r)&&!v.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+2];a.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:o,type:e,key:i,ref:c,props:a,_owner:_.current}}function L(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var g=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function escape(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,n,r,i){var c=typeof e;"undefined"!==c&&"boolean"!==c||(e=null);var u=!1;if(null===e)u=!0;else switch(c){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return i=i(u=e),e=""===r?"."+N(u,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(g,"$&/")+"/"),O(i,t,n,"",function(e){return e})):null!=i&&(L(i)&&(i=function K(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(g,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var s=r+N(c=e[l],l);u+=O(c,t,n,s,i)}else if("function"==typeof(s=function y(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=s.call(e),l=0;!(c=e.next()).done;)u+=O(c=c.value,t,n,s=r+N(c,l++),i);else if("object"===c)throw t=""+e,Error(z(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function P(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",function(e){return t.call(n,e,o++)}),r}function Q(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var w={current:null};function S(){var e=w.current;if(null===e)throw Error(z(321));return e}var k={ReactCurrentDispatcher:w,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!L(e))throw Error(z(143));return e}},t.Component=C,t.PureComponent=E,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,t.cloneElement=function(e,t,n){if(null==e)throw Error(z(267,e));var a=r({},e.props),i=e.key,c=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(c=t.ref,u=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)b.call(t,s)&&!v.hasOwnProperty(s)&&(a[s]=void 0===t[s]&&void 0!==l?l[s]:t[s])}var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){l=Array(s);for(var f=0;f<s;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:o,type:e.type,key:i,ref:c,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:c,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=J,t.createFactory=function(e){var t=J.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=L,t.lazy=function(e){return{$$typeof:s,_payload:{_status:-1,_result:e},_init:Q}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return S().useCallback(e,t)},t.useContext=function(e,t){return S().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return S().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return S().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return S().useLayoutEffect(e,t)},t.useMemo=function(e,t){return S().useMemo(e,t)},t.useReducer=function(e,t,n){return S().useReducer(e,t,n)},t.useRef=function(e){return S().useRef(e)},t.useState=function(e){return S().useState(e)},t.version="17.0.1"},function(t,r,o){"use strict";var a=o(0),i=o(118),u=o(169);function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!a)throw Error(y(227));var s=new Set,m={};function da(e,t){ea(e,t),ea(e+"Capture",t)}function ea(e,t){for(m[e]=t,e=0;e<t.length;e++)s.add(t[e])}var _=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E=Object.prototype.hasOwnProperty,S={},O={};function B(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new B(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new B(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new B(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new B(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new B(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new B(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new B(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new B(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new B(e,5,!1,e.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function pa(e){return e[1].toUpperCase()}function qa(e,t,n,r){var o=j.hasOwnProperty(t)?j[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function na(e,t,n,r){if(null==t||function ma(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function la(e){return!!E.call(O,e)||!E.call(S,e)&&(v.test(e)?O[e]=!0:(S[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T,pa);j[t]=new B(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T,pa);j[t]=new B(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T,pa);j[t]=new B(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new B(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new B(e,1,!1,e.toLowerCase(),null,!0,!0)});var P=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=60103,N=60106,R=60107,L=60108,D=60114,F=60109,V=60110,U=60112,z=60113,q=60120,W=60115,K=60116,$=60121,J=60128,Q=60129,Y=60130,X=60131;if("function"==typeof Symbol&&Symbol.for){var Z=Symbol.for;M=Z("react.element"),N=Z("react.portal"),R=Z("react.fragment"),L=Z("react.strict_mode"),D=Z("react.profiler"),F=Z("react.provider"),V=Z("react.context"),U=Z("react.forward_ref"),z=Z("react.suspense"),q=Z("react.suspense_list"),W=Z("react.memo"),K=Z("react.lazy"),$=Z("react.block"),Z("react.scope"),J=Z("react.opaque.id"),Q=Z("react.debug_trace_mode"),Y=Z("react.offscreen"),X=Z("react.legacy_hidden")}var ee,ae="function"==typeof Symbol&&Symbol.iterator;function La(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ae&&e[ae]||e["@@iterator"])?e:null}function Na(e){if(void 0===ee)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ee=t&&t[1]||""}return"\n"+ee+e}var ie=!1;function Pa(e,t){if(!e||ie)return"";ie=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,c=a.length-1;1<=i&&0<=c&&o[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(o[i]!==a[c]){if(1!==i||1!==c)do{if(i--,0>--c||o[i]!==a[c])return"\n"+o[i].replace(" at new "," at ")}while(1<=i&&0<=c);break}}}finally{ie=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Na(e):""}function Qa(e){switch(e.tag){case 5:return Na(e.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return e=Pa(e.type,!1);case 11:return e=Pa(e.type.render,!1);case 22:return e=Pa(e.type._render,!1);case 1:return e=Pa(e.type,!0);default:return""}}function Ra(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case R:return"Fragment";case N:return"Portal";case D:return"Profiler";case L:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case V:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case U:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case W:return Ra(e.type);case $:return Ra(e._render);case K:t=e._payload,e=e._init;try{return Ra(e(t))}catch(e){}}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ta(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Va(e){e._valueTracker||(e._valueTracker=function Ua(e){var t=Ta(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Wa(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ta(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Xa(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ya(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Za(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Sa(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $a(e,t){null!=(t=t.checked)&&qa(e,"checked",t,!1)}function ab(e,t){$a(e,t);var n=Sa(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?bb(e,t.type,n):t.hasOwnProperty("defaultValue")&&bb(e,t.type,Sa(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function cb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function bb(e,t,n){"number"===t&&Xa(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function eb(e,t){return e=i({children:void 0},t),(t=function db(e){var t="";return a.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function fb(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sa(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function gb(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(y(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(y(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(y(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Sa(n)}}function ib(e,t){var n=Sa(t.value),r=Sa(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function jb(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ce={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?lb(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,fe,pe=(fe=function(e,t){if(e.namespaceURI!==ce.svg||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return fe(e,t)})}:fe);function pb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function sb(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function tb(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=sb(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(de).forEach(function(e){_e.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ye=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(y(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(y(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(y(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(y(62))}}function wb(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,we=null,Se=null;function Bb(e){if(e=Cb(e)){if("function"!=typeof be)throw Error(y(280));var t=e.stateNode;t&&(t=Db(t),be(e.stateNode,e.type,t))}}function Eb(e){we?Se?Se.push(e):Se=[e]:we=e}function Fb(){if(we){var e=we,t=Se;if(Se=we=null,Bb(e),t)for(e=0;e<t.length;e++)Bb(t[e])}}function Gb(e,t){return e(t)}function Hb(e,t,n,r,o){return e(t,n,r,o)}function Ib(){}var Te=Gb,Pe=!1,xe=!1;function Mb(){null===we&&null===Se||(Ib(),Fb())}function Ob(e,t){var n=e.stateNode;if(null===n)return null;var r=Db(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(y(231,t,typeof n));return n}var Ie=!1;if(_)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(fe){Ie=!1}var Re=!1,Ve=null,ze=!1,qe=null,He={onError:function(e){Re=!0,Ve=e}};function Xb(e,t,n,r,o,a,i,c,u){Re=!1,Ve=null,function Rb(e,t,n,r,o,a,i,c,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}.apply(He,arguments)}function Zb(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $b(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ac(e){if(Zb(e)!==e)throw Error(y(188))}function cc(e){if(!(e=function bc(e){var t=e.alternate;if(!t){if(null===(t=Zb(e)))throw Error(y(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return ac(o),e;if(a===r)return ac(o),t;a=a.sibling}throw Error(y(188))}if(n.return!==r.return)n=o,r=a;else{for(var i=!1,c=o.child;c;){if(c===n){i=!0,n=o,r=a;break}if(c===r){i=!0,r=o,n=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===n){i=!0,n=a,r=o;break}if(c===r){i=!0,r=a,n=o;break}c=c.sibling}if(!i)throw Error(y(189))}}if(n.alternate!==r)throw Error(y(190))}if(3!==n.tag)throw Error(y(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function dc(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var We,Qe,Ye,Xe,et=!1,tt=[],nt=null,rt=null,ot=null,at=new Map,it=new Map,ct=[],ut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function sc(e,t){switch(e){case"focusin":case"focusout":nt=null;break;case"dragenter":case"dragleave":rt=null;break;case"mouseover":case"mouseout":ot=null;break;case"pointerover":case"pointerout":at.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":it.delete(t.pointerId)}}function tc(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e=rc(t,n,r,o,a),null!==t&&(null!==(t=Cb(t))&&Qe(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function vc(e){var t=wc(e.target);if(null!==t){var n=Zb(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$b(n)))return e.blockedOn=t,void Xe(e.lanePriority,function(){u.unstable_runWithPriority(e.priority,function(){Ye(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xc(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Cb(n))&&Qe(t),e.blockedOn=n,!1;t.shift()}return!0}function zc(e,t,n){xc(e)&&n.delete(t)}function Ac(){for(et=!1;0<tt.length;){var e=tt[0];if(null!==e.blockedOn){null!==(e=Cb(e.blockedOn))&&We(e);break}for(var t=e.targetContainers;0<t.length;){var n=yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&tt.shift()}null!==nt&&xc(nt)&&(nt=null),null!==rt&&xc(rt)&&(rt=null),null!==ot&&xc(ot)&&(ot=null),at.forEach(zc),it.forEach(zc)}function Bc(e,t){e.blockedOn===t&&(e.blockedOn=null,et||(et=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Ac)))}function Cc(e){function b(t){return Bc(t,e)}if(0<tt.length){Bc(tt[0],e);for(var t=1;t<tt.length;t++){var n=tt[t];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==nt&&Bc(nt,e),null!==rt&&Bc(rt,e),null!==ot&&Bc(ot,e),at.forEach(b),it.forEach(b),t=0;t<ct.length;t++)(n=ct[t]).blockedOn===e&&(n.blockedOn=null);for(;0<ct.length&&null===(t=ct[0]).blockedOn;)vc(t),null===t.blockedOn&&ct.shift()}function Dc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lt={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},st={},ft={};function Hc(e){if(st[e])return st[e];if(!lt[e])return e;var t,n=lt[e];for(t in n)if(n.hasOwnProperty(t)&&t in ft)return st[e]=n[t];return e}_&&(ft=document.createElement("div").style,"AnimationEvent"in window||(delete lt.animationend.animation,delete lt.animationiteration.animation,delete lt.animationstart.animation),"TransitionEvent"in window||delete lt.transitionend.transition);var pt=Hc("animationend"),dt=Hc("animationiteration"),ht=Hc("animationstart"),mt=Hc("transitionend"),_t=new Map,yt=new Map,bt=["abort","abort",pt,"animationEnd",dt,"animationIteration",ht,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",mt,"transitionEnd","waiting","waiting"];function Pc(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),yt.set(r,t),_t.set(r,o),da(o,[r])}}(0,u.unstable_now)();var vt=8;function Rc(e){if(0!=(1&e))return vt=15,1;if(0!=(2&e))return vt=14,2;if(0!=(4&e))return vt=13,4;var t=24&e;return 0!==t?(vt=12,t):0!=(32&e)?(vt=11,32):0!==(t=192&e)?(vt=10,t):0!=(256&e)?(vt=9,256):0!==(t=3584&e)?(vt=8,t):0!=(4096&e)?(vt=7,4096):0!==(t=4186112&e)?(vt=6,t):0!==(t=62914560&e)?(vt=5,t):67108864&e?(vt=4,67108864):0!=(134217728&e)?(vt=3,134217728):0!==(t=805306368&e)?(vt=2,t):0!=(1073741824&e)?(vt=1,1073741824):(vt=8,e)}function Uc(e,t){var n=e.pendingLanes;if(0===n)return vt=0;var r=0,o=0,a=e.expiredLanes,i=e.suspendedLanes,c=e.pingedLanes;if(0!==a)r=a,o=vt=15;else if(0!==(a=134217727&n)){var u=a&~i;0!==u?(r=Rc(u),o=vt):0!==(c&=a)&&(r=Rc(c),o=vt)}else 0!==(a=n&~i)?(r=Rc(a),o=vt):0!==c&&(r=Rc(c),o=vt);if(0===r)return 0;if(r=n&((0>(r=31-gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&i)){if(Rc(t),o<=vt)return t;vt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-gt(t)),r|=e[n],t&=~o;return r}function Wc(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Xc(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Yc(24&~t))?Xc(10,t):e;case 10:return 0===(e=Yc(192&~t))?Xc(8,t):e;case 8:return 0===(e=Yc(3584&~t))&&(0===(e=Yc(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Yc(805306368&~t))&&(t=268435456),t}throw Error(y(358,e))}function Yc(e){return e&-e}function Zc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $c(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-gt(t)]=n}var gt=Math.clz32?Math.clz32:function ad(e){return 0===e?32:31-(wt(e)/Et|0)|0},wt=Math.log,Et=Math.LN2;var St=u.unstable_UserBlockingPriority,Ot=u.unstable_runWithPriority,Ct=!0;function gd(e,t,n,r){Pe||Ib();var o=hd,a=Pe;Pe=!0;try{Hb(o,e,t,n,r)}finally{(Pe=a)||Mb()}}function id(e,t,n,r){Ot(St,hd.bind(null,e,t,n,r))}function hd(e,t,n,r){var o;if(Ct)if((o=0==(4&t))&&0<tt.length&&-1<ut.indexOf(e))e=rc(null,e,t,n,r),tt.push(e);else{var a=yc(e,t,n,r);if(null===a)o&&sc(e,r);else{if(o){if(-1<ut.indexOf(e))return e=rc(a,e,t,n,r),void tt.push(e);if(function uc(e,t,n,r,o){switch(t){case"focusin":return nt=tc(nt,e,t,n,r,o),!0;case"dragenter":return rt=tc(rt,e,t,n,r,o),!0;case"mouseover":return ot=tc(ot,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return at.set(a,tc(at.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,it.set(a,tc(it.get(a)||null,e,t,n,r,o)),!0}return!1}(a,e,t,n,r))return;sc(e,r)}jd(e,t,r,null,n)}}}function yc(e,t,n,r){var o=xb(r);if(null!==(o=wc(o))){var a=Zb(o);if(null===a)o=null;else{var i=a.tag;if(13===i){if(null!==(o=$b(a)))return o;o=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return jd(e,t,r,o,n),null}var kt=null,jt=null,Tt=null;function nd(){if(Tt)return Tt;var e,t,n=jt,r=n.length,o="value"in kt?kt.value:kt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Tt=o.slice(e,1<t?1-t:void 0)}function od(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function b(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?pd:qd,this.isPropagationStopped=qd,this}return i(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),b}var Pt,xt,It,Mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},At=rd(Mt),Nt=i({},Mt,{view:0,detail:0}),Rt=rd(Nt),Lt=i({},Nt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==It&&(It&&"mousemove"===e.type?(Pt=e.screenX-It.screenX,xt=e.screenY-It.screenY):xt=Pt=0,It=e),Pt)},movementY:function(e){return"movementY"in e?e.movementY:xt}}),Dt=rd(Lt),Ft=rd(i({},Lt,{dataTransfer:0})),Vt=rd(i({},Nt,{relatedTarget:0})),Ut=rd(i({},Mt,{animationName:0,elapsedTime:0,pseudoElement:0})),Bt=rd(i({},Mt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),zt=rd(i({},Mt,{data:0})),qt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Wt[e])&&!!t[e]}function zd(){return Pd}var Gt=rd(i({},Nt,{key:function(e){if(e.key){var t=qt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=od(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ht[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return"keypress"===e.type?od(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?od(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Kt=rd(i({},Lt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),$t=rd(i({},Nt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd})),Jt=rd(i({},Mt,{propertyName:0,elapsedTime:0,pseudoElement:0})),Qt=rd(i({},Lt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Yt=[9,13,27,32],Xt=_&&"CompositionEvent"in window,Zt=null;_&&"documentMode"in document&&(Zt=document.documentMode);var en=_&&"TextEvent"in window&&!Zt,tn=_&&(!Xt||Zt&&8<Zt&&11>=Zt),nn=String.fromCharCode(32),rn=!1;function ge(e,t){switch(e){case"keyup":return-1!==Yt.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var on=!1;var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!an[e.type]:"textarea"===t}function ne(e,t,n,r){Eb(r),0<(t=oe(t,"onChange")).length&&(n=new At("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cn=null,un=null;function re(e){se(e,0)}function te(e){if(Wa(ue(e)))return e}function ve(e,t){if("change"===e)return t}var ln=!1;if(_){var sn;if(_){var fn="oninput"in document;if(!fn){var pn=document.createElement("div");pn.setAttribute("oninput","return;"),fn="function"==typeof pn.oninput}sn=fn}else sn=!1;ln=sn&&(!document.documentMode||9<document.documentMode)}function Ae(){cn&&(cn.detachEvent("onpropertychange",Be),un=cn=null)}function Be(e){if("value"===e.propertyName&&te(un)){var t=[];if(ne(t,un,e,xb(e)),e=re,Pe)e(t);else{Pe=!0;try{Gb(e,t)}finally{Pe=!1,Mb()}}}}function Ce(e,t,n){"focusin"===e?(Ae(),un=n,(cn=t).attachEvent("onpropertychange",Be)):"focusout"===e&&Ae()}function De(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return te(un)}function Ee(e,t){if("click"===e)return te(t)}function Fe(e,t){if("input"===e||"change"===e)return te(t)}var dn="function"==typeof Object.is?Object.is:function Ge(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},hn=Object.prototype.hasOwnProperty;function Je(e,t){if(dn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hn.call(t,n[r])||!dn(e[n[r]],t[n[r]]))return!1;return!0}function Ke(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Le(e,t){var n,r=Ke(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ke(r)}}function Ne(){for(var e=window,t=Xa();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Xa((e=t.contentWindow).document)}return t}function Oe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=_&&"documentMode"in document&&11>=document.documentMode,_n=null,yn=null,bn=null,vn=!1;function Ue(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vn||null==_n||_n!==Xa(r)||("selectionStart"in(r=_n)&&Oe(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},bn&&Je(bn,r)||(bn=r,0<(r=oe(yn,"onSelect")).length&&(t=new At("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_n)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pc(bt,2);for(var gn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wn=0;wn<gn.length;wn++)yt.set(gn[wn],0);ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var En="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sn=new Set("cancel close invalid load scroll toggle".split(" ").concat(En));function Ze(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function Yb(e,t,n,r,o,a,i,c,u){if(Xb.apply(this,arguments),Re){if(!Re)throw Error(y(198));var l=Ve;Re=!1,Ve=null,ze||(ze=!0,qe=l)}}(r,t,void 0,e),e.currentTarget=null}function se(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var c=r[i],u=c.instance,l=c.currentTarget;if(c=c.listener,u!==a&&o.isPropagationStopped())break e;Ze(o,c,l),a=u}else for(i=0;i<r.length;i++){if(u=(c=r[i]).instance,l=c.currentTarget,c=c.listener,u!==a&&o.isPropagationStopped())break e;Ze(o,c,l),a=u}}}if(ze)throw e=qe,ze=!1,qe=null,e}function G(e,t){var n=$e(t),r=e+"__bubble";n.has(r)||(af(t,e,2,!1),n.add(r))}var On="_reactListening"+Math.random().toString(36).slice(2);function cf(e){e[On]||(e[On]=!0,s.forEach(function(t){Sn.has(t)||df(t,!1,e,null),df(t,!0,e,null)}))}function df(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sn.has(e)){if("scroll"!==e)return;o|=2,a=r}var i=$e(a),c=e+"__"+(t?"capture":"bubble");i.has(c)||(t&&(o|=4),af(a,e,o,t),i.add(c))}function af(e,t,n,r){var o=yt.get(t);switch(void 0===o?2:o){case 0:o=gd;break;case 1:o=id;break;default:o=hd}n=o.bind(null,t,n,e),o=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function jd(e,t,n,r,o){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var c=r.stateNode.containerInfo;if(c===o||8===c.nodeType&&c.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&((u=i.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;i=i.return}for(;null!==c;){if(null===(i=wc(c)))return;if(5===(u=i.tag)||6===u){r=a=i;continue e}c=c.parentNode}}r=r.return}!function Nb(e,t,n){if(xe)return e(t,n);xe=!0;try{return Te(e,t,n)}finally{xe=!1,Mb()}}(function(){var r=a,o=xb(n),i=[];e:{var c=_t.get(e);if(void 0!==c){var u=At,l=e;switch(e){case"keypress":if(0===od(n))break e;case"keydown":case"keyup":u=Gt;break;case"focusin":l="focus",u=Vt;break;case"focusout":l="blur",u=Vt;break;case"beforeblur":case"afterblur":u=Vt;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Dt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Ft;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=$t;break;case pt:case dt:case ht:u=Ut;break;case mt:u=Jt;break;case"scroll":u=Rt;break;case"wheel":u=Qt;break;case"copy":case"cut":case"paste":u=Bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Kt}var s=0!=(4&t),f=!s&&"scroll"===e,p=s?null!==c?c+"Capture":null:c;s=[];for(var d,h=r;null!==h;){var m=(d=h).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==p&&(null!=(m=Ob(h,p))&&s.push(ef(h,m,d)))),f)break;h=h.return}0<s.length&&(c=new u(c,l,null,n,o),i.push({event:c,listeners:s}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(c="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!wc(l)&&!l[An])&&(u||c)&&(c=o.window===o?o:(c=o.ownerDocument)?c.defaultView||c.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?wc(l):null)&&(l!==(f=Zb(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(s=Dt,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(s=Kt,m="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==u?c:ue(u),d=null==l?c:ue(l),(c=new s(m,h+"leave",u,n,o)).target=f,c.relatedTarget=d,m=null,wc(o)===r&&((s=new s(p,h+"enter",l,n,o)).target=d,s.relatedTarget=f,m=s),f=m,u&&l)e:{for(p=l,h=0,d=s=u;d;d=gf(d))h++;for(d=0,m=p;m;m=gf(m))d++;for(;0<h-d;)s=gf(s),h--;for(;0<d-h;)p=gf(p),d--;for(;h--;){if(s===p||null!==p&&s===p.alternate)break e;s=gf(s),p=gf(p)}s=null}else s=null;null!==u&&hf(i,c,u,s,!1),null!==l&&null!==f&&hf(i,f,l,s,!0)}if("select"===(u=(c=r?ue(r):window).nodeName&&c.nodeName.toLowerCase())||"input"===u&&"file"===c.type)var _=ve;else if(me(c))if(ln)_=Fe;else{_=De;var y=Ce}else(u=c.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===c.type||"radio"===c.type)&&(_=Ee);switch(_&&(_=_(e,r))?ne(i,_,n,o):(y&&y(e,c,r),"focusout"===e&&(y=c._wrapperState)&&y.controlled&&"number"===c.type&&bb(c,"number",c.value)),y=r?ue(r):window,e){case"focusin":(me(y)||"true"===y.contentEditable)&&(_n=y,yn=r,bn=null);break;case"focusout":bn=yn=_n=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,Ue(i,n,o);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":Ue(i,n,o)}var b;if(Xt)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else on?ge(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(tn&&"ko"!==n.locale&&(on||"onCompositionStart"!==v?"onCompositionEnd"===v&&on&&(b=nd()):(jt="value"in(kt=o)?kt.value:kt.textContent,on=!0)),0<(y=oe(r,v)).length&&(v=new zt(v,e,null,n,o),i.push({event:v,listeners:y}),b?v.data=b:null!==(b=he(n))&&(v.data=b))),(b=en?function je(e,t){switch(e){case"compositionend":return he(t);case"keypress":return 32!==t.which?null:(rn=!0,nn);case"textInput":return(e=t.data)===nn&&rn?null:e;default:return null}}(e,n):function ke(e,t){if(on)return"compositionend"===e||!Xt&&ge(e,t)?(e=nd(),Tt=jt=kt=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=oe(r,"onBeforeInput")).length&&(o=new zt("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=b))}se(i,t)})}function ef(e,t,n){return{instance:e,listener:t,currentTarget:n}}function oe(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Ob(e,n))&&r.unshift(ef(e,a,o)),null!=(a=Ob(e,t))&&r.push(ef(e,a,o))),e=e.return}return r}function gf(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function hf(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var c=n,u=c.alternate,l=c.stateNode;if(null!==u&&u===r)break;5===c.tag&&null!==l&&(c=l,o?null!=(u=Ob(n,a))&&i.unshift(ef(n,u,c)):o||null!=(u=Ob(n,a))&&i.push(ef(n,u,c))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function jf(){}var Cn=null,kn=null;function mf(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function nf(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var jn="function"==typeof setTimeout?setTimeout:void 0,Tn="function"==typeof clearTimeout?clearTimeout:void 0;function qf(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function rf(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function sf(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Pn=0;var xn=Math.random().toString(36).slice(2),In="__reactFiber$"+xn,Mn="__reactProps$"+xn,An="__reactContainer$"+xn,Nn="__reactEvents$"+xn;function wc(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[An]||n[In]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=sf(e);null!==e;){if(n=e[In])return n;e=sf(e)}return t}n=(e=n).parentNode}return null}function Cb(e){return!(e=e[In]||e[An])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ue(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(y(33))}function Db(e){return e[Mn]||null}function $e(e){var t=e[Nn];return void 0===t&&(t=e[Nn]=new Set),t}var Rn=[],Ln=-1;function Bf(e){return{current:e}}function H(e){0>Ln||(e.current=Rn[Ln],Rn[Ln]=null,Ln--)}function I(e,t){Rn[++Ln]=e.current,e.current=t}var Dn={},Fn=Bf(Dn),Vn=Bf(!1),Un=Dn;function Ef(e,t){var n=e.type.contextTypes;if(!n)return Dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ff(e){return null!=(e=e.childContextTypes)}function Gf(){H(Vn),H(Fn)}function Hf(e,t,n){if(Fn.current!==Dn)throw Error(y(168));I(Fn,t),I(Vn,n)}function If(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(y(108,Ra(t)||"Unknown",o));return i({},n,r)}function Jf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,Un=Fn.current,I(Fn,e),I(Vn,Vn.current),!0}function Kf(e,t,n){var r=e.stateNode;if(!r)throw Error(y(169));n?(e=If(e,t,Un),r.__reactInternalMemoizedMergedChildContext=e,H(Vn),H(Fn),I(Fn,e)):H(Vn),I(Vn,n)}var Bn=null,zn=null,qn=u.unstable_runWithPriority,Hn=u.unstable_scheduleCallback,Wn=u.unstable_cancelCallback,Gn=u.unstable_shouldYield,Kn=u.unstable_requestPaint,$n=u.unstable_now,Jn=u.unstable_getCurrentPriorityLevel,Qn=u.unstable_ImmediatePriority,Yn=u.unstable_UserBlockingPriority,Xn=u.unstable_NormalPriority,Zn=u.unstable_LowPriority,er=u.unstable_IdlePriority,tr={},nr=void 0!==Kn?Kn:function(){},rr=null,or=null,ar=!1,ir=$n(),cr=1e4>ir?$n:function(){return $n()-ir};function eg(){switch(Jn()){case Qn:return 99;case Yn:return 98;case Xn:return 97;case Zn:return 96;case er:return 95;default:throw Error(y(332))}}function fg(e){switch(e){case 99:return Qn;case 98:return Yn;case 97:return Xn;case 96:return Zn;case 95:return er;default:throw Error(y(332))}}function gg(e,t){return e=fg(e),qn(e,t)}function hg(e,t,n){return e=fg(e),Hn(e,t,n)}function ig(){if(null!==or){var e=or;or=null,Wn(e)}jg()}function jg(){if(!ar&&null!==rr){ar=!0;var e=0;try{var t=rr;gg(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),rr=null}catch(t){throw null!==rr&&(rr=rr.slice(e+1)),Hn(Qn,ig),t}finally{ar=!1}}}var ur=P.ReactCurrentBatchConfig;function lg(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var lr=Bf(null),sr=null,fr=null,pr=null;function qg(){pr=fr=sr=null}function rg(e){var t=lr.current;H(lr),e.type._context._currentValue=t}function sg(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function tg(e,t){sr=e,pr=fr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Br=!0),e.firstContext=null)}function vg(e,t){if(pr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(pr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===fr){if(null===sr)throw Error(y(308));fr=t,sr.dependencies={lanes:0,firstContext:t,responders:null}}else fr=fr.next=t;return e._currentValue}var dr=!1;function xg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zg(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ag(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Bg(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cg(e,t,n,r){var o=e.updateQueue;dr=!1;var a=o.firstBaseUpdate,c=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,s=l.next;l.next=null,null===c?a=s:c.next=s,c=l;var f=e.alternate;if(null!==f){var p=(f=f.updateQueue).lastBaseUpdate;p!==c&&(null===p?f.firstBaseUpdate=s:p.next=s,f.lastBaseUpdate=l)}}if(null!==a){for(p=o.baseState,c=0,f=s=l=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(u=t,d=n,m.tag){case 1:if("function"==typeof(h=m.payload)){p=h.call(d,p,u);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(u="function"==typeof(h=m.payload)?h.call(d,p,u):h))break e;p=i({},p,u);break e;case 2:dr=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(s=f=d,l=p):f=f.next=d,c|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(l=p),o.baseState=l,o.firstBaseUpdate=s,o.lastBaseUpdate=f,co|=c,e.lanes=c,e.memoizedState=p}}function Eg(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(y(191,o));o.call(r)}}}var hr=(new a.Component).refs;function Gg(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mr={isMounted:function(e){return!!(e=e._reactInternals)&&Zb(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hg(),o=Ig(e),a=zg(r,o);a.payload=t,null!=n&&(a.callback=n),Ag(e,a),Jg(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hg(),o=Ig(e),a=zg(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),Ag(e,a),Jg(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hg(),r=Ig(e),o=zg(n,r);o.tag=2,null!=t&&(o.callback=t),Ag(e,o),Jg(e,r,n)}};function Lg(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Je(n,r)||!Je(o,a))}function Mg(e,t,n){var r=!1,o=Dn,a=t.contextType;return"object"==typeof a&&null!==a?a=vg(a):(o=Ff(t)?Un:Fn.current,a=(r=null!=(r=t.contextTypes))?Ef(e,o):Dn),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mr,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ng(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mr.enqueueReplaceState(t,t.state,null)}function Og(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=hr,xg(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=vg(a):(a=Ff(t)?Un:Fn.current,o.context=Ef(e,a)),Cg(e,n,o,r),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Gg(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&mr.enqueueReplaceState(o,o.state,null),Cg(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var _r=Array.isArray;function Qg(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(y(309));var r=n.stateNode}if(!r)throw Error(y(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===hr&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(y(284));if(!n._owner)throw Error(y(290,e))}return e}function Rg(e,t){if("textarea"!==e.type)throw Error(y(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sg(t){function b(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function c(e,n){if(!t)return null;for(;null!==n;)b(e,n),n=n.sibling;return null}function d(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function e(e,t){return(e=Tg(e,t)).index=0,e.sibling=null,e}function f(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function g(e){return t&&null===e.alternate&&(e.flags=2),e}function h(t,n,r,o){return null===n||6!==n.tag?((n=Ug(r,t.mode,o)).return=t,n):((n=e(n,r)).return=t,n)}function k(t,n,r,o){return null!==n&&n.elementType===r.type?((o=e(n,r.props)).ref=Qg(t,n,r),o.return=t,o):((o=Vg(r.type,r.key,r.props,null,t.mode,o)).ref=Qg(t,n,r),o.return=t,o)}function l(t,n,r,o){return null===n||4!==n.tag||n.stateNode.containerInfo!==r.containerInfo||n.stateNode.implementation!==r.implementation?((n=Wg(r,t.mode,o)).return=t,n):((n=e(n,r.children||[])).return=t,n)}function n(t,n,r,o,a){return null===n||7!==n.tag?((n=Xg(r,t.mode,o,a)).return=t,n):((n=e(n,r)).return=t,n)}function A(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ug(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case M:return(n=Vg(t.type,t.key,t.props,null,e.mode,n)).ref=Qg(e,null,t),n.return=e,n;case N:return(t=Wg(t,e.mode,n)).return=e,t}if(_r(t)||La(t))return(t=Xg(t,e.mode,n,null)).return=e,t;Rg(e,t)}return null}function p(e,t,r,o){var a=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==a?null:h(e,t,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case M:return r.key===a?r.type===R?n(e,t,r.props.children,o,a):k(e,t,r,o):null;case N:return r.key===a?l(e,t,r,o):null}if(_r(r)||La(r))return null!==a?null:n(e,t,r,o,null);Rg(e,r)}return null}function C(e,t,r,o,a){if("string"==typeof o||"number"==typeof o)return h(t,e=e.get(r)||null,""+o,a);if("object"==typeof o&&null!==o){switch(o.$$typeof){case M:return e=e.get(null===o.key?r:o.key)||null,o.type===R?n(t,e,o.props.children,a,o.key):k(t,e,o,a);case N:return l(t,e=e.get(null===o.key?r:o.key)||null,o,a)}if(_r(o)||La(o))return n(t,e=e.get(r)||null,o,a,null);Rg(t,o)}return null}function x(e,n,r,o){for(var a=null,i=null,u=n,l=n=0,s=null;null!==u&&l<r.length;l++){u.index>l?(s=u,u=null):s=u.sibling;var h=p(e,u,r[l],o);if(null===h){null===u&&(u=s);break}t&&u&&null===h.alternate&&b(e,u),n=f(h,n,l),null===i?a=h:i.sibling=h,i=h,u=s}if(l===r.length)return c(e,u),a;if(null===u){for(;l<r.length;l++)null!==(u=A(e,r[l],o))&&(n=f(u,n,l),null===i?a=u:i.sibling=u,i=u);return a}for(u=d(e,u);l<r.length;l++)null!==(s=C(u,e,l,r[l],o))&&(t&&null!==s.alternate&&u.delete(null===s.key?l:s.key),n=f(s,n,l),null===i?a=s:i.sibling=s,i=s);return t&&u.forEach(function(t){return b(e,t)}),a}function w(e,n,r,o){var a=La(r);if("function"!=typeof a)throw Error(y(150));if(null==(r=a.call(r)))throw Error(y(151));for(var i=a=null,u=n,l=n=0,s=null,h=r.next();null!==u&&!h.done;l++,h=r.next()){u.index>l?(s=u,u=null):s=u.sibling;var m=p(e,u,h.value,o);if(null===m){null===u&&(u=s);break}t&&u&&null===m.alternate&&b(e,u),n=f(m,n,l),null===i?a=m:i.sibling=m,i=m,u=s}if(h.done)return c(e,u),a;if(null===u){for(;!h.done;l++,h=r.next())null!==(h=A(e,h.value,o))&&(n=f(h,n,l),null===i?a=h:i.sibling=h,i=h);return a}for(u=d(e,u);!h.done;l++,h=r.next())null!==(h=C(u,e,l,h.value,o))&&(t&&null!==h.alternate&&u.delete(null===h.key?l:h.key),n=f(h,n,l),null===i?a=h:i.sibling=h,i=h);return t&&u.forEach(function(t){return b(e,t)}),a}return function(t,n,r,o){var a="object"==typeof r&&null!==r&&r.type===R&&null===r.key;a&&(r=r.props.children);var i="object"==typeof r&&null!==r;if(i)switch(r.$$typeof){case M:e:{for(i=r.key,a=n;null!==a;){if(a.key===i){switch(a.tag){case 7:if(r.type===R){c(t,a.sibling),(n=e(a,r.props.children)).return=t,t=n;break e}break;default:if(a.elementType===r.type){c(t,a.sibling),(n=e(a,r.props)).ref=Qg(t,a,r),n.return=t,t=n;break e}}c(t,a);break}b(t,a),a=a.sibling}r.type===R?((n=Xg(r.props.children,t.mode,o,r.key)).return=t,t=n):((o=Vg(r.type,r.key,r.props,null,t.mode,o)).ref=Qg(t,n,r),o.return=t,t=o)}return g(t);case N:e:{for(a=r.key;null!==n;){if(n.key===a){if(4===n.tag&&n.stateNode.containerInfo===r.containerInfo&&n.stateNode.implementation===r.implementation){c(t,n.sibling),(n=e(n,r.children||[])).return=t,t=n;break e}c(t,n);break}b(t,n),n=n.sibling}(n=Wg(r,t.mode,o)).return=t,t=n}return g(t)}if("string"==typeof r||"number"==typeof r)return r=""+r,null!==n&&6===n.tag?(c(t,n.sibling),(n=e(n,r)).return=t,t=n):(c(t,n),(n=Ug(r,t.mode,o)).return=t,t=n),g(t);if(_r(r))return x(t,n,r,o);if(La(r))return w(t,n,r,o);if(i&&Rg(t,r),void 0===r&&!a)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(t.type)||"Component"))}return c(t,n)}}var yr=Sg(!0),br=Sg(!1),vr={},gr=Bf(vr),wr=Bf(vr),Er=Bf(vr);function dh(e){if(e===vr)throw Error(y(174));return e}function eh(e,t){switch(I(Er,t),I(wr,e),I(gr,vr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mb(null,"");break;default:t=mb(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}H(gr),I(gr,t)}function fh(){H(gr),H(wr),H(Er)}function gh(e){dh(Er.current);var t=dh(gr.current),n=mb(t,e.type);t!==n&&(I(wr,e),I(gr,n))}function hh(e){wr.current===e&&(H(gr),H(wr))}var Sr=Bf(0);function ih(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Or=null,Cr=null,kr=!1;function mh(e,t){var n=nh(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function oh(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ph(e){if(kr){var t=Cr;if(t){var n=t;if(!oh(e,t)){if(!(t=rf(n.nextSibling))||!oh(e,t))return e.flags=-1025&e.flags|2,kr=!1,void(Or=e);mh(Or,n)}Or=e,Cr=rf(t.firstChild)}else e.flags=-1025&e.flags|2,kr=!1,Or=e}}function qh(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Or=e}function rh(e){if(e!==Or)return!1;if(!kr)return qh(e),kr=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!nf(t,e.memoizedProps))for(t=Cr;t;)mh(e,t),t=rf(t.nextSibling);if(qh(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(y(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Cr=rf(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Cr=null}}else Cr=Or?rf(e.stateNode.nextSibling):null;return!0}function sh(){Cr=Or=null,kr=!1}var jr=[];function uh(){for(var e=0;e<jr.length;e++)jr[e]._workInProgressVersionPrimary=null;jr.length=0}var Tr=P.ReactCurrentDispatcher,Pr=P.ReactCurrentBatchConfig,xr=0,Ir=null,Mr=null,Ar=null,Nr=!1,Rr=!1;function Ah(){throw Error(y(321))}function Bh(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function Ch(e,t,n,r,o,a){if(xr=a,Ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tr.current=null===e||null===e.memoizedState?Dr:Fr,e=n(r,o),Rr){a=0;do{if(Rr=!1,!(25>a))throw Error(y(301));a+=1,Ar=Mr=null,t.updateQueue=null,Tr.current=Vr,e=n(r,o)}while(Rr)}if(Tr.current=Lr,t=null!==Mr&&null!==Mr.next,xr=0,Ar=Mr=Ir=null,Nr=!1,t)throw Error(y(300));return e}function Hh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ar?Ir.memoizedState=Ar=e:Ar=Ar.next=e,Ar}function Ih(){if(null===Mr){var e=Ir.alternate;e=null!==e?e.memoizedState:null}else e=Mr.next;var t=null===Ar?Ir.memoizedState:Ar.next;if(null!==t)Ar=t,Mr=e;else{if(null===e)throw Error(y(310));e={memoizedState:(Mr=e).memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},null===Ar?Ir.memoizedState=Ar=e:Ar=Ar.next=e}return Ar}function Jh(e,t){return"function"==typeof t?t(e):t}function Kh(e){var t=Ih(),n=t.queue;if(null===n)throw Error(y(311));n.lastRenderedReducer=e;var r=Mr,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var i=o.next;o.next=a.next,a.next=i}r.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var c=i=a=null,u=o;do{var l=u.lane;if((xr&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var s={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(i=c=s,a=r):c=c.next=s,Ir.lanes|=l,co|=l}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=i,dn(r,t.memoizedState)||(Br=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Lh(e){var t=Ih(),n=t.queue;if(null===n)throw Error(y(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{a=e(a,i.action),i=i.next}while(i!==o);dn(a,t.memoizedState)||(Br=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Mh(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(xr&e)===e)&&(t._workInProgressVersionPrimary=r,jr.push(t))),e)return n(t._source);throw jr.push(t),Error(y(350))}function Nh(e,t,n,r){var o=Zr;if(null===o)throw Error(y(349));var a=t._getVersion,i=a(t._source),c=Tr.current,u=c.useState(function(){return Mh(o,t,n)}),l=u[1],s=u[0];u=Ar;var f=e.memoizedState,p=f.refs,d=p.getSnapshot,h=f.source;f=f.subscribe;var m=Ir;return e.memoizedState={refs:p,source:t,subscribe:r},c.useEffect(function(){p.getSnapshot=n,p.setSnapshot=l;var e=a(t._source);if(!dn(i,e)){e=n(t._source),dn(s,e)||(l(e),e=Ig(m),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,c=e;0<c;){var u=31-gt(c),f=1<<u;r[u]|=e,c&=~f}}},[n,t,r]),c.useEffect(function(){return r(t._source,function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=Ig(m);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n(function(){throw e})}})},[t,r]),dn(d,n)&&dn(h,t)&&dn(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:s}).dispatch=l=Oh.bind(null,Ir,e),u.queue=e,u.baseQueue=null,s=Mh(o,t,n),u.memoizedState=u.baseState=s),s}function Ph(e,t,n){return Nh(Ih(),e,t,n)}function Qh(e){var t=Hh();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:e}).dispatch=Oh.bind(null,Ir,e),[t.memoizedState,e]}function Rh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ir.updateQueue)?(t={lastEffect:null},Ir.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Sh(e){return e={current:e},Hh().memoizedState=e}function Th(){return Ih().memoizedState}function Uh(e,t,n,r){var o=Hh();Ir.flags|=e,o.memoizedState=Rh(1|t,n,void 0,void 0===r?null:r)}function Vh(e,t,n,r){var o=Ih();r=void 0===r?null:r;var a=void 0;if(null!==Mr){var i=Mr.memoizedState;if(a=i.destroy,null!==r&&Bh(r,i.deps))return void Rh(t,n,a,r)}Ir.flags|=e,o.memoizedState=Rh(1|t,n,a,r)}function Wh(e,t){return Uh(516,4,e,t)}function Xh(e,t){return Vh(516,4,e,t)}function Yh(e,t){return Vh(4,2,e,t)}function Zh(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $h(e,t,n){return n=null!=n?n.concat([e]):null,Vh(4,2,Zh.bind(null,t,e),n)}function ai(){}function bi(e,t){var n=Ih();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ci(e,t){var n=Ih();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oh(e,t,n){var r=Hg(),o=Ig(e),a={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===Ir||null!==i&&i===Ir)Rr=Nr=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var c=t.lastRenderedState,u=i(c,n);if(a.eagerReducer=i,a.eagerState=u,dn(u,c))return}catch(e){}Jg(e,o,r)}}var Lr={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dr={readContext:vg,useCallback:function(e,t){return Hh().memoizedState=[e,void 0===t?null:t],e},useContext:vg,useEffect:Wh,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Uh(4,2,Zh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uh(4,2,e,t)},useMemo:function(e,t){var n=Hh();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hh();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oh.bind(null,Ir,e),[r.memoizedState,e]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(e){var t=Qh(e),n=t[0],r=t[1];return Wh(function(){var t=Pr.transition;Pr.transition=1;try{r(e)}finally{Pr.transition=t}},[e]),n},useTransition:function(){var e=Qh(!1),t=e[0];return Sh(e=function di(e,t){var n=eg();gg(98>n?98:n,function(){e(!0)}),gg(97<n?97:n,function(){var n=Pr.transition;Pr.transition=1;try{e(!1),t()}finally{Pr.transition=n}})}.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=Hh();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Nh(r,e,t,n)},useOpaqueIdentifier:function(){if(kr){var e=!1,t=function uf(e){return{$$typeof:J,toString:e,valueOf:e}}(function(){throw e||(e=!0,n("r:"+(Pn++).toString(36))),Error(y(355))}),n=Qh(t)[1];return 0==(2&Ir.mode)&&(Ir.flags|=516,Rh(5,function(){n("r:"+(Pn++).toString(36))},void 0,null)),t}return Qh(t="r:"+(Pn++).toString(36)),t},unstable_isNewReconciler:!1},Fr={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(e){var t=Kh(Jh),n=t[0],r=t[1];return Xh(function(){var t=Pr.transition;Pr.transition=1;try{r(e)}finally{Pr.transition=t}},[e]),n},useTransition:function(){var e=Kh(Jh)[0];return[Th().current,e]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Vr={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(e){var t=Lh(Jh),n=t[0],r=t[1];return Xh(function(){var t=Pr.transition;Pr.transition=1;try{r(e)}finally{Pr.transition=t}},[e]),n},useTransition:function(){var e=Lh(Jh)[0];return[Th().current,e]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},Ur=P.ReactCurrentOwner,Br=!1;function fi(e,t,n,r){t.child=null===e?br(t,null,n,r):yr(t,e.child,n,r)}function gi(e,t,n,r,o){n=n.render;var a=t.ref;return tg(t,o),r=Ch(e,t,n,r,a,o),null===e||Br?(t.flags|=1,fi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,hi(e,t,o))}function ii(e,t,n,r,o,a){if(null===e){var i=n.type;return"function"!=typeof i||ji(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vg(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ki(e,t,i,r,o,a))}return i=e.child,0==(o&a)&&(o=i.memoizedProps,(n=null!==(n=n.compare)?n:Je)(o,r)&&e.ref===t.ref)?hi(e,t,a):(t.flags|=1,(e=Tg(i,r)).ref=t.ref,e.return=t,t.child=e)}function ki(e,t,n,r,o,a){if(null!==e&&Je(e.memoizedProps,r)&&e.ref===t.ref){if(Br=!1,0==(a&o))return t.lanes=e.lanes,hi(e,t,a);0!=(16384&e.flags)&&(Br=!0)}return li(e,t,n,r,a)}function mi(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ni(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ni(t,e),null;t.memoizedState={baseLanes:0},ni(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ni(t,r);return fi(e,t,o,n),t.child}function oi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function li(e,t,n,r,o){var a=Ff(n)?Un:Fn.current;return a=Ef(t,a),tg(t,o),n=Ch(e,t,n,r,a,o),null===e||Br?(t.flags|=1,fi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,hi(e,t,o))}function pi(e,t,n,r,o){if(Ff(n)){var a=!0;Jf(t)}else a=!1;if(tg(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Mg(t,n,r),Og(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,c=t.memoizedProps;i.props=c;var u=i.context,l=n.contextType;"object"==typeof l&&null!==l?l=vg(l):l=Ef(t,l=Ff(n)?Un:Fn.current);var s=n.getDerivedStateFromProps,f="function"==typeof s||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(c!==r||u!==l)&&Ng(t,i,r,l),dr=!1;var p=t.memoizedState;i.state=p,Cg(t,r,i,o),u=t.memoizedState,c!==r||p!==u||Vn.current||dr?("function"==typeof s&&(Gg(t,n,s,r),u=t.memoizedState),(c=dr||Lg(t,n,c,r,p,u,l))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=c):("function"==typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,yg(e,t),c=t.memoizedProps,l=t.type===t.elementType?c:lg(t.type,c),i.props=l,f=t.pendingProps,p=i.context,"object"==typeof(u=n.contextType)&&null!==u?u=vg(u):u=Ef(t,u=Ff(n)?Un:Fn.current);var d=n.getDerivedStateFromProps;(s="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(c!==f||p!==u)&&Ng(t,i,r,u),dr=!1,p=t.memoizedState,i.state=p,Cg(t,r,i,o);var h=t.memoizedState;c!==f||p!==h||Vn.current||dr?("function"==typeof d&&(Gg(t,n,d,r),h=t.memoizedState),(l=dr||Lg(t,n,l,r,p,h,u))?(s||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,u),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=u,r=l):("function"!=typeof i.componentDidUpdate||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return qi(e,t,n,r,a,o)}function qi(e,t,n,r,o,a){oi(e,t);var i=0!=(64&t.flags);if(!r&&!i)return o&&Kf(t,n,!1),hi(e,t,a);r=t.stateNode,Ur.current=t;var c=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=yr(t,e.child,null,a),t.child=yr(t,null,c,a)):fi(e,t,c,a),t.memoizedState=r.state,o&&Kf(t,n,!0),t.child}function ri(e){var t=e.stateNode;t.pendingContext?Hf(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hf(0,t.context,!1),eh(e,t.containerInfo)}var zr,qr,Hr,Wr,Gr={dehydrated:null,retryLane:0};function ti(e,t,n){var r,o=t.pendingProps,a=Sr.current,i=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),I(Sr,1&a),null===e?(void 0!==o.fallback&&ph(t),e=o.children,a=o.fallback,i?(e=ui(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Gr,e):"number"==typeof o.unstable_expectedLoadTime?(e=ui(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Gr,t.lanes=33554432,e):((n=vi({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(o=wi(e,t,o.children,o.fallback,n),i=t.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Gr,o):(n=xi(e,t,o.children,n),t.memoizedState=null,n))}function ui(e,t,n,r){var o=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&o)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=vi(t,o,0,null),n=Xg(n,o,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function xi(e,t,n,r){var o=e.child;return e=o.sibling,n=Tg(o,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function wi(e,t,n,r,o){var a=t.mode,i=e.child;e=i.sibling;var c={mode:"hidden",children:n};return 0==(2&a)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Tg(i,c),null!==e?r=Tg(e,r):(r=Xg(r,a,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function yi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),sg(e.return,t)}function zi(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.lastEffect=a)}function Ai(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(fi(e,t,r.children,n),0!=(2&(r=Sr.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&yi(e,n);else if(19===e.tag)yi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(I(Sr,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ih(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zi(t,!1,o,n,a,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ih(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zi(t,!0,n,null,a,t.lastEffect);break;case"together":zi(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),co|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(y(153));if(null!==t.child){for(n=Tg(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tg(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Fi(e,t){if(!kr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gi(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(t.type)&&Gf(),null;case 3:return fh(),H(Vn),H(Fn),uh(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(rh(t)?t.flags|=4:r.hydrate||(t.flags|=256)),qr(t),null;case 5:hh(t);var o=dh(Er.current);if(n=t.type,null!==e&&null!=t.stateNode)Hr(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(y(166));return null}if(e=dh(gr.current),rh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[In]=t,r[Mn]=a,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(e=0;e<En.length;e++)G(En[e],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Za(r,a),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},G("invalid",r);break;case"textarea":hb(r,a),G("invalid",r)}for(var c in vb(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):m.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&G("scroll",r));switch(n){case"input":Va(r),cb(r,a,!0);break;case"textarea":Va(r),jb(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=jf)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===ce.html&&(e=lb(n)),e===ce.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[In]=t,e[Mn]=r,zr(e,t,!1,!1),t.stateNode=e,c=wb(n,r),n){case"dialog":G("cancel",e),G("close",e),o=r;break;case"iframe":case"object":case"embed":G("load",e),o=r;break;case"video":case"audio":for(o=0;o<En.length;o++)G(En[o],e);o=r;break;case"source":G("error",e),o=r;break;case"img":case"image":case"link":G("error",e),G("load",e),o=r;break;case"details":G("toggle",e),o=r;break;case"input":Za(e,r),o=Ya(e,r),G("invalid",e);break;case"option":o=eb(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),G("invalid",e);break;case"textarea":hb(e,r),o=gb(e,r),G("invalid",e);break;default:o=r}vb(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var l=u[a];"style"===a?tb(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&pe(e,l):"children"===a?"string"==typeof l?("textarea"!==n||""!==l)&&pb(e,l):"number"==typeof l&&pb(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(m.hasOwnProperty(a)?null!=l&&"onScroll"===a&&G("scroll",e):null!=l&&qa(e,a,l,c))}switch(n){case"input":Va(e),cb(e,r,!1);break;case"textarea":Va(e),jb(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Sa(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?fb(e,!!r.multiple,a,!1):null!=r.defaultValue&&fb(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=jf)}mf(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Wr(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(y(166));n=dh(Er.current),dh(gr.current),rh(t)?(r=t.stateNode,n=t.memoizedProps,r[In]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[In]=t,t.stateNode=r)}return null;case 13:return H(Sr),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&rh(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Sr.current)?0===oo&&(oo=3):(0!==oo&&3!==oo||(oo=4),null===Zr||0==(134217727&co)&&0==(134217727&uo)||Ii(Zr,to))),(r||n)&&(t.flags|=4),null);case 4:return fh(),qr(t),null===e&&cf(t.stateNode.containerInfo),null;case 10:return rg(t),null;case 17:return Ff(t.type)&&Gf(),null;case 19:if(H(Sr),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(c=r.rendering))if(a)Fi(r,!1);else{if(0!==oo||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ih(e))){for(t.flags|=64,Fi(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return I(Sr,1&Sr.current|2),t.child}e=e.sibling}null!==r.tail&&cr()>po&&(t.flags|=64,a=!0,Fi(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=ih(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Fi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!kr)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*cr()-r.renderingStartTime>po&&1073741824!==n&&(t.flags|=64,a=!0,Fi(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=cr(),n.sibling=null,t=Sr.current,I(Sr,a?1&t|2:1&t),n):null;case 23:case 24:return Ki(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(y(156,t.tag))}function Li(e){switch(e.tag){case 1:Ff(e.type)&&Gf();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(fh(),H(Vn),H(Fn),uh(),0!=(64&(t=e.flags)))throw Error(y(285));return e.flags=-4097&t|64,e;case 5:return hh(e),null;case 13:return H(Sr),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return H(Sr),null;case 4:return fh(),null;case 10:return rg(e),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(e,t){try{var n="",r=t;do{n+=Qa(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function Ni(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}zr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qr=function(){},Hr=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,dh(gr.current);var a,c=null;switch(n){case"input":o=Ya(e,o),r=Ya(e,r),c=[];break;case"option":o=eb(e,o),r=eb(e,r),c=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),c=[];break;case"textarea":o=gb(e,o),r=gb(e,r),c=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=jf)}for(s in vb(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s){var u=o[s];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(m.hasOwnProperty(s)?c||(c=[]):(c=c||[]).push(s,null));for(s in r){var l=r[s];if(u=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==u&&(null!=l||null!=u))if("style"===s)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(c||(c=[]),c.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(c=c||[]).push(s,l)):"children"===s?"string"!=typeof l&&"number"!=typeof l||(c=c||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(m.hasOwnProperty(s)?(null!=l&&"onScroll"===s&&G("scroll",e),c||u===l||(c=[])):"object"==typeof l&&null!==l&&l.$$typeof===J?l.toString():(c=c||[]).push(s,l))}n&&(c=c||[]).push("style",n);var s=c;(t.updateQueue=s)&&(t.flags|=4)}},Wr=function(e,t,n,r){n!==r&&(t.flags|=4)};var Kr="function"==typeof WeakMap?WeakMap:Map;function Pi(e,t,n){(n=zg(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_o||(_o=!0,yo=r),Ni(0,t)},n}function Si(e,t,n){(n=zg(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return Ni(0,t),r(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===bo?bo=new Set([this]):bo.add(this),Ni(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var $r="function"==typeof WeakSet?WeakSet:Set;function Vi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Wi(e,t)}else t.current=null}function Xi(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:lg(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qf(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(y(163))}function Yi(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!=(4&(o=o.tag))&&0!=(1&o)&&(Zi(n,e),$i(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:lg(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Eg(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Eg(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&mf(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Cc(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163))}function aj(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=sb("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bj(e,t){if(zn&&"function"==typeof zn.onCommitFiberUnmount)try{zn.onCommitFiberUnmount(Bn,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!=(4&r))Zi(t,n);else{r=t;try{o()}catch(e){Wi(r,e)}}n=n.next}while(n!==e)}break;case 1:if(Vi(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Wi(t,e)}break;case 5:Vi(t);break;case 4:cj(e,t)}}function dj(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ej(e){return 5===e.tag||3===e.tag||4===e.tag}function fj(e){e:{for(var t=e.return;null!==t;){if(ej(t))break e;t=t.return}throw Error(y(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(y(161))}16&n.flags&&(pb(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ej(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function gj(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,null!=n||null!==t.onclick||(t.onclick=jf));else if(4!==r&&(e=e.child,null!==e))for(gj(e,t,n),e=e.sibling;null!==e;)gj(e,t,n),e=e.sibling}(e,n,t):function hj(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(e=e.child,null!==e))for(hj(e,t,n),e=e.sibling;null!==e;)hj(e,t,n),e=e.sibling}(e,n,t)}function cj(e,t){for(var n,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(y(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var i=e,c=o,u=c;;)if(bj(i,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(i=n,c=o.stateNode,8===i.nodeType?i.parentNode.removeChild(c):i.removeChild(c)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(bj(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ij(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Mn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&$a(n,r),wb(e,o),t=wb(e,r),o=0;o<a.length;o+=2){var i=a[o],c=a[o+1];"style"===i?tb(n,c):"dangerouslySetInnerHTML"===i?pe(n,c):"children"===i?pb(n,c):qa(n,i,c,t)}switch(e){case"input":ab(n,r);break;case"textarea":ib(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?fb(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?fb(n,!!r.multiple,r.defaultValue,!0):fb(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(y(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Cc(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(fo=cr(),aj(t.child,!0)),void kj(t);case 19:return void kj(t);case 17:return;case 23:case 24:return void aj(t,null!==t.memoizedState)}throw Error(y(163))}function kj(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $r),t.forEach(function(t){var r=function lj(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===eg()?1:2:(0===To&&(To=io),0===(t=Yc(62914560&~To))&&(t=4194304))),n=Hg(),null!==(e=Kj(e,t))&&($c(e,t,n),Mj(e,n))}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function mj(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Jr=Math.ceil,Qr=P.ReactCurrentDispatcher,Yr=P.ReactCurrentOwner,Xr=0,Zr=null,eo=null,to=0,no=0,ro=Bf(0),oo=0,ao=null,io=0,co=0,uo=0,lo=0,so=null,fo=0,po=1/0;function wj(){po=cr()+500}var ho,mo=null,_o=!1,yo=null,bo=null,vo=!1,go=null,wo=90,Eo=[],So=[],Oo=null,Co=0,ko=null,jo=-1,To=0,Po=0,xo=null,Io=!1;function Hg(){return 0!=(48&Xr)?cr():-1!==jo?jo:jo=cr()}function Ig(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===eg()?1:2;if(0===To&&(To=io),0!==ur.transition){0!==Po&&(Po=null!==so?so.pendingLanes:0),e=To;var t=4186112&~Po;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=eg(),0!=(4&Xr)&&98===e?e=Xc(12,To):e=Xc(e=function Sc(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),To),e}function Jg(e,t,n){if(50<Co)throw Co=0,ko=null,Error(y(185));if(null===(e=Kj(e,t)))return null;$c(e,t,n),e===Zr&&(uo|=t,4===oo&&Ii(e,to));var r=eg();1===t?0!=(8&Xr)&&0==(48&Xr)?Lj(e):(Mj(e,n),0===Xr&&(wj(),ig())):(0==(4&Xr)||98!==r&&99!==r||(null===Oo?Oo=new Set([e]):Oo.add(e)),Mj(e,n)),so=e}function Kj(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Mj(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var c=31-gt(i),u=1<<c,l=a[c];if(-1===l){if(0==(u&r)||0!=(u&o)){l=t,Rc(u);var s=vt;a[c]=10<=s?l+250:6<=s?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);i&=~u}if(r=Uc(e,e===Zr?to:0),t=vt,0===r)null!==n&&(n!==tr&&Wn(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==tr&&Wn(n)}15===t?(n=Lj.bind(null,e),null===rr?(rr=[n],or=Hn(Qn,jg)):rr.push(n),n=tr):14===t?n=hg(99,Lj.bind(null,e)):n=hg(n=function Tc(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,e))}}(t),function Nj(e){jo=-1;Po=To=0;if(0!=(48&Xr))throw Error(y(327));var t=e.callbackNode;if(Oj()&&e.callbackNode!==t)return null;var n=Uc(e,e===Zr?to:0);if(0===n)return null;var r=n;var o=Xr;Xr|=16;var a=Pj();Zr===e&&to===r||(wj(),Qj(e,r));for(;;)try{Rj();break}catch(t){Sj(e,t)}qg();Qr.current=a;Xr=o;null!==eo?r=0:(Zr=null,to=0,r=oo);if(0!=(io&uo))Qj(e,0);else if(0!==r){if(2===r&&(Xr|=64,e.hydrate&&(e.hydrate=!1,qf(e.containerInfo)),0!==(n=Wc(e))&&(r=Tj(e,n))),1===r)throw t=ao,Qj(e,0),Ii(e,n),Mj(e,cr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(y(345));case 2:Uj(e);break;case 3:if(Ii(e,n),(62914560&n)===n&&10<(r=fo+500-cr())){if(0!==Uc(e,0))break;if(((o=e.suspendedLanes)&n)!==n){Hg(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=jn(Uj.bind(null,e),r);break}Uj(e);break;case 4:if(Ii(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var i=31-gt(n);a=1<<i,(i=r[i])>o&&(o=i),n&=~a}if(n=o,10<(n=(120>(n=cr()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jr(n/1960))-n)){e.timeoutHandle=jn(Uj.bind(null,e),n);break}Uj(e);break;case 5:Uj(e);break;default:throw Error(y(329))}}Mj(e,cr());return e.callbackNode===t?Nj.bind(null,e):null}.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Ii(e,t){for(t&=~lo,t&=~uo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function Lj(e){if(0!=(48&Xr))throw Error(y(327));if(Oj(),e===Zr&&0!=(e.expiredLanes&to)){var t=to,n=Tj(e,t);0!=(io&uo)&&(n=Tj(e,t=Uc(e,t)))}else n=Tj(e,t=Uc(e,0));if(0!==e.tag&&2===n&&(Xr|=64,e.hydrate&&(e.hydrate=!1,qf(e.containerInfo)),0!==(t=Wc(e))&&(n=Tj(e,t))),1===n)throw n=ao,Qj(e,0),Ii(e,t),Mj(e,cr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Uj(e),Mj(e,cr()),null}function Wj(e,t){var n=Xr;Xr|=1;try{return e(t)}finally{0===(Xr=n)&&(wj(),ig())}}function Xj(e,t){var n=Xr;Xr&=-2,Xr|=8;try{return e(t)}finally{0===(Xr=n)&&(wj(),ig())}}function ni(e,t){I(ro,no),no|=t,io|=t}function Ki(){no=ro.current,H(ro)}function Qj(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Tn(n)),null!==eo)for(n=eo.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Gf();break;case 3:fh(),H(Vn),H(Fn),uh();break;case 5:hh(r);break;case 4:fh();break;case 13:case 19:H(Sr);break;case 10:rg(r);break;case 23:case 24:Ki()}n=n.return}Zr=e,eo=Tg(e.current,null),to=no=io=t,oo=0,ao=null,lo=uo=co=0}function Sj(e,t){for(;;){var n=eo;try{if(qg(),Tr.current=Lr,Nr){for(var r=Ir.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}Nr=!1}if(xr=0,Ar=Mr=Ir=null,Rr=!1,Yr.current=null,null===n||null===n.return){oo=1,ao=t,eo=null;break}e:{var a=e,i=n.return,c=n,u=t;if(t=to,c.flags|=2048,c.firstEffect=c.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&c.mode)){var s=c.alternate;s?(c.updateQueue=s.updateQueue,c.memoizedState=s.memoizedState,c.lanes=s.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=0!=(1&Sr.current),p=i;do{var d;if(d=13===p.tag){var h=p.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var m=p.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(d){var _=p.updateQueue;if(null===_){var y=new Set;y.add(l),p.updateQueue=y}else _.add(l);if(0==(2&p.mode)){if(p.flags|=64,c.flags|=16384,c.flags&=-2981,1===c.tag)if(null===c.alternate)c.tag=17;else{var b=zg(-1,1);b.tag=2,Ag(c,b)}c.lanes|=1;break e}u=void 0,c=t;var v=a.pingCache;if(null===v?(v=a.pingCache=new Kr,u=new Set,v.set(l,u)):void 0===(u=v.get(l))&&(u=new Set,v.set(l,u)),!u.has(c)){u.add(c);var g=Yj.bind(null,a,l,c);l.then(g,g)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);u=Error((Ra(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==oo&&(oo=2),u=Mi(u,c),p=i;do{switch(p.tag){case 3:a=u,p.flags|=4096,t&=-t,p.lanes|=t,Bg(p,Pi(0,a,t));break e;case 1:a=u;var w=p.type,E=p.stateNode;if(0==(64&p.flags)&&("function"==typeof w.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===bo||!bo.has(E)))){p.flags|=4096,t&=-t,p.lanes|=t,Bg(p,Si(p,a,t));break e}}p=p.return}while(null!==p)}Zj(n)}catch(e){t=e,eo===n&&null!==n&&(eo=n=n.return);continue}break}}function Pj(){var e=Qr.current;return Qr.current=Lr,null===e?Lr:e}function Tj(e,t){var n=Xr;Xr|=16;var r=Pj();for(Zr===e&&to===t||Qj(e,t);;)try{ak();break}catch(t){Sj(e,t)}if(qg(),Xr=n,Qr.current=r,null!==eo)throw Error(y(261));return Zr=null,to=0,oo}function ak(){for(;null!==eo;)bk(eo)}function Rj(){for(;null!==eo&&!Gn();)bk(eo)}function bk(e){var t=ho(e.alternate,e,no);e.memoizedProps=e.pendingProps,null===t?Zj(e):eo=t,Yr.current=null}function Zj(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=Gi(n,t,no)))return void(eo=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&no)||0==(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Li(t)))return n.flags&=2047,void(eo=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(eo=t);eo=t=e}while(null!==t);0===oo&&(oo=5)}function Uj(e){var t=eg();return gg(99,function dk(e,t){do{Oj()}while(null!==go);if(0!=(48&Xr))throw Error(y(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(y(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var i=e.eventTimes,c=e.expirationTimes;0<a;){var u=31-gt(a),l=1<<u;o[u]=0,i[u]=-1,c[u]=-1,a&=~l}if(null!==Oo&&0==(24&r)&&Oo.has(e)&&Oo.delete(e),e===Zr&&(eo=Zr=null,to=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Xr,Xr|=32,Yr.current=null,Cn=Ct,Oe(i=Ne())){if("selectionStart"in i)c={start:i.selectionStart,end:i.selectionEnd};else e:if(c=(c=i.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,a=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(e){c=null;break e}var s=0,f=-1,p=-1,d=0,h=0,m=i,_=null;t:for(;;){for(var b;m!==c||0!==a&&3!==m.nodeType||(f=s+a),m!==u||0!==l&&3!==m.nodeType||(p=s+l),3===m.nodeType&&(s+=m.nodeValue.length),null!==(b=m.firstChild);)_=m,m=b;for(;;){if(m===i)break t;if(_===c&&++d===a&&(f=s),_===u&&++h===l&&(p=s),null!==(b=m.nextSibling))break;_=(m=_).parentNode}m=b}c=-1===f||-1===p?null:{start:f,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;kn={focusedElem:i,selectionRange:c},Ct=!1,xo=null,Io=!1,mo=r;do{try{ek()}catch(e){if(null===mo)throw Error(y(330));Wi(mo,e),mo=mo.nextEffect}}while(null!==mo);xo=null,mo=r;do{try{for(i=e;null!==mo;){var v=mo.flags;if(16&v&&pb(mo.stateNode,""),128&v){var g=mo.alternate;if(null!==g){var w=g.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&v){case 2:fj(mo),mo.flags&=-3;break;case 6:fj(mo),mo.flags&=-3,ij(mo.alternate,mo);break;case 1024:mo.flags&=-1025;break;case 1028:mo.flags&=-1025,ij(mo.alternate,mo);break;case 4:ij(mo.alternate,mo);break;case 8:cj(i,c=mo);var E=c.alternate;dj(c),null!==E&&dj(E)}mo=mo.nextEffect}}catch(e){if(null===mo)throw Error(y(330));Wi(mo,e),mo=mo.nextEffect}}while(null!==mo);if(w=kn,g=Ne(),v=w.focusedElem,i=w.selectionRange,g!==v&&v&&v.ownerDocument&&function Me(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Me(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}(v.ownerDocument.documentElement,v)){null!==i&&Oe(v)&&(g=i.start,void 0===(w=i.end)&&(w=g),"selectionStart"in v?(v.selectionStart=g,v.selectionEnd=Math.min(w,v.value.length)):(w=(g=v.ownerDocument||document)&&g.defaultView||window).getSelection&&(w=w.getSelection(),c=v.textContent.length,E=Math.min(i.start,c),i=void 0===i.end?E:Math.min(i.end,c),!w.extend&&E>i&&(c=i,i=E,E=c),c=Le(v,E),a=Le(v,i),c&&a&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((g=g.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),E>i?(w.addRange(g),w.extend(a.node,a.offset)):(g.setEnd(a.node,a.offset),w.addRange(g))))),g=[];for(w=v;w=w.parentNode;)1===w.nodeType&&g.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<g.length;v++)(w=g[v]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ct=!!Cn,kn=Cn=null,e.current=n,mo=r;do{try{for(v=e;null!==mo;){var S=mo.flags;if(36&S&&Yi(v,mo.alternate,mo),128&S){g=void 0;var O=mo.ref;if(null!==O){var C=mo.stateNode;switch(mo.tag){case 5:g=C;break;default:g=C}"function"==typeof O?O(g):O.current=g}}mo=mo.nextEffect}}catch(e){if(null===mo)throw Error(y(330));Wi(mo,e),mo=mo.nextEffect}}while(null!==mo);mo=null,nr(),Xr=o}else e.current=n;if(vo)vo=!1,go=e,wo=t;else for(mo=r;null!==mo;)t=mo.nextEffect,mo.nextEffect=null,8&mo.flags&&((S=mo).sibling=null,S.stateNode=null),mo=t;if(0===(r=e.pendingLanes)&&(bo=null),1===r?e===ko?Co++:(Co=0,ko=e):Co=0,n=n.stateNode,zn&&"function"==typeof zn.onCommitFiberRoot)try{zn.onCommitFiberRoot(Bn,n,void 0,64==(64&n.current.flags))}catch(e){}if(Mj(e,cr()),_o)throw _o=!1,e=yo,yo=null,e;return 0!=(8&Xr)?null:(ig(),null)}.bind(null,e,t)),null}function ek(){for(;null!==mo;){var e=mo.alternate;Io||null===xo||(0!=(8&mo.flags)?dc(mo,xo)&&(Io=!0):13===mo.tag&&mj(e,mo)&&dc(mo,xo)&&(Io=!0));var t=mo.flags;0!=(256&t)&&Xi(e,mo),0==(512&t)||vo||(vo=!0,hg(97,function(){return Oj(),null})),mo=mo.nextEffect}}function Oj(){if(90!==wo){var e=97<wo?97:wo;return wo=90,gg(e,fk)}return!1}function $i(e,t){Eo.push(t,e),vo||(vo=!0,hg(97,function(){return Oj(),null}))}function Zi(e,t){So.push(t,e),vo||(vo=!0,hg(97,function(){return Oj(),null}))}function fk(){if(null===go)return!1;var e=go;if(go=null,0!=(48&Xr))throw Error(y(331));var t=Xr;Xr|=32;var n=So;So=[];for(var r=0;r<n.length;r+=2){var o=n[r],a=n[r+1],i=o.destroy;if(o.destroy=void 0,"function"==typeof i)try{i()}catch(e){if(null===a)throw Error(y(330));Wi(a,e)}}for(n=Eo,Eo=[],r=0;r<n.length;r+=2){o=n[r],a=n[r+1];try{var c=o.create;o.destroy=c()}catch(e){if(null===a)throw Error(y(330));Wi(a,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Xr=t,ig(),!0}function gk(e,t,n){Ag(e,t=Pi(0,t=Mi(n,t),1)),t=Hg(),null!==(e=Kj(e,1))&&($c(e,1,t),Mj(e,t))}function Wi(e,t){if(3===e.tag)gk(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gk(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===bo||!bo.has(r))){var o=Si(n,e=Mi(t,e),1);if(Ag(n,o),o=Hg(),null!==(n=Kj(n,1)))$c(n,1,o),Mj(n,o);else if("function"==typeof r.componentDidCatch&&(null===bo||!bo.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Yj(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Hg(),e.pingedLanes|=e.suspendedLanes&n,Zr===e&&(to&n)===n&&(4===oo||3===oo&&(62914560&to)===to&&500>cr()-fo?Qj(e,0):lo|=n),Mj(e,t)}function ik(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(e,t,n,r){return new ik(e,t,n,r)}function ji(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tg(e,t){var n=e.alternate;return null===n?((n=nh(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vg(e,t,n,r,o,a){var i=2;if(r=e,"function"==typeof e)ji(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case R:return Xg(n.children,o,a,t);case Q:i=8,o|=16;break;case L:i=8,o|=1;break;case D:return(e=nh(12,n,t,8|o)).elementType=D,e.type=D,e.lanes=a,e;case z:return(e=nh(13,n,t,o)).type=z,e.elementType=z,e.lanes=a,e;case q:return(e=nh(19,n,t,o)).elementType=q,e.lanes=a,e;case Y:return vi(n,o,a,t);case X:return(e=nh(24,n,t,o)).elementType=X,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case F:i=10;break e;case V:i=9;break e;case U:i=11;break e;case W:i=14;break e;case K:i=16,r=null;break e;case $:i=22;break e}throw Error(y(130,null==e?e:typeof e,""))}return(t=nh(i,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Xg(e,t,n,r){return(e=nh(7,e,r,t)).lanes=n,e}function vi(e,t,n,r){return(e=nh(23,e,r,t)).elementType=Y,e.lanes=n,e}function Ug(e,t,n){return(e=nh(6,e,null,t)).lanes=n,e}function Wg(e,t,n){return(t=nh(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jk(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function lk(e,t,n,r){var o=t.current,a=Hg(),i=Ig(o);e:if(n){t:{if(Zb(n=n._reactInternals)!==n||1!==n.tag)throw Error(y(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(Ff(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(y(171))}if(1===n.tag){var u=n.type;if(Ff(u)){n=If(n,u,c);break e}}n=c}else n=Dn;return null===t.context?t.context=n:t.pendingContext=n,(t=zg(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ag(o,t),Jg(o,i,a),i}function mk(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function nk(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ok(e,t){nk(e,t),(e=e.alternate)&&nk(e,t)}function qk(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new jk(e,t,null!=n&&!0===n.hydrate),t=nh(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,xg(t),e[An]=n.current,cf(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function rk(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function tk(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a._internalRoot;if("function"==typeof o){var c=o;o=function(){var e=mk(i);c.call(e)}}lk(t,i,e,o)}else{if(a=n._reactRootContainer=function sk(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new qk(e,0,t?{hydrate:!0}:void 0)}(n,r),i=a._internalRoot,"function"==typeof o){var u=o;o=function(){var e=mk(i);u.call(e)}}Xj(function(){lk(t,i,e,o)})}return mk(i)}function uk(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(t))throw Error(y(200));return function kk(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ho=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Vn.current)Br=!0;else{if(0==(n&r)){switch(Br=!1,t.tag){case 3:ri(t),sh();break;case 5:gh(t);break;case 1:Ff(t.type)&&Jf(t);break;case 4:eh(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;I(lr,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?ti(e,t,n):(I(Sr,1&Sr.current),null!==(t=hi(e,t,n))?t.sibling:null);I(Sr,1&Sr.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ai(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Sr,Sr.current),r)break;return null;case 23:case 24:return t.lanes=0,mi(e,t,n)}return hi(e,t,n)}Br=0!=(16384&e.flags)}else Br=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=Ef(t,Fn.current),tg(t,n),o=Ch(null,t,r,e,o,n),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ff(r)){var a=!0;Jf(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,xg(t);var i=r.getDerivedStateFromProps;"function"==typeof i&&Gg(t,r,i,e),o.updater=mr,t.stateNode=o,o._reactInternals=t,Og(t,r,e,n),t=qi(null,t,r,!0,a,n)}else t.tag=0,fi(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function hk(e){if("function"==typeof e)return ji(e)?1:0;if(null!=e){if((e=e.$$typeof)===U)return 11;if(e===W)return 14}return 2}(o),e=lg(o,e),a){case 0:t=li(null,t,o,e,n);break e;case 1:t=pi(null,t,o,e,n);break e;case 11:t=gi(null,t,o,e,n);break e;case 14:t=ii(null,t,o,lg(o.type,e),r,n);break e}throw Error(y(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,li(e,t,r,o=t.elementType===r?o:lg(r,o),n);case 1:return r=t.type,o=t.pendingProps,pi(e,t,r,o=t.elementType===r?o:lg(r,o),n);case 3:if(ri(t),r=t.updateQueue,null===e||null===r)throw Error(y(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,yg(e,t),Cg(t,r,null,n),(r=t.memoizedState.element)===o)sh(),t=hi(e,t,n);else{if((a=(o=t.stateNode).hydrate)&&(Cr=rf(t.stateNode.containerInfo.firstChild),Or=t,a=kr=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(a=e[o])._workInProgressVersionPrimary=e[o+1],jr.push(a);for(n=br(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else fi(e,t,r,n),sh();t=t.child}return t;case 5:return gh(t),null===e&&ph(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,i=o.children,nf(r,o)?i=null:null!==a&&nf(r,a)&&(t.flags|=16),oi(e,t),fi(e,t,i,n),t.child;case 6:return null===e&&ph(t),null;case 13:return ti(e,t,n);case 4:return eh(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=yr(t,null,r,n):fi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,gi(e,t,r,o=t.elementType===r?o:lg(r,o),n);case 7:return fi(e,t,t.pendingProps,n),t.child;case 8:case 12:return fi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value;var c=t.type._context;if(I(lr,c._currentValue),c._currentValue=a,null!==i)if(c=i.value,0===(a=dn(c,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(i.children===o.children&&!Vn.current){t=hi(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){i=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&a)){1===c.tag&&((l=zg(-1,n&-n)).tag=2,Ag(c,l)),c.lanes|=n,null!==(l=c.alternate)&&(l.lanes|=n),sg(c.return,n),u.lanes|=n;break}l=l.next}}else i=10===c.tag&&c.type===t.type?null:c.child;if(null!==i)i.return=c;else for(i=c;null!==i;){if(i===t){i=null;break}if(null!==(c=i.sibling)){c.return=i.return,i=c;break}i=i.return}c=i}fi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,tg(t,n),r=r(o=vg(o,a.unstable_observedBits)),t.flags|=1,fi(e,t,r,n),t.child;case 14:return a=lg(o=t.type,t.pendingProps),ii(e,t,o,a=lg(o.type,a),r,n);case 15:return ki(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:lg(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ff(r)?(e=!0,Jf(t)):e=!1,tg(t,n),Mg(t,r,o),Og(t,r,o,n),qi(null,t,r,!0,e,n);case 19:return Ai(e,t,n);case 23:case 24:return mi(e,t,n)}throw Error(y(156,t.tag))},qk.prototype.render=function(e){lk(e,this._internalRoot,null,null)},qk.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;lk(null,e,null,function(){t[An]=null})},We=function(e){13===e.tag&&(Jg(e,4,Hg()),ok(e,4))},Qe=function(e){13===e.tag&&(Jg(e,67108864,Hg()),ok(e,67108864))},Ye=function(e){if(13===e.tag){var t=Hg(),n=Ig(e);Jg(e,n,t),ok(e,n)}},Xe=function(e,t){return t()},be=function(e,t,n){switch(t){case"input":if(ab(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Db(r);if(!o)throw Error(y(90));Wa(r),ab(r,o)}}}break;case"textarea":ib(e,n);break;case"select":null!=(t=n.value)&&fb(e,!!n.multiple,t,!1)}},Gb=Wj,Hb=function(e,t,n,r,o){var a=Xr;Xr|=4;try{return gg(98,e.bind(null,t,n,r,o))}finally{0===(Xr=a)&&(wj(),ig())}},Ib=function(){0==(49&Xr)&&(function Vj(){if(null!==Oo){var e=Oo;Oo=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Mj(e,cr())})}ig()}(),Oj())},Te=function(e,t){var n=Xr;Xr|=2;try{return e(t)}finally{0===(Xr=n)&&(wj(),ig())}};var Mo={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},Ao={findFiberByHostInstance:wc,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},No={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=cc(e))?null:e.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||function pk(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Bn=Ro.inject(No),zn=Ro}catch(fe){}}r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mo,r.createPortal=uk,r.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(y(188));throw Error(y(268,Object.keys(e)))}return e=null===(e=cc(t))?null:e.stateNode},r.flushSync=function(e,t){var n=Xr;if(0!=(48&n))return e(t);Xr|=1;try{if(e)return gg(99,e.bind(null,t))}finally{Xr=n,ig()}},r.hydrate=function(e,t,n){if(!rk(t))throw Error(y(200));return tk(null,e,t,!0,n)},r.render=function(e,t,n){if(!rk(t))throw Error(y(200));return tk(null,e,t,!1,n)},r.unmountComponentAtNode=function(e){if(!rk(e))throw Error(y(40));return!!e._reactRootContainer&&(Xj(function(){tk(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0)},r.unstable_batchedUpdates=Wj,r.unstable_createPortal=function(e,t){return uk(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},r.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rk(n))throw Error(y(200));if(null==e||void 0===e._reactInternals)throw Error(y(38));return tk(e,t,n,!1,r)},r.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(170)},function(e,t,n){"use strict";var r,o,a,i;if("object"==typeof performance&&"function"==typeof performance.now){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,f=null,p=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(p,0),e}};r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(p,0))},o=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,y=null,b=-1,v=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();g=e+v;try{y(!0,e)?E.postMessage(null):(_=!1,y=null)}catch(e){throw E.postMessage(null),e}}else _=!1},r=function(e){y=e,_||(_=!0,E.postMessage(null))},o=function(e,n){b=d(function(){e(t.unstable_now())},n)},a=function(){h(b),b=-1}}function H(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<I(o,t)))break e;e[r]=t,e[n]=o,n=r}}function J(e){return void 0===(e=e[0])?null:e}function K(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,i=e[a],c=a+1,u=e[c];if(void 0!==i&&0>I(i,n))void 0!==u&&0>I(u,i)?(e[r]=u,e[c]=n,r=c):(e[r]=i,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],O=[],C=1,k=null,j=3,P=!1,x=!1,M=!1;function T(e){for(var t=J(O);null!==t;){if(null===t.callback)K(O);else{if(!(t.startTime<=e))break;K(O),t.sortIndex=t.expirationTime,H(S,t)}t=J(O)}}function U(e){if(M=!1,T(e),!x)if(null!==J(S))x=!0,r(V);else{var t=J(O);null!==t&&o(U,t.startTime-e)}}function V(e,n){x=!1,M&&(M=!1,a()),P=!0;var r=j;try{for(T(n),k=J(S);null!==k&&(!(k.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=k.callback;if("function"==typeof i){k.callback=null,j=k.priorityLevel;var c=i(k.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?k.callback=c:k===J(S)&&K(S),T(n)}else K(S);k=J(S)}if(null!==k)var u=!0;else{var l=J(O);null!==l&&o(U,l.startTime-n),u=!1}return u}finally{k=null,j=r,P=!1}}var A=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||P||(x=!0,r(V))},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return J(S)},t.unstable_next=function(e){switch(j){case 1:case 2:case 3:var t=3;break;default:t=j}var n=j;j=t;try{return e()}finally{j=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=A,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=j;j=e;try{return t()}finally{j=n}},t.unstable_scheduleCallback=function(e,n,i){var c=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?c+i:c:i=c,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:n,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>c?(e.sortIndex=i,H(O,e),null===J(S)&&e===J(O)&&(M?a():M=!0,o(U,i-c))):(e.sortIndex=u,H(S,e),x||P||(x=!0,r(V))),e},t.unstable_wrapCallback=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}},function(e,t,n){"use strict";var r=n(172);function emptyFunction(){}e.exports=function(){function shim(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return e.checkPropTypes=emptyFunction,e.PropTypes=e,e}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var n=this.map[e];this.map[e]=n?n+","+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),iteratorFor(e)},t.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},e.Headers=Headers,e.Request=Request,e.Response=Response,e.fetch=function(e,n){return new Promise(function(r,o){var a=new Request(e,n),i=new XMLHttpRequest;i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new Headers,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;r(new Response(o,n))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(a.method,a.url,!0),"include"===a.credentials?i.withCredentials=!0:"omit"===a.credentials&&(i.withCredentials=!1),"responseType"in i&&t.blob&&(i.responseType="blob"),a.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function readBlobAsArrayBuffer(e){var t=new FileReader,n=fileReaderReady(t);return t.readAsArrayBuffer(e),n}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=bufferClone(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return function readBlobAsText(e){var t=new FileReader,n=fileReaderReady(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function readArrayBufferAsText(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function Request(e,t){var n=(t=t||{}).body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=function normalizeMethod(e){var t=e.toUpperCase();return a.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function decode(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function Response(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";e.exports=n(204)},function(e,t,n){"use strict";n.d(t,"a",function(){return ChatUpdateView});var r=n(0),o=n.n(r),a=n(7),i=n(1),c=n.n(i),u=n(27);function ChatUpdateView(e){var t=e.onClick,n=e.update,r=e.view_top;return o.a.createElement("div",{className:"app-chat-update "+(r?"top":"bottom")},o.a.createElement(u.a,{className:"ach-elem",classDefault:"s-color-BlackMiddle s-bg-BlackLight",classHover:"s-color-BlackLight s-bg-BlackMiddle",onClick:t},n>0&&o.a.createElement("div",{className:"ach-count"},o.a.createElement(a.n,{color:"red",value:n})),o.a.createElement("div",{className:"ach-icon"},o.a.createElement("div",{className:r?"icon-chevron-up":"icon-chevron-down"}))))}ChatUpdateView.propTypes={onClick:c.a.func,update:c.a.number,view_top:c.a.bool}},function(e,t,n){"use strict";var r=n(174),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function getStatics(e){return r.isMemo(e)?i:c[e.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,l=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function hoistNonReactStatics(e,t,n){if("string"!=typeof t){if(d){var r=p(t);r&&r!==d&&hoistNonReactStatics(e,r,n)}var o=l(t);s&&(o=o.concat(s(t)));for(var i=getStatics(e),c=getStatics(t),h=0;h<o.length;++h){var m=o[h];if(!(a[m]||n&&n[m]||c&&c[m]||i&&i[m])){var _=f(t,m);try{u(e,m,_)}catch(e){}}}return e}return e}},function(e,t,n){"use strict";(function(e,r){var o,a=n(195);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=Object(a.a)(o);t.a=i}).call(this,n(117),n(206)(e))},function(e,t){e.exports=function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(208);e.exports=pathToRegexp,e.exports.parse=parse,e.exports.compile=function compile(e,t){return tokensToFunction(parse(e,t))},e.exports.tokensToFunction=tokensToFunction,e.exports.tokensToRegExp=tokensToRegExp;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(e,t){for(var n,r=[],a=0,i=0,c="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var l=n[0],s=n[1],f=n.index;if(c+=e.slice(i,f),i=f+l.length,s)c+=s[1];else{var p=e[i],d=n[2],h=n[3],m=n[4],_=n[5],y=n[6],b=n[7];c&&(r.push(c),c="");var v=null!=d&&null!=p&&p!==d,g="+"===y||"*"===y,w="?"===y||"*"===y,E=n[2]||u,S=m||_;r.push({name:h||a++,prefix:d||"",delimiter:E,optional:w,repeat:g,partial:v,asterisk:!!b,pattern:S?escapeGroup(S):b?".*":"[^"+escapeString(E)+"]+?"})}}return i<e.length&&(c+=e.substr(i)),c&&r.push(c),r}function encodeURIComponentPretty(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,o){for(var a="",i=n||{},c=(o||{}).pretty?encodeURIComponentPretty:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!=typeof l){var s,f=i[l.name];if(null==f){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(s=c(f[p]),!t[u].test(s))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(s)+"`");a+=(0===p?l.prefix:l.delimiter)+s}}else{if(s=l.asterisk?encodeURI(f).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):c(f),!t[u].test(s))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+s+'"');a+=l.prefix+s}}else a+=l}return a}}function escapeString(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(e,t){return e.keys=t,e}function flags(e){return e.sensitive?"":"i"}function tokensToRegExp(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,a=!1!==n.end,i="",c=0;c<e.length;c++){var u=e[c];if("string"==typeof u)i+=escapeString(u);else{var l=escapeString(u.prefix),s="(?:"+u.pattern+")";t.push(u),u.repeat&&(s+="(?:"+l+s+")*"),i+=s=u.optional?u.partial?l+"("+s+")?":"(?:"+l+"("+s+"))?":l+"("+s+")"}}var f=escapeString(n.delimiter||"/"),p=i.slice(-f.length)===f;return o||(i=(p?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=a?"$":o&&p?"":"(?="+f+"|$)",attachKeys(new RegExp("^"+i,flags(n)),t)}function pathToRegexp(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function regexpToRegexp(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(e,t)}(e,t):r(e)?function arrayToRegexp(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(pathToRegexp(e[o],t,n).source);return attachKeys(new RegExp("(?:"+r.join("|")+")",flags(n)),t)}(e,t,n):function stringToRegexp(e,t,n){return tokensToRegExp(parse(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";n.d(t,"b",function(){return onFormGet}),n.d(t,"c",function(){return onFormPost}),n.d(t,"a",function(){return onFormClear});var r=n(24),o=n(88);function onForm(e,t,n){return r.a.Ajax({type:t,send:e,param:n}).then(function(e){return Object(o.d)(t,e),Object(o.a)(t),e}).catch(function(e){throw e.data&&Object(o.b)(t,e.data),e})}function onFormGet(e,t){return onForm("GET",e,t)}function onFormPost(e,t){return onForm("POST",e,t)}function onFormClear(e){Object(o.c)(e),Object(o.a)(e)}},,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(3),u=n(175),l=n(26);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){function ChatUpdateMainView(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatUpdateMainView);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,(e=_getPrototypeOf(ChatUpdateMainView)).call.apply(e,[this].concat(r))),_defineProperty(_assertThisInitialized(t),"state",{count_comment:null}),_defineProperty(_assertThisInitialized(t),"mount",!1),_defineProperty(_assertThisInitialized(t),"attr",null),_defineProperty(_assertThisInitialized(t),"componentDidMount",function(){t.attr=t.props.attr,t.props.onChatApiSubscribe(t.attr),t.props.onChatApiOnUpdate(t.updateChat),t.mount=!0}),_defineProperty(_assertThisInitialized(t),"componentWillUnmount",function(){t.props.onChatApiUnSubscribe(t.attr),t.props.onChatApiOffUpdate(t.updateChat),t.mount=!1}),_defineProperty(_assertThisInitialized(t),"componentDidUpdate",function(e){t.props.comments_last_id!=e.comments_last_id&&t.setState(function(){return{count_comment:null}})}),_defineProperty(_assertThisInitialized(t),"updateChat",function(e){e.last_comment_id!=t.props.comments_last_id&&t.setState(function(t){return{count_comment:(null==t.count_comment?0:t.count_comment)+e.count_comment,last_comment_id:e.last_comment_id}})}),_defineProperty(_assertThisInitialized(t),"onClick",function(){var e=t.props,n=e.params,r=e.key_chat,o=e.view_top;t.setState(function(){return{count_comment:null}});var a=o?c.c:c.g;t.props.dispatch(t.props.onChatApiLoad(a,n,r)).then(function(){t.mount&&t.props.dispatch(Object(l.e)(o))})}),_defineProperty(_assertThisInitialized(t),"render",function(){var e=t.props,n=e.comment_last,r=e.view_top;return null!=t.state.count_comment?o.a.createElement(u.a,{update:t.state.count_comment,onClick:t.onClick,view_top:r}):n?null:o.a.createElement(u.a,{update:0,onClick:t.onClick,view_top:r})}),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ChatUpdateMainView,o.a.Component),ChatUpdateMainView}();_defineProperty(s,"propTypes",{dispatch:i.a.func,attr:i.a.any,key_chat:i.a.string,onChatApiLoad:i.a.func,onChatApiSubscribe:i.a.func,onChatApiUnSubscribe:i.a.func,onChatApiOnUpdate:i.a.func,onChatApiOffUpdate:i.a.func,view_top:i.a.bool,params:i.a.object,comments_last_id:i.a.number,comment_last:i.a.bool.isRequired})},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n.n(o),i=n(6);function SocketExistsContainer(e){return e.socket_connect?e.children:null}SocketExistsContainer.propTypes={children:i.a,socket_connect:a.a.bool},t.a=Object(r.b)(function mapStateToProps(e){return{socket_connect:e.defaultState.getIn(["socket_connect"])}})(SocketExistsContainer)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n(1),c=n.n(i),u=n(8),l=n(12),s=n(6);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function ScrollFixedBottomView(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ScrollFixedBottomView),t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(ScrollFixedBottomView).call(this,e)),_defineProperty(_assertThisInitialized(t),"_PmWindowScroll",function(e){var n=e.scroll,r=t.props.vidjet_height,o=t.state.global_scroll,a=n>=0&&n<=r;(1==a||0==a&&1==(o>=0&&o<=r))&&t.setState(function(){return{global_scroll:n}}),t.setState(function(){return{scroll_active:!1}})}),_defineProperty(_assertThisInitialized(t),"_PmWindowScrollBegin",function(){return t.setState(function(){return{scroll_active:!0}})}),_defineProperty(_assertThisInitialized(t),"componentDidMountUpdate",function(){var e=t.state.scroll_active,n=t.props,r=n.window_height,o=n.vidjet_height;if(!(e||o<=r)){var a=t.parent.current.getBoundingClientRect(),i=parseInt(t.props.vidjet_height-a.top-a.height);0==t.state.border_bottom&&t.state.border_bottom!=i&&t.setState(function(){return{border_bottom:i}})}}),_defineProperty(_assertThisInitialized(t),"componentDidMount",function(){Object(u.b)(l.y,t._PmWindowScroll),Object(u.b)(l.z,t._PmWindowScrollBegin),t.componentDidMountUpdate()}),_defineProperty(_assertThisInitialized(t),"componentWillUnmount",function(){Object(u.a)(l.y,t._PmWindowScroll),Object(u.a)(l.z,t._PmWindowScrollBegin)}),_defineProperty(_assertThisInitialized(t),"componentDidUpdate",function(){t.componentDidMountUpdate();var e=!(t.state.scroll_active||t.props.vidjet_height<=t.props.window_height);t.state.default_active_state!=e&&t.setState(function(){return{default_active_state:e}})}),_defineProperty(_assertThisInitialized(t),"render",function(){var e=t.state,n=e.global_scroll,r=e.scroll_active,a=e.default_active_state,i=e.border_bottom,c=t.props,u=c.window_height,l=c.vidjet_height,s=c.children,f=c.border,p=!(r||l<=u),d=1-f-u/2,h=l-u-1+f,m=Math.min(h,Math.max(d,n+i)),_={bottom:p?l-m-u+f-1+"px":"auto"},y="app-scroll-fixed-block-bottom "+(p&&d!=m&&h!=m?"app-scroll-fixed-effect"+(a?" apper":""):"");return o.a.createElement("div",{ref:t.parent,className:"app-scroll-fixed-block"},o.a.createElement("div",{ref:t.elem,className:y,style:p?_:null},s))}),t.elem=o.a.createRef(),t.parent=o.a.createRef(),t.state={global_scroll:0,scroll_active:!0,default_active_state:e.vidjet_height<=e.window_height,border_bottom:0},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ScrollFixedBottomView,o.a.Component),ScrollFixedBottomView}();_defineProperty(f,"propTypes",{window_height:c.a.number,vidjet_height:c.a.number,children:s.a,border:c.a.number});var p=function ScrollFixedBottomBlock(e){var t=e.height_auto,n=e.children;return t?o.a.createElement(f,e,n):n};p.propTypes={height_auto:c.a.bool,children:s.a};var d=Object(a.b)(function mapStateToPropsHeightAuto(e,t){var n=e.defaultState;return{height_auto:n.get("height_auto"),window_height:n.get("window_height"),vidjet_height:n.get("vidjet_height"),children:t.children,border:n.get("scroll_border_bottom")}})(p);t.a=d},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(77);t.a=function BrendCommentContainer(){var e=Object(r.useCallback)(function(){return Object(a.b)("brend_comment_view")},[]);return o.a.createElement("div",{className:"app-brend-comments s-color-Main",onClick:e},"Tolstoy Comments ©")}},function(e,t,n){"use strict";n.d(t,"a",function(){return FormButtonTextView});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(6);function FormButtonTextView(e){return o.a.createElement("div",{className:"m10"},o.a.createElement("span",{onClick:e.click,className:"a"},e.children))}FormButtonTextView.propTypes={click:i.a.func,children:c.a}},function(e,t,n){"use strict";n.d(t,"a",function(){return SocialIconSvg});var r=n(0),o=n.n(r),a=n(1),i=n.n(a);function SocialIconSvg(e){var t=e.link,n=e.size,r=e.colorMain,a=e.colorBackground,i=function IconSvg(e){switch(e){case"Vkontakte":return VkontakteIconSvg;case"Facebook":return FacebookIconSvg;case"Google":return GoogleIconSvg;case"Twitter":return TwitterIconSvg;case"Telegram":return TelegramIconSvg;case"Odnoklassniki":return OdnoklassnikiIconSvg;case"Github":return GittubIconSvg;case"Yandex":return YandexIconSvg;default:return null}}(t);return null!=i?o.a.createElement(i,{size:n,colorMain:r,colorBackground:a}):null}function OdnoklassnikiIconSvg(e){var t=e.size,n=e.colorMain,r=e.colorBackground;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 50 50"},o.a.createElement("rect",{x:"0.193695",width:"48.8063",height:"48.8063",rx:"10",fill:n}),o.a.createElement("path",{d:"M24.6497 26.0562C28.8799 26.0562 32.3092 22.627 32.3092 18.3967C32.3092 14.1665 28.8799 10.7373 24.6497 10.7373C20.4195 10.7373 16.9903 14.1666 16.9903 18.3968C16.9955 22.6248 20.4217 26.051 24.6497 26.0562ZM24.6497 14.2724C26.9275 14.2724 28.774 16.1189 28.774 18.3968C28.774 20.6746 26.9275 22.5211 24.6497 22.5211C22.3719 22.5211 20.5253 20.6746 20.5253 18.3968C20.5253 16.1189 22.3719 14.2724 24.6497 14.2724Z",fill:r}),o.a.createElement("path",{d:"M32.1525 29.6862C32.9849 29.1379 33.4864 28.2084 33.4876 27.2116C33.4992 26.3844 33.0324 25.6248 32.2892 25.2614C31.5256 24.88 30.6115 24.9659 29.9324 25.4829C26.7849 27.7776 22.5158 27.7776 19.3683 25.4829C18.6881 24.9686 17.7756 24.8828 17.0115 25.2614C16.2686 25.6247 15.8016 26.3835 15.8119 27.2104C15.8137 28.207 16.3151 29.1363 17.147 29.685C18.2144 30.3948 19.3768 30.9503 20.5997 31.3348C20.8071 31.3992 21.0212 31.4589 21.2419 31.5139L17.6809 34.996C16.7467 35.9024 16.7241 37.3944 17.6305 38.3286C18.5369 39.2627 20.0289 39.2853 20.9631 38.379C20.9825 38.3601 21.0017 38.3409 21.0204 38.3213L24.6499 34.5647L28.2864 38.3284C29.192 39.2633 30.684 39.2871 31.6189 38.3814C32.5538 37.4758 32.5775 35.9838 31.6719 35.0489C31.653 35.0294 31.6337 35.0101 31.6141 34.9912L28.0589 31.5127C28.2796 31.4561 28.4945 31.396 28.7034 31.3324C29.925 30.9494 31.0863 30.3951 32.1525 29.6862Z",fill:r}))}function TwitterIconSvg(e){var t=e.size,n=e.colorMain,r=e.colorBackground;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 50 50"},o.a.createElement("rect",{x:"0.21759",y:"0.739258",width:"48.8063",height:"48.8063",rx:"10",fill:n}),o.a.createElement("path",{d:"M39.2627 16.0866C38.2351 16.5373 37.1402 16.8361 35.9987 16.9811C37.173 16.28 38.0693 15.1782 38.4907 13.8501C37.3958 14.5029 36.1869 14.964 34.8986 15.2213C33.8589 14.1143 32.3772 13.4287 30.7607 13.4287C27.6245 13.4287 25.0996 15.9743 25.0996 19.095C25.0996 19.544 25.1376 19.9757 25.2309 20.3868C20.5214 20.1571 16.3541 17.8999 13.5547 14.4615C13.0659 15.3094 12.7793 16.28 12.7793 17.3248C12.7793 19.2867 13.7896 21.0258 15.2955 22.0326C14.3854 22.0153 13.4925 21.7511 12.7361 21.3349C12.7361 21.3522 12.7361 21.3746 12.7361 21.3971C12.7361 24.1499 14.6997 26.4364 17.2746 26.9632C16.8135 27.0892 16.311 27.1497 15.7894 27.1497C15.4267 27.1497 15.0606 27.1289 14.717 27.053C15.4509 29.2963 17.5337 30.9456 20.0102 30.9991C18.0829 32.5068 15.6357 33.4152 12.9865 33.4152C12.5219 33.4152 12.0764 33.3945 11.6308 33.3375C14.1401 34.9557 17.114 35.8796 20.321 35.8796C30.7452 35.8796 36.4442 27.2446 36.4442 19.7599C36.4442 19.5095 36.4356 19.2677 36.4235 19.0276C37.5478 18.2297 38.4925 17.2333 39.2627 16.0866Z",fill:r}))}function VkontakteIconSvg(e){var t=e.size,n=e.colorMain,r=e.colorBackground;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 50 50",fill:"none"},o.a.createElement("rect",{x:"0.976074",width:"48.8063",height:"48.8063",rx:"10",fill:n}),o.a.createElement("path",{d:"M41.7971 31.7696C41.7568 31.6828 41.7193 31.6109 41.6845 31.5532C41.1077 30.5145 40.0056 29.2396 38.3788 27.728L38.3444 27.6934L38.3272 27.6764L38.3098 27.659H38.2923C37.554 26.9552 37.0864 26.4819 36.8906 26.2396C36.5323 25.7781 36.4521 25.3109 36.6479 24.8375C36.7862 24.4799 37.3059 23.7245 38.2056 22.5705C38.6788 21.9589 39.0536 21.4688 39.3304 21.0995C41.3267 18.4456 42.1921 16.7497 41.9266 16.0112L41.8235 15.8386C41.7542 15.7347 41.5754 15.6396 41.2873 15.5529C40.9985 15.4664 40.6294 15.4521 40.1793 15.5098L35.1949 15.5442C35.1142 15.5156 34.9989 15.5183 34.8486 15.5529C34.6986 15.5876 34.6236 15.605 34.6236 15.605L34.5368 15.6483L34.468 15.7004C34.4102 15.7348 34.3468 15.7954 34.2775 15.882C34.2086 15.9682 34.1509 16.0695 34.1048 16.1848C33.5622 17.581 32.9452 18.879 32.2527 20.0789C31.8258 20.7944 31.4337 21.4145 31.0756 21.9395C30.718 22.4643 30.418 22.851 30.1759 23.0989C29.9334 23.347 29.7146 23.5458 29.5181 23.6959C29.3219 23.8461 29.1721 23.9096 29.0683 23.8864C28.9644 23.8632 28.8665 23.8401 28.7738 23.8171C28.6124 23.7132 28.4825 23.5719 28.3846 23.3931C28.2863 23.2142 28.2201 22.9892 28.1855 22.718C28.1511 22.4467 28.1307 22.2133 28.1249 22.0171C28.1195 21.8211 28.122 21.5439 28.1337 21.1862C28.1457 20.8284 28.1511 20.5863 28.1511 20.4593C28.1511 20.0208 28.1596 19.5449 28.1768 19.0315C28.1942 18.518 28.2083 18.1112 28.2202 17.8115C28.2319 17.5115 28.2374 17.1941 28.2374 16.8595C28.2374 16.5248 28.217 16.2624 28.1768 16.072C28.137 15.8817 28.0759 15.6971 27.9955 15.5181C27.9146 15.3392 27.7961 15.2009 27.6407 15.1027C27.485 15.0046 27.2913 14.9268 27.0609 14.869C26.4493 14.7306 25.6706 14.6557 24.7242 14.6441C22.5783 14.621 21.1993 14.7596 20.5878 15.0596C20.3455 15.1864 20.1263 15.3596 19.9302 15.5786C19.7225 15.8326 19.6935 15.9711 19.8435 15.9939C20.5359 16.0977 21.026 16.3458 21.3145 16.738L21.4185 16.9459C21.4993 17.0959 21.5801 17.3614 21.6609 17.7421C21.7416 18.1228 21.7937 18.5439 21.8166 19.0052C21.8742 19.8476 21.8742 20.5688 21.8166 21.1686C21.7588 21.7688 21.7042 22.236 21.6522 22.5706C21.6001 22.9052 21.5223 23.1764 21.4185 23.384C21.3145 23.5917 21.2454 23.7186 21.2107 23.7647C21.1761 23.8107 21.1472 23.8398 21.1243 23.8512C20.9743 23.9086 20.8183 23.9379 20.6569 23.9379C20.4952 23.9379 20.2992 23.8571 20.0685 23.6954C19.8378 23.5338 19.5984 23.3118 19.3503 23.0291C19.1022 22.7463 18.8224 22.3512 18.5108 21.8435C18.1993 21.3359 17.8762 20.7359 17.5416 20.0437L17.2648 19.5416C17.0917 19.2186 16.8553 18.7484 16.5553 18.1312C16.2551 17.5138 15.9898 16.9166 15.7591 16.3396C15.6669 16.0974 15.5284 15.9129 15.3438 15.786L15.2572 15.7339C15.1996 15.6878 15.1072 15.6389 14.9803 15.5868C14.8533 15.5347 14.7208 15.4973 14.5823 15.4744L9.84006 15.5088C9.35547 15.5088 9.02667 15.6186 8.85354 15.8378L8.78425 15.9416C8.74964 15.9993 8.73218 16.0916 8.73218 16.2186C8.73218 16.3455 8.76679 16.5013 8.83608 16.6858C9.52835 18.3128 10.2812 19.8819 11.0946 21.3934C11.908 22.9049 12.6148 24.1224 13.2146 25.045C13.8146 25.9681 14.4261 26.8394 15.0492 27.6584C15.6723 28.4776 16.0848 29.0027 16.2866 29.2333C16.4886 29.4644 16.6473 29.6372 16.7627 29.7525L17.1954 30.1678C17.4723 30.4448 17.879 30.7765 18.4155 31.163C18.9522 31.5497 19.5463 31.9303 20.1982 32.3056C20.8502 32.6803 21.6088 32.9861 22.4742 33.2226C23.3396 33.4593 24.1818 33.5543 25.0011 33.5084H26.9915C27.3951 33.4736 27.701 33.3467 27.9088 33.1276L27.9777 33.0408C28.024 32.972 28.0673 32.865 28.1073 32.721C28.1478 32.5768 28.168 32.4179 28.168 32.2451C28.1561 31.749 28.1939 31.302 28.2802 30.9039C28.3665 30.506 28.4648 30.206 28.5748 30.004C28.6847 29.8021 28.8087 29.6318 28.9467 29.4937C29.0851 29.3553 29.1836 29.2715 29.2415 29.2426C29.2989 29.2136 29.3448 29.1939 29.3794 29.182C29.6564 29.0898 29.9822 29.1791 30.3576 29.4505C30.7326 29.7217 31.0844 30.0565 31.4135 30.4544C31.7423 30.8527 32.1374 31.2995 32.5989 31.7955C33.0606 32.2918 33.4643 32.6606 33.8104 32.9033L34.1564 33.111C34.3875 33.2495 34.6875 33.3765 35.0568 33.4918C35.4254 33.6071 35.7484 33.636 36.0257 33.5783L40.4562 33.5092C40.8944 33.5092 41.2354 33.4367 41.4773 33.2927C41.7196 33.1485 41.8636 32.9896 41.91 32.8168C41.9563 32.6438 41.9588 32.4475 41.9188 32.228C41.8778 32.0092 41.8373 31.8561 41.7971 31.7696Z",fill:r}))}function FacebookIconSvg(e){var t=e.size,n=e.colorMain,r=e.colorBackground;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 50 50"},o.a.createElement("rect",{x:"0.715302",width:"48.8063",height:"48.8063",rx:"10",fill:n}),o.a.createElement("path",{d:"M29.0584 15.2755H31.4644V10.9298C31.0493 10.8705 29.6217 10.7373 27.9591 10.7373C24.4901 10.7373 22.1137 13.0001 22.1137 17.1591V20.9866H18.2856V25.8448H22.1137V38.0688H26.8072V25.8459H30.4805L31.0636 20.9878H26.8061V17.6408C26.8072 16.2366 27.1717 15.2755 29.0584 15.2755Z",fill:r}))}function GoogleIconSvg(e){var t=e.size,n=e.colorMain,r=e.colorBackground;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 50 49"},o.a.createElement("rect",{x:"0.454498",width:"48.8063",height:"48.8063",rx:"10",fill:n}),o.a.createElement("path",{d:"M24.6358 38.0688C32.3938 38.0688 37.5473 32.5333 37.5473 24.7201C37.5473 23.8255 37.4559 23.1349 37.3286 22.4461H24.6376V27.1435H32.2683C31.9564 29.1387 29.9578 33.0344 24.6376 33.0344C20.0541 33.0344 16.3113 29.1752 16.3113 24.4031C16.3113 19.631 20.0523 15.77 24.6376 15.77C27.26 15.77 29.0024 16.9069 29.9936 17.8763L33.6432 14.3159C31.2932 12.0802 28.2674 10.7373 24.6358 10.7373C17.2076 10.7373 11.1919 16.8523 11.1919 24.4031C11.1919 31.9539 17.2076 38.0688 24.6358 38.0688Z",fill:r}))}function GittubIconSvg(e){var t=e.size,n=e.colorMain,r=e.colorBackground;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 50 50"},o.a.createElement("rect",{width:"50",height:"50",rx:"10",fill:n}),o.a.createElement("path",{d:"M20.5842 37.6346C20.5842 39.3211 20.5842 40.6195 20.5842 41.0672C20.5915 41.269 20.5364 41.468 20.4267 41.6356C20.3171 41.8031 20.1585 41.9307 19.9739 42H30.959C30.7751 41.9305 30.6175 41.8026 30.5091 41.6349C30.4006 41.4672 30.347 41.2683 30.356 41.0672C30.356 40.4031 30.356 38.2242 30.356 35.5229C30.4043 34.8391 30.3101 34.1526 30.0795 33.5092C29.849 32.8658 29.4875 32.2803 29.0192 31.7918C33.3784 31.2918 37.9991 29.5531 37.9991 21.8224C38.0292 19.8169 37.3059 17.8767 35.9793 16.4048C36.5788 14.6632 36.5086 12.7523 35.7832 11.0619C35.7832 11.0619 34.134 10.5023 30.4069 13.1215C27.1824 12.2142 23.7796 12.2142 20.5551 13.1215C16.8062 10.5023 15.1497 11.047 15.1497 11.047C14.4258 12.7377 14.3556 14.648 14.9536 16.3899C13.6251 17.861 12.8991 19.8011 12.9266 21.8074C12.9266 29.5457 17.5182 31.2844 21.8847 31.7918C21.1678 32.5103 20.7246 33.4684 20.635 34.4931C19.5162 35.008 16.6682 35.9034 14.91 32.8141C14.595 32.2541 14.1596 31.7755 13.637 31.4147C13.1145 31.0539 12.5186 30.8204 11.8949 30.7322C11.8949 30.7322 9.97684 30.7322 11.7568 31.9634C11.7568 31.9634 13.0428 32.5828 13.9364 34.9483C13.9582 34.9259 15.1134 38.851 20.5842 37.6346Z",fill:r}))}function YandexIconSvg(e){var t=e.size,n=e.colorMain,r=e.colorBackground;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 50 50"},o.a.createElement("rect",{width:"50",height:"50",rx:"10",fill:n}),o.a.createElement("path",{d:"M26.5825 28.9701L20.7824 42H16.5513L22.9313 28.0798C19.9356 26.5573 17.9375 23.7994 17.9375 18.7127C17.9288 11.567 22.4441 8 27.8208 8H33.2874V42H29.6275V28.9701H26.5825ZM29.6275 11.0914H27.6642C24.7149 11.0914 21.8641 13.0403 21.8641 18.7011C21.8641 24.1706 24.4742 25.928 27.6642 25.928H29.613L29.6275 11.0914Z",fill:r}))}function TelegramIconSvg(e){var t=e.size,n=e.colorMain,r=e.colorBackground;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 50 50"},o.a.createElement("rect",{y:"0.739258",width:"48.8063",height:"48.8063",rx:"10",fill:n}),o.a.createElement("path",{d:"M20.4859 29.8443L20.0338 36.3851C20.6807 36.3851 20.9608 36.0993 21.2968 35.7561L24.3295 32.775L30.6136 37.5084C31.7662 38.169 32.5781 37.8211 32.8891 36.4179L37.0139 16.5378L37.0151 16.5366C37.3806 14.7843 36.399 14.0991 35.2761 14.5289L11.0301 24.0766C9.3754 24.7372 9.40045 25.686 10.7488 26.1159L16.9476 28.099L31.3459 18.8325C32.0235 18.3709 32.6396 18.6263 32.1329 19.0878L20.4859 29.8443Z",fill:r}))}SocialIconSvg.propTypes={link:i.a.string,size:i.a.number,colorMain:i.a.string,colorBackground:i.a.string},FacebookIconSvg.propTypes=VkontakteIconSvg.propTypes=TwitterIconSvg.propTypes=GoogleIconSvg.propTypes=OdnoklassnikiIconSvg.propTypes=GittubIconSvg.propTypes=YandexIconSvg.propTypes=TelegramIconSvg.propTypes={size:i.a.number,colorMain:i.a.string,colorBackground:i.a.string}},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n.n(o),i=n(6);function SsoConditionContainer(e){return e.vidjet_sso?null:e.children}SsoConditionContainer.propTypes={vidjet_sso:a.a.bool,children:i.a},t.a=Object(r.b)(function mapStateToProps(e){return{vidjet_sso:e.defaultState.get("vidjet_sso")}})(SsoConditionContainer)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n.n(r),a=n(15),i=n(1),c=n.n(i),u=n(115),l=n(25),s=n(6);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function UserEditPushView(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserEditPushView),t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(UserEditPushView).call(this,e)),_defineProperty(_assertThisInitialized(t),"onOpenPopup",function(){var e=(screen.width-640)/2,n=(screen.height-580)/2,r=a.m+"?t="+(new Date).getTime()+"#lang="+t.props.lang,o={width:640,height:580,top:n,left:e,menubar:"no",location:"no",status:"no",toolbar:"no",resizeable:"yes",scrollbars:"no"},i="";for(var c in o)i&&(i+=","),i+=c+"="+o[c];t.onClosePopup(),t.setState({popup_open:!0}),t.popup_window=window.open(r,"oa_window",i),t.popup_timer=setInterval(function(){(t.popup_window.closed||Object(l.h)())&&t.onClosePopup()},500)}),_defineProperty(_assertThisInitialized(t),"onClosePopup",function(){t.popup_window&&(t.popup_window.close(),t.popup_window=null,clearTimeout(t.popup_timer),t.setState({popup_open:!1}),t.props.onChange&&t.props.onChange())}),t.state={popup_open:!1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(UserEditPushView,o.a.Component),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(UserEditPushView,[{key:"render",value:function render(){return o.a.createElement(u.a,{click:this.onOpenPopup},this.props.children)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.popup_timer),this.onClosePopup()}}]),UserEditPushView}();f.propTypes={children:s.a,onChange:c.a.func,lang:c.a.string}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(101),u=n(5),l=n(18),s=n(13),f=n(14),p=n(52),d=n(61),h=n(62),m=n(7),_=n(34),y=function IconClose(){var e=Object(r.useContext)(_.a),t=e.colorBlackMiddle,n=e.colorBackground;return o.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},o.a.createElement("circle",{cx:"10",cy:"10",r:"10",fill:t}),o.a.createElement("path",{d:"M13.9844 12.8594C13.9844 13.0312 13.9219 13.1797 13.7969 13.3047L12.8828 14.2188C12.7578 14.3438 12.6016 14.4062 12.4141 14.4062C12.2422 14.4062 12.0938 14.3438 11.9688 14.2188L10 12.25L8.03125 14.2188C7.90625 14.3438 7.75781 14.4062 7.58594 14.4062C7.39844 14.4062 7.24219 14.3438 7.11719 14.2188L6.20312 13.3047C6.07812 13.1797 6.01562 13.0312 6.01562 12.8594C6.01562 12.7031 6.07812 12.5469 6.20312 12.3906L8.17188 10.4219L6.20312 8.45312C6.07812 8.32812 6.01562 8.17969 6.01562 8.00781C6.01562 7.85156 6.07812 7.69531 6.20312 7.53906L7.11719 6.64844C7.22656 6.52344 7.38281 6.46094 7.58594 6.46094C7.77344 6.46094 7.92188 6.52344 8.03125 6.64844L10 8.61719L11.9688 6.64844C12.0781 6.52344 12.2266 6.46094 12.4141 6.46094C12.6172 6.46094 12.7734 6.52344 12.8828 6.64844L13.7969 7.53906C13.9219 7.69531 13.9844 7.85156 13.9844 8.00781C13.9844 8.17969 13.9219 8.32812 13.7969 8.45312L11.8281 10.4219L13.7969 12.3906C13.9219 12.5469 13.9844 12.7031 13.9844 12.8594Z",fill:n}))};function ImageView(e){var t=e.id,n=e.src,a=e.onUploadDelete,i=Object(r.useCallback)(function(){return a(t)},[t,a]);return o.a.createElement("div",{className:"app-chat-flex-col-auto item app-position-relative app-chat-mr"},o.a.createElement("div",{className:"table s-bg-BlackLight"},o.a.createElement("div",{className:"cell"},o.a.createElement(m.i,{className:"img",src:n}),o.a.createElement("div",{className:"remove app-cursor",onClick:i},o.a.createElement(y,null)))))}function EditorImagesView(e){var t=e.items,n=e.onUploadDelete;return null==t?null:0==t.length?null:o.a.createElement("div",{className:"app-chat-py app-chat-attaches"},o.a.createElement("div",{className:"flex-row"},o.a.createElement("div",{className:"app-chat-flex-col-w45"}),o.a.createElement("div",{className:"flex-col app-chat-mr app-scroll-style-horizontal items-height app-position-relative"},o.a.createElement("div",{className:"items app-position-absolute"},t.map(function(e){return o.a.createElement(ImageView,{key:e.id,id:e.id,src:e.src,onUploadDelete:n})})))))}EditorImagesView.propTypes={items:i.a.object,onUploadDelete:i.a.func},ImageView.propTypes={id:i.a.number,src:i.a.string,onUploadDelete:i.a.func};var b=n(27);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function EditorUploaderItemView(e){var t=e.id,n=e.progress,a=e.error,i=e.name,c=e.onUploadDelete,u=Object(r.useCallback)(function(){return c(t)},[t,c]);return o.a.createElement("div",{className:"app-chat-py app-chat-progress"},o.a.createElement("div",{className:"flex-row s-color-BlackMiddle"},o.a.createElement("div",{className:"app-chat-flex-col-w45"}),o.a.createElement("div",{className:"flex-col"},o.a.createElement("div",null,o.a.createElement("span",{className:"s-color-BlackDark"},100!=n?i:"Uploading..."),o.a.createElement("span",{className:"s-color-BlackDark"},a?" - "+a:null)),o.a.createElement("div",{className:"progress"},o.a.createElement("div",{className:a?"s-bg-Alert":"s-bg-BlackLight",style:{width:5+n/100*95+"%"}}))),o.a.createElement(b.a,{className:"app-chat-flex-col-w45 app-cursor",classDefault:"s-color-BlackMiddle",classHover:"s-color-BlackDark",onClick:u},o.a.createElement("span",{className:"app-icon icon-times"}))))}function EditorUploaderView(e){var t=e.items,n=e.onUploadDelete;return t&&t.length>0&&o.a.createElement("div",{className:"block-padding"},t.map(function(e){return o.a.createElement(EditorUploaderItemView,_extends({key:e.id,onUploadDelete:n},e))}))}EditorUploaderItemView.propTypes={id:i.a.number,progress:i.a.number,error:i.a.string,name:i.a.string,onUploadDelete:i.a.func},EditorUploaderView.propTypes={items:i.a.array,onUploadDelete:i.a.func};var v=n(25),g=n(37),w=n(41),E=function sendEscFunc(e){return 27==e.keyCode},S=function sendUpFunc(e){return 38==e.keyCode},O=function sendEnterFunc(e){return!(e.ctrlKey||e.metaKey||13!=e.keyCode&&10!=e.keyCode)},C=function sendCtrlEnterFunc(e){return(e.ctrlKey||e.metaKey)&&(13==e.keyCode||10==e.keyCode)};var k=function base64ToBlob(e,t){t=t||"";for(var n=window.atob(e),r=[],o=0,a=n.length;o<a;o+=1024){for(var i=n.slice(o,o+1024),c=new Array(i.length),u=0;u<i.length;u++)c[u]=i.charCodeAt(u);var l=new Uint8Array(c);r.push(l)}return new Blob(r,{type:t})},j=function testImageUrl(e){return e.length<=1024&&e.match(/^(((ht|f)tps?:\/\/)|(w{3}\.)|((ht|f)tps?:\/\/)(w{3}\.)|)(.+?)\.(bmp|jpg|jpeg|png|gif|webp)(\?.*)?$/i)},T=function getImageUrl(e){var t=e.match(/<html>\s*<body>\s*<!--StartFragment--><img.*?src="(.+?)".*?>\s*<!--EndFragment-->\s*<\/body>\s*<\/html>/i);return t&&t[1]&&t[1].length<=1024?t[1]:null},P=function setSelectionRange(e,t){e.setSelectionRange?e.setSelectionRange(t,t):"number"==typeof e.selectionStart&&(e.selectionStart=e.selectionEnd=t)};function EditorTextareaView(e){var t=e.onTextEdit,n=e.onSelectionStart,a=e.onSend,i=e.onFocusedSuccess,c=e.onUploadSelect,u=e.onEditLastComment,l=e.onEditCancel,s=e.focused,f=e.value,p=e.send_message_enter,d=e.comment_last_create,h=Object(r.useRef)(),m=Object(r.useContext)(w.a),_=Object(r.useCallback)(function(){return t(h.current.value)},[t]),y=Object(r.useCallback)(function(){return n(h.current.selectionStart)},[n]),b=Object(r.useCallback)(function(e){E(e)?l():""==h.current.value&&d>0&&S(e)?u(d):n(h.current.selectionStart)},[d,l,u,n]),x=Object(r.useCallback)(function(e){if(p){if(O(e))e.preventDefault(),a();else if(C(e)){var t=h.current,n=t.selectionStart;t.value=t.value.substring(0,n)+"\n"+t.value.substring(n),_(),t.selectionStart=n+1,t.selectionEnd=n+1}}else C(e)&&a()},[_,a,p]);Object(r.useEffect)(function(){h.current.style.height=Object(v.b)(h.current,1,5)+"px"},[e]),Object(r.useLayoutEffect)(function(){if(null!=s){var e=h.current;e.focus(),P(e,s<0?e.value.length:s>0?s:0),i()}},[s,i]);var I=Object(r.useCallback)(function(e){var t=e.clipboardData,n=t.getData("Text");if(n&&null!=j(n))setTimeout(function(){return c({target:{src:n}})},0);else{if(!t||!t.items)return;var r=t.items[0];if(!r)return;if("file"==r.kind&&r.type.match("^image/")){var o=r.getAsFile();if(!o)return;setTimeout(function(){return c({target:{files:[o]}})},0)}else"string"==r.kind&&r.type.match("text/html")&&r.getAsString(function(e){var t=T(e);if(t)if(0==t.indexOf("data:image")){var n=t.replace(/^data:image\/(png|jpg|jpeg);base64,/,""),r=function blobToFile(e,t){return e.lastModifiedDate=new Date,e.name=t,e}(k(n,"image/png"),t);setTimeout(function(){return c({target:{files:[r]}})},0)}else setTimeout(function(){return c({target:{src:t}})},0)})}},[c]);return o.a.createElement("textarea",{className:"textarea s-color-Black s-bg-BlackLight app-scroll-style-auto app-scroll-style",onMouseUp:y,onFocus:g.c,onBlur:g.b,onKeyUp:b,onKeyDown:x,onChange:_,onPaste:I,value:f,placeholder:m.getText("Write message"),ref:h})}EditorTextareaView.propTypes={focused:i.a.number,value:i.a.string,onTextEdit:i.a.func.isRequired,onSend:i.a.func.isRequired,onFocusedSuccess:i.a.func.isRequired,onSelectionStart:i.a.func.isRequired,onUploadSelect:i.a.func.isRequired,onEditLastComment:i.a.func,onEditCancel:i.a.func,send_message_enter:i.a.bool,comment_last_create:i.a.number};var x=n(192),I=n(11),M=n(17),A=n(148),N=n(20),R=n(4),L=n(24);var D=n(6);function ScrollLayout(e){return o.a.createElement("div",{className:"app-position-absolute app-scroll app-scroll-style"},e.children)}function editor_mention_view_extends(){return(editor_mention_view_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function EditorMentionFaik(){return o.a.createElement("div",{className:"mention_item"},o.a.createElement("div",{className:"mention_ava"},o.a.createElement("div",{className:"mention_ava_faik"})),o.a.createElement("div",{className:"mention_text"},o.a.createElement("div",{className:"mention_text_faik"})))}function EditorMentionItem(e){var t=e.online,n=e.nick,a=e.name,i=e.ava,c=e.onClick,u=Object(r.useCallback)(function(){return c("@"+n+" ("+a.replace(/\(/,"[").replace(/\)/,"]")+") ")},[a,n,c]),l=_slicedToArray(Object(r.useState)(!1),2),s=l[0],f=l[1];return o.a.createElement(b.a,{className:"mention_item",classDefault:"s-bg-BlackLight",classHover:"s-bg-BlackMiddle",onClick:u,onHover:f},o.a.createElement("div",{className:"mention_ava"},o.a.createElement(m.a,{online:t,name:a,ava:i})),o.a.createElement("div",{className:"mention_text"},o.a.createElement("span",{className:"mention_text_name s-color-BlackDark"},a)," ",o.a.createElement("span",{className:"mention_text_small "+(s?"s-color-BlackDark":"s-color-BlackMiddle")},"@",n)))}function EditorMentionView(e){var t=e.view_top,n=e.mention_data,r=e.onClick,a=e.absolute,i={top:t?0:"auto",bottom:t?"auto":0,height:53*Math.min(3,n?n.size:3)+"px"},c={height:53*Math.min(3,n?n.size:3)+"px"};return o.a.createElement("div",{className:"app-chat-mention"},o.a.createElement("div",{className:a?"absolute":"default",style:a?i:null},o.a.createElement("div",{className:"mention_items s-bg-BlackLight",style:c},n?o.a.createElement(ScrollLayout,null,n.toJSON().map(function(e){return o.a.createElement(EditorMentionItem,editor_mention_view_extends({key:e.id},e,{onClick:r}))})):[0,1,2].map(function(e){return o.a.createElement(EditorMentionFaik,{key:e})}))))}function _textIsEmpty(e){return!(e&&e.length>0)}function _matchStart(e,t){return e.substr(0,t).match(/(@[^\s]*|)$/)}function _matchEnd(e,t){return e.substr(t).match(/^(@?[^\s]*)/)}function _matchTest(e){return/^@[^\s]{0,50}$/.test(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ScrollLayout.propTypes={children:D.a},EditorMentionItem.propTypes={id:i.a.number,online:i.a.bool,nick:i.a.string,name:i.a.string,ava:i.a.string,onClick:i.a.func},EditorMentionView.propTypes={absolute:i.a.bool,mention_data:i.a.object,onClick:i.a.func,view_top:i.a.bool};var F=function(e){function ChatMentionBlock(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMentionBlock),t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(ChatMentionBlock).call(this,e)),_defineProperty(_assertThisInitialized(t),"loadData",function(){var e=t.props,n=e.mention_index,r=function aEditorMention(e,t){if(_textIsEmpty(e))return"";var n=_matchStart(e,t),r=_matchEnd(e,t);return n&&r&&_matchTest(n[1]+r[1])?n[1]+r[1]:""}(e.editor_value,n);r&&t.props.dispatch(function onEditorMentionLoadData(e){return function(t,n){var r=n().defaultState;return L.a.Ajax({type:N.l,param:{site_id:r.get("site_id"),token:r.get("token"),search:e},send:"POST"}).then(function(e){Object(l.l)(e.items)})}}(r)),t.setState({search:r})}),_defineProperty(_assertThisInitialized(t),"initTimer",function(){clearTimeout(t.timerLoadData),t.timerLoadData=setTimeout(t.loadData,500)}),_defineProperty(_assertThisInitialized(t),"componentDidMount",function(){t.initTimer()}),_defineProperty(_assertThisInitialized(t),"componentDidUpdate",function(e){t.props.mention_index==e.mention_index&&t.props.editor_value==e.editor_value||t.initTimer(),(t.props.focus!=e.focus||null==t.timerFocusOut&&t.props.focus!=t.state.focus)&&(t.props.focus?t.setState({focus:!0}):t.timerFocusOut=setTimeout(function(){t.timerFocusOut=null,t.setState({focus:!1})},1e3))}),_defineProperty(_assertThisInitialized(t),"componentWillUnmount",function(){clearTimeout(t.timerLoadData),clearTimeout(t.timerFocusOut),Object(l.m)(null),Object(l.l)(null)}),_defineProperty(_assertThisInitialized(t),"onClick",function(e){var n=function aEditorMentionReplace(e,t,n){if(_textIsEmpty(e))return{text:"",position:0};var r=_matchStart(e,t),o=_matchEnd(e,t);return r&&o&&_matchTest(r[1]+o[1])?{text:e.substr(0,t-r[1].length)+n+e.substr(t+o[1].length),position:t-r[1].length+n.length}:{text:"",position:0}}(t.props.editor_value,t.props.mention_index,e);Object(l.n)(n.text,t.props.key_chat),Object(l.m)(n.position),Object(l.h)(n.position),clearTimeout(t.timerLoadData),clearTimeout(t.timerFocusOut),t.setState({search:""})}),_defineProperty(_assertThisInitialized(t),"render",function(){var e=t.props,n=e.view_top,r=e.mention_data,a=e.comments,i=e.heightAuto;return t.state.focus&&t.state.search?null!=r&&0==r.size?null:o.a.createElement(EditorMentionView,{view_top:n,absolute:!i||null==a||0!=a.size,mention_data:r,onClick:t.onClick}):null}),t.state={search:"",focus:t.props.focus},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ChatMentionBlock,o.a.Component),ChatMentionBlock}();F.propTypes={heightAuto:i.a.bool,dispatch:i.a.func,key_chat:i.a.string,view_top:i.a.bool,mention_index:i.a.number,mention_data:i.a.object,editor_value:i.a.string,focus:i.a.bool,comments:i.a.object};var V=Object(R.b)(function mapStateToProps(e,t){var n=t.key_chat,r=e.editorState,o=e.defaultState,a=e.chatState;return{heightAuto:o.get("height_auto"),comments:a.get("comments"),key_chat:n,view_top:t.view_top,focus:o.get("focus"),mention_index:r.get("mention_index"),mention_data:r.get("mention_data"),editor_value:r.getIn(["values",n,"value"])}})(F);function chat_editor_view_slicedToArray(e,t){return function chat_editor_view_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function chat_editor_view_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function chat_editor_view_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function chat_editor_view_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return ChatEditorView});var U=function onError(e){switch(e.message){case"NoValidData":Object(s.b)(e.data.fields[Object.keys(e.data.fields)[0]]);break;case"RequiredUserVerification":Object(s.b)(f.a.getText("You can not write comments"),p.a,"exclamation-circle",{action:"go",pathname:"/user/smscheck",button:f.a.getText("Verify Account")});break;default:Object(s.b)(e.message)}},B=function onChatApiEditDispatch(e,t){return function(n,r){var o=r(),a=o.editorState,i=o.defaultState,p=a.getIn(["values",e]),d=p?p.get("comment_id"):null,h=p?p.get("value"):"",m=p?p.get("attaches_images"):null,_=i.get("token"),y=null!=m?m.map(function(e){return e.get("id")}):[];if(h||0!=y.length){if(_){var b=i.getIn(["profile","lang"]);return n(t({id:d,text:h,token:_,attache:y,lang:b})).catch(U).then(function(t){if(null!=t)return Object(l.e)(e),Object(c.e)(),window.yandexReachGoal("vidjet_comment_edit"),Object(l.f)(t),Object(M.j)(d),Promise.resolve()})}return Object(u.d)(),Promise.resolve()}return Object(s.b)(f.a.getText("Message is empty!")),Promise.resolve()}},z=function onChatApiSendDispatch(e,t,n){return function(r,o){var a=o(),i=a.editorState,p=a.defaultState,m=i.getIn(["values",t,"attaches_images"]),_=i.getIn(["values",t,"value"]),y=i.getIn(["values",t,"answer_comment"]),b=p.get("token"),v=p.getIn(["site_settings","anonymous_mode"]),g=p.get("profile"),w=null!=m?m.map(function(e){return e.get("id")}):[];if(_||0!=w.length){if(b||v){var E=g?p.getIn(["profile","lang"]):p.get("lang");return r(n(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach(function(t){chat_editor_view_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({text:_,token:b,answer_comment_id:y?y.id:null,attache:w,lang:E,uuid:p.get("uuid")},e))).catch(U).then(function(e){if(null!=e)return Object(l.e)(t),Object(M.c)(e.comment.id),Object(c.e)(),window.yandexReachGoal("vidjet_comment_create"),null!=e.message&&U(e),Object(d.a)(h.a,e.comment),Promise.resolve()})}return Object(u.d)(),Promise.resolve()}return Object(s.b)(f.a.getText("Message is empty!")),Promise.resolve()}},q=function onUploadSelectLimitDispatch(e,t){return function(n,r){var o=r(),a=o.defaultState,i=o.editorState;if(!a.get("profile"))return Object(u.d)();var c=[],l=i.getIn(["values",t,"attaches_images"]),p=null==l?0:l.size;for(var d in e)if(e[d].size>0){if(!(c.length<5&&c.length+1<=5-p)){Object(s.b)(f.a.getText("Limit by select files"));break}c.push(e[d])}return c}},H=function onUploadSuccessDispatch(e,t){return function(n,r){var o=r().editorState.getIn(["values",t,"attaches_images"]);(null==o?0:o.size)<5?Object(l.c)(e,t):Object(s.b)(f.a.getText("Limit by select files"))}},W=function onEditorApiSetAnswer(e,t,n){return function(r,o){if(null==n){Object(l.b)(null);var a=o().chatState.get("comments").find(function(t){return t.get("id")==e.id});a&&Object(l.a)(a.toJSON(),t)}}},G=function SendButtonView(e){var t=e.onSend,n=e.mobile,a=e.send_message_enter,i=chat_editor_view_slicedToArray(Object(r.useState)(!1),2),c=i[0],u=i[1],l=a?o.a.createElement(I.a,{msg:"Sending by Enter"}):o.a.createElement(I.a,{msg:"Sending by Ctrl + Enter"});return n?o.a.createElement("div",{className:"app-chat-flex-col-w45 app-cursor",onClick:t},o.a.createElement(IconSubmit,null)):o.a.createElement(b.a,{className:"app-chat-flex-col-w45 app-cursor",style:{height:"22px"},onClick:t,onHover:u},o.a.createElement(m.m,{position:"left",hover:l,show:c}),o.a.createElement(IconSubmit,null))};function ChatEditorView(e){var t=e.dispatch,n=e.type,a=e.mobile,i=e.key_chat,p=e.params,d=e.auth,h=e.editor,m=e.attaches,_=e.focused,y=e.send_message_enter,v=e.onChatApiSend,g=e.onChatApiEdit,w=e.comment_last_create,E=e.view_top,S=e.answer_comment_update,O=h?h.get("comment_id"):null,C=h?h.get("value"):"",k=h?h.get("attaches_images"):null,j=h?h.get("answer_comment"):null,T=j?j.id:null,P=chat_editor_view_slicedToArray(Object(r.useState)(!1),2),R=P[0],L=P[1],D=Object(r.useCallback)(function(e){return t(H(e.data,i))},[t,i]),F=Object(r.useCallback)(function(e){Object(l.d)(e,i),Object(c.d)(e)},[i]),U=Object(r.useCallback)(function(){return Object(M.j)(T)},[T]),K=Object(r.useCallback)(function(e){e.stopPropagation(),Object(l.a)(null,i)},[i]),$=Object(r.useCallback)(function(){return Object(l.e)(i)},[i]),J=Object(r.useCallback)(function(){if(R)return Object(s.b)(f.a.getText("Problems with connection. Please, repeat it."));L(!0),t(O?B(i,g):z(p,i,v)).then(function(){return L(!1)})},[O,t,i,g,v,p,R]),Q=Object(r.useCallback)(function(e){return Object(l.n)(e,i)},[i]),Y=Object(r.useCallback)(function(){return Object(l.h)(null)},[]),X=Object(r.useCallback)(function(e){if(null!=e&&null!=e.target)if(null!=e.target.files){var n=t(q(e.target.files,i));n&&t(Object(c.j)(n,N.A))}else if(null!=e.target.src){var r={size:1,src:e.target.src},o=t(q([r],i));if(o){var a=o[0].src;t(Object(c.f)(a)).then(function(e){e&&t(H(e,i))})}}},[t,i]),Z=Object(r.useCallback)(function(e){O||t(Object(A.b)(e))},[O,t]),ee=Object(r.useCallback)(function(){O&&$()},[O,$]);Object(r.useEffect)(function(){return Object(c.i)(D),function(){return Object(c.c)(D)}},[D]),Object(r.useEffect)(function(){null!=S&&t(W(S,i,O))},[S,O,t,i]);var te=[o.a.createElement(o.a.Fragment,{key:"attaches_images"},k&&o.a.createElement(EditorImagesView,{items:k.toJSON(),onUploadDelete:F})),o.a.createElement(o.a.Fragment,{key:"attaches"},o.a.createElement(EditorUploaderView,{items:m.toJSON(),onUploadDelete:F})),o.a.createElement(o.a.Fragment,{key:"comment_edit"},O&&o.a.createElement("div",{className:"app-chat-py"},o.a.createElement("div",{className:"flex-row s-color-BlackMiddle"},o.a.createElement("div",{className:"app-chat-flex-col-w45"},o.a.createElement("span",{className:"app-icon icon-pencil"})),o.a.createElement("div",{className:"flex-col"},o.a.createElement(I.a,{msg:"CommentEditing"})),o.a.createElement("div",{className:"app-chat-flex-col-auto app-chat-px app-cursor"},o.a.createElement(b.a,{className:"app-cursor",onClick:$,classDefault:"s-color-BlackMiddle",classHover:"s-color-Main"},o.a.createElement(I.a,{msg:"CommentEditCancel"})))))),o.a.createElement(o.a.Fragment,{key:"answer"},j&&o.a.createElement("div",{className:"app-chat-py app-cursor",onClick:U},o.a.createElement("div",{className:"flex-row"},o.a.createElement("div",{className:"app-chat-flex-col-w45 s-color-Main"},o.a.createElement("span",{className:"app-icon icon-reply"})),o.a.createElement("div",{className:"flex-col s-color-Main app-position-relative"},o.a.createElement("div",{className:"app-position-absolute app-white-space-nowrap"},j.user.name)),!O&&o.a.createElement(b.a,{className:"app-chat-flex-col-w45  app-cursor",classDefault:"s-color-BlackMiddle",classHover:"s-color-BlackDark",onClick:K},o.a.createElement("span",{className:"app-icon icon-times"}))),o.a.createElement("div",{className:"app-chat-mx app-position-relative app-chat-overflow"},o.a.createElement("div",{className:"app-position-absolute app-white-space-nowrap"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:j.text_template}}),o.a.createElement("span",{dangerouslySetInnerHTML:{__html:j.attaches_text}}))))),o.a.createElement(o.a.Fragment,{key:"mention"},"comment"==n&&o.a.createElement("div",{className:"app-position-relative"},o.a.createElement(V,{view_top:E,key_chat:i}))),o.a.createElement("div",{key:"editor",className:"app-chat-editor"},o.a.createElement("div",{className:"flex-row"},o.a.createElement(b.a,{className:"app-chat-flex-col-w45 app-cursor",classDefault:"s-color-BlackMiddle",classHover:"s-color-BlackDark",onClick:d?null:u.d},d?o.a.createElement(x.a,{onChange:X,title:f.a.getText("Drop images here in comment"),dropSupport:!0,multiple:"multiple"},o.a.createElement("div",{className:"attache app-icon icon-attachment"})):o.a.createElement("div",{className:"attache app-icon icon-attachment"})),o.a.createElement("div",{className:"flex-col app-position-relative margin"},o.a.createElement("div",{className:"border s-bg-BlackLight"}),o.a.createElement("div",{className:"flex-row padding"},o.a.createElement("div",{className:"flex-col s-color-Main"},o.a.createElement(EditorTextareaView,{value:C,onSend:J,onTextEdit:Q,focused:_,send_message_enter:y,comment_last_create:w,onFocusedSuccess:Y,onSelectionStart:l.m,onUploadSelect:X,onEditLastComment:Z,onEditCancel:ee})),o.a.createElement(G,{onSend:J,mobile:a,send_message_enter:y})))))];return E?te.reverse():te}function IconSubmit(){var e=Object(r.useContext)(_.a),t=e.colorMain,n=e.colorBackground;return o.a.createElement("div",{className:"app-chat-icon-submit"},o.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22"},o.a.createElement("circle",{cx:"11",cy:"11",r:"11",fill:t}),o.a.createElement("path",{d:"M16.2266 11.4922C16.2266 11.7266 16.1406 11.9297 15.9688 12.1016L15.4766 12.6172C15.3047 12.7734 15.1016 12.8516 14.8672 12.8516C14.6172 12.8516 14.4141 12.7734 14.2578 12.6172L12.2891 10.6484V15.3594C12.2891 15.5938 12.2031 15.7812 12.0312 15.9219C11.875 16.0625 11.6719 16.1328 11.4219 16.1328H10.5781C10.3438 16.1328 10.1406 16.0625 9.96875 15.9219C9.79688 15.7812 9.71094 15.5938 9.71094 15.3594V10.6484L7.74219 12.6172C7.58594 12.7734 7.38281 12.8516 7.13281 12.8516C6.89844 12.8516 6.70312 12.7734 6.54688 12.6172L6.03125 12.1016C5.85938 11.9297 5.77344 11.7266 5.77344 11.4922C5.77344 11.2891 5.85938 11.0859 6.03125 10.8828L10.3906 6.52344C10.5469 6.36719 10.75 6.28906 11 6.28906C11.25 6.28906 11.4531 6.36719 11.6094 6.52344L15.9688 10.8828C16.1406 11.0859 16.2266 11.2891 16.2266 11.4922Z",fill:n})))}G.propTypes={onSend:i.a.func,mobile:i.a.bool,send_message_enter:i.a.bool},ChatEditorView.propTypes={dispatch:i.a.func,auth:i.a.bool,type:i.a.string,mobile:i.a.bool,key_chat:i.a.string,params:i.a.object,answer_comment_update:i.a.object,attaches:i.a.object,focused:i.a.number,editor:i.a.object,send_message_enter:i.a.bool,comment_last_create:i.a.number,view_top:i.a.bool,onChatApiSend:i.a.func,onChatApiEdit:i.a.func,comments:i.a.object}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(4),u=n(151),l=n(6),s=n(3),f=n(11);function ChatLoaderNextView(e){return o.a.createElement("div",{className:"app-comment__autoload__reload s-bg-Main s-color-Background",onClick:e.click},o.a.createElement(f.a,{msg:"Show more comments"}))}function ChatLoaderView(e){switch(e.type){case s.h:return o.a.createElement("div",{className:"app-comment__autoload__loader"});case s.o:case s.b:return o.a.createElement(ChatLoaderNextView,e)}}ChatLoaderNextView.propTypes={click:i.a.func,type:i.a.string},ChatLoaderView.propTypes={click:i.a.func,type:i.a.string};var p=n(48),d=n(17),h=n(5);var m=n(61),_=n(62),y=n(113),b=n(99),v=n(13),g=n(47),w=n(72),E=n(26),S=n(10);function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O=1e3,C=function commentCreateDispatch(e,t,n,r,o){return function(a,i){var c=i(),u=c.chatState,l=c.defaultState;u.getIn(["chat","format"])==s.f&&0==u.getIn(["chat","root_id"])&&0!=e.answer_comment_root_id&&e.answer_comment_root_id!=e.id?(Object(h.j)(u.getIn(["chat","site_id"]),u.getIn(["chat","hash"]),u.getIn(["chat","url"]),e.answer_comment_root_id),Object(d.j)(e.id)):(t(),u.get(o==s.n?"comment_last":"comment_first")&&null==r?(Object(d.a)(e,o==s.n),0==l.get("height_auto")&&a(Object(E.e)(o==s.m))):n().then(function(){return a(Object(E.e)(o==s.m))}))}},k=function updateChatDispatch(e,t,n){return function(r,o){var a=o(),i=a.chatState,c=a.defaultState;return!(0!=c.get("height_auto")||!c.get("widget_focus")||!i.get(n==s.n?"comment_last":"comment_first"))&&(e(),t().then(function(){r(Object(E.e)(n==s.m))}),!0)}};function ChatGeneralView(e){var t=e.dispatch,n=e.onAnswerCreate,a=e.comments,i=e.timeCommentFormat,c=e.profileId,l=e.stateLoad,f=e.commentFirst,E=e.commentLast,j=e.onLoadPageLast,T=e.onLoadPageTop,P=e.onLoadPageBottom,x=e.keyChat,I=e.focus,M=e.scroll,A=e.onChatApiOnUpdate,N=e.onChatApiOffUpdate,R=e.isShowBottom,L=e.isModerator,D=e.menu,F=e.sort,V=e.heightAuto,U=_slicedToArray(Object(r.useState)(!1),2),B=U[0],z=U[1],q=_slicedToArray(Object(r.useState)(!1),2),H=q[0],W=q[1],G=_slicedToArray(Object(r.useState)(null),2),K=G[0],$=G[1],J=Object(r.useRef)(),Q=Object(r.useRef)(),Y=Object(r.useRef)(),X=Object(r.useRef)(),Z=Object(r.useRef)(),ee=Object(r.useRef)(),te=Object(r.useCallback)(function(){ee.current=null},[]),ne=Object(r.useCallback)(function(e){e.preventDefault();var n=X.current;null!=n&&(J.current=n.scrollTop,null!=Z.current&&(Q.current=Z.current.getBoundingClientRect().top),null==Y.current&&(Y.current=setTimeout(function(){if(Y.current=null,null!=n){var e=n.scrollTop,r=n.scrollHeight,o=n.clientHeight;e<O?B||l||f||(z(!0),T()):B&&z(!1),r-o-e<O?H||l||E||(W(!0),P()):H&&W(!1),null!=K&&0==l&&(F==s.n&&r-e-o==0||F==s.m&&0==e)&&t(k(te,j,F))&&null!=K&&$(null)}},250)))},[f,E,t,K,P,j,T,te,H,B,F,l]),re=a.length>0?a[Math.floor(a.length/2)].id:-1;Object(r.useLayoutEffect)(function(){null!=X.current&&null!=ee.current&&Q.current!=ee.current.getBoundingClientRect().top&&t(Object(p.h)(X.current,X.current.scrollTop,ee.current.getBoundingClientRect().top,Q.current)),ee.current=Z.current,null!=Z.current&&(Q.current=Z.current.getBoundingClientRect().top)},[t,a]),Object(r.useLayoutEffect)(function(){return t(Object(p.e)(X.current,x,!0)),function(){return t(Object(p.c)(J.current,x))}},[t,x]),Object(r.useEffect)(function(){return function(){return clearTimeout(Y.current)}},[]),Object(r.useLayoutEffect)(function(){(M||I)&&(te(),I?t(Object(p.f)(document.getElementById("comment"+I)))&&Object(d.j)(null):M==s.k?t(Object(p.d)(X.current))&&Object(d.l)(null):M==s.l&&t(Object(p.g)(X.current))&&Object(d.l)(null))},[t,I,te,M]);var oe=Object(r.useCallback)(function(e){"com_ans"==e.target.className&&e.target.hasAttribute("data-id")&&Object(d.j)(e.target.getAttribute("data-id")),"com_user"==e.target.className&&e.target.hasAttribute("data-id")&&Object(h.q)(e.target.getAttribute("data-id"))},[]),ae=Object(r.useCallback)(function(e){return t(C(e,te,j,K,F))},[t,K,j,te,F]);Object(r.useEffect)(function(){return Object(m.c)(_.a,ae),function(){return Object(m.b)(_.a,ae)}},[ae]);var ie=Object(r.useCallback)(function(e){if(null!=X.current){var n=X.current,r=n.scrollTop,o=n.scrollHeight,i=n.clientHeight,c=F==s.n?a.length-1:0;a.length>0&&e.last_comment_id==a[c].id||(0==l&&(F==s.n&&o-r-i==0||F==s.m&&0==r)&&t(k(te,j,F))?null!=K&&$(null):$(e.last_comment_id))}},[a,t,K,j,te,F,l]);Object(r.useEffect)(function(){return A(ie),function(){return N(ie)}},[N,A,ie]),function useEventListener(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,o=Object(r.useRef)();Object(r.useEffect)(function(){o.current=t},[t]),Object(r.useEffect)(function(){if(n&&n.addEventListener){var t=function eventListener(e){return o.current(e)};return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}},[e,n])}("click",oe,X.current);var ce=Object(r.useCallback)(function(e,n){return c?t(Object(y.b)(e,n)).then(function(e){return Object(b.b)(e),e}).catch(function(e){return Object(v.b)(e.message)}):(Object(h.d)(),Promise.resolve())},[t,c]);if(V&&0==a.length)return null;var ue=e.stateLoadPageTop,le=e.stateLoadPageBottom,se=e.emptyElement,fe=e.headerElement,pe=e.footerElement;return o.a.createElement("div",{className:"app-scroll"+(V?"":" app-scroll-style app-position-absolute"),onScroll:ne,ref:X},o.a.createElement(S.a,null,fe&&o.a.createElement(S.h,null,fe),o.a.createElement(S.c,null,!f&&o.a.createElement(ChatLoaderView,{type:ue,click:T}),0==a.length?o.a.createElement(EmptyElementView,{element:se}):o.a.createElement("div",{className:"app-comments"},a.map(function(e,r){return o.a.createElement(o.a.Fragment,{key:e.id},r%10==5&&o.a.createElement(w.a,{banner:g.c}),o.a.createElement("div",{className:"app-comment",id:"comment"+e.id,ref:e.id==re?Z:null},o.a.createElement(u.a,{dispatch:t,comment:e,timeCommentFormat:i,profile_id:c,onAnswerCreate:n,onRaitingUpdate:ce,focus:e.id==I,isShowBottom:R,isModerator:L,menu:D})))})),!E&&o.a.createElement(ChatLoaderView,{type:le,click:P})),pe&&o.a.createElement(S.g,null,pe)))}function EmptyElementView(e){var t=e.element;return o.a.createElement(t,null)}EmptyElementView.propTypes={element:i.a.object},ChatGeneralView.propTypes={dispatch:i.a.func,comments:i.a.arrayOf(i.a.shape({id:i.a.number})),timeCommentFormat:i.a.number,profileId:i.a.number,heightAuto:i.a.bool,stateLoad:i.a.bool,commentFirst:i.a.bool,commentLast:i.a.bool,headerElement:l.a,footerElement:l.a,stateLoadPageTop:i.a.string,stateLoadPageBottom:i.a.string,onLoadPageLast:i.a.func,onLoadPageTop:i.a.func,onLoadPageBottom:i.a.func,onChatApiOnUpdate:i.a.func,onChatApiOffUpdate:i.a.func,onAnswerCreate:i.a.func,keyChat:i.a.string,focus:i.a.number,scroll:i.a.string,isShowBottom:i.a.bool,isModerator:i.a.bool,menu:i.a.bool,sort:i.a.number,emptyElement:i.a.object,goChat:i.a.func};var j=n(7),T=n(18),P=n(15);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function chat_general_container_slicedToArray(e,t){return function chat_general_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function chat_general_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function chat_general_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=function onAnswerCreateDispatch(e,t,n,r){return function(o,a){var i=a().defaultState,c=e.get(e.findIndex(function(e){return e.get("id")===n}));Object(T.a)(c.toJSON(),t),i.get("height_auto")&&(P.h||o(Object(E.e)(r==s.m))),Object(T.h)(-1)}};function ChatGeneral(e){var t=e.comments,n=e.onChatApiLoad,a=e.dispatch,i=e.params,c=e.keyChat,u=e.keyChatState,l=e.firstLoadStart,f=e.focus,m=e.scroll,_=e.onChatApiOnUpdate,y=e.onChatApiOffUpdate,b=e.commentFirst,v=e.commentLast,g=e.isShowBottom,w=e.isModerator,E=e.sort,S=e.format,O=chat_general_container_slicedToArray(Object(r.useState)(!1),2),C=O[0],k=O[1],P=chat_general_container_slicedToArray(Object(r.useState)(s.o),2),I=P[0],M=P[1],A=chat_general_container_slicedToArray(Object(r.useState)(s.o),2),N=A[0],R=A[1],L=chat_general_container_slicedToArray(Object(r.useState)(s.o),2),D=L[0],F=L[1],V=chat_general_container_slicedToArray(Object(r.useState)(s.o),2),U=V[0],B=V[1],z=chat_general_container_slicedToArray(Object(r.useState)(s.o),2),q=z[0],H=z[1],W=Object(r.useCallback)(function(e){return a(x(t,c,e,E))},[t,a,c,E]),G=Object(r.useCallback)(function(){F(s.h);var e=Object.assign({},i,{key:t.first().get("id"),down:!1});a(n(s.j,e,c)).then(function(){return F(s.o)}).catch(function(){return F(s.b)})},[t,a,c,n,i]),K=Object(r.useCallback)(function(){B(s.h);var e=Object.assign({},i,{key:t.last().get("id"),down:!0});a(n(s.j,e,c)).then(function(){return B(s.o)}).catch(function(){return B(s.b)})},[t,a,c,n,i]),$=Object(r.useCallback)(function(){var e=l?s.c:s.g,t=l?M:R;Object(d.f)(),k(!0),t(s.h),a(n(e,i,c)).then(function(){return t(s.o)}).catch(function(){return t(s.b)}).then(function(){return k(!1)})},[a,l,c,n,i]),J=Object(r.useCallback)(function(){R(s.h);var e=E==s.n?s.g:s.c;return a(n(e,i,c)).then(function(){return R(s.o)}).catch(function(){return R(s.b)})},[a,c,n,i,E]),Q=Object(r.useCallback)(function(){H(s.h),k(!0),Object(d.f)(),a(Object(p.b)());var e=Object.assign({},i,{key:f});a(n(s.d,e,c)).then(function(e){if(H(s.o),-1==e.comments.map(function(e){return e.id}).indexOf(f)&&Object(d.j)(null),S==s.f){var t=e.chat,n=t.site_id,r=t.hash,o=t.url,a=t.root_id;Object(T.j)(n,r,o,a)!=c&&(Object(h.j)(n,r,o,a,!0),Object(d.j)(f))}}).catch(function(){return H(s.b)}).then(function(){return k(!1)})},[a,f,S,c,n,i]),Y=I==s.h||N==s.h||D==s.h||U==s.h||q==s.h;if(Object(r.useEffect)(function(){Y||(f?(null!=t&&-1==t.findIndex(function(e){return e.get("id")==f})||null==t)&&q!=s.b&&Q():(l?I:N)==s.b||c==u&&null!=t||($(),l||Object(d.l)(s.k)))},[t,l,f,c,u,$,Q,Y,I,q,N]),I==s.b||N==s.b)return o.a.createElement(j.q,{click:$});if(q==s.b)return o.a.createElement(j.q,{click:Q});if(null==t||C)return o.a.createElement(j.k,null);var X=e.timeCommentFormat,Z=e.profileId,ee=e.heightAuto,te=e.headerElement,ne=e.footerElement,re=e.emptyElement;return o.a.createElement(ChatGeneralView,{dispatch:a,comments:t.toJSON(),keyChat:u,timeCommentFormat:X,profileId:Z,heightAuto:ee,stateLoad:Y,stateLoadPageTop:D,stateLoadPageBottom:U,commentFirst:b,commentLast:v,headerElement:te,footerElement:ne,onLoadPageLast:J,onLoadPageTop:G,onLoadPageBottom:K,onChatApiOnUpdate:_,onChatApiOffUpdate:y,onAnswerCreate:W,focus:f,scroll:m,isShowBottom:g,emptyElement:re,isModerator:w,menu:g,sort:E})}ChatGeneral.propTypes={comments:i.a.object};var I=Object(c.b)(function mapStateToProps(e,t){var n=e.chatState,r=e.defaultState;return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({comments:n.get("comments"),keyChatState:n.get("key_chat"),timeCommentFormat:r.getIn(["site_settings","time_comment_format"]),isModerator:r.getIn(["profile","is_moderator"]),profileId:r.getIn(["profile","id"]),heightAuto:r.get("height_auto"),commentFirst:n.get("comment_first"),commentLast:n.get("comment_last"),focus:n.get("focus"),scroll:n.get("scroll")},t)})(ChatGeneral);t.a=I},function(e,t,n){"use strict";var r=n(4),o=n(0),a=n.n(o),i=n(1),c=n.n(i),u=n(6),l=n(34),s=n(25),f=n(8),p=n(12);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function createElement(e,t){var n=document.createElement(e);return t&&(n.className=t),n}function DragSpaceView(e){var t=e.focus,n=e.title,r=e.onClick,a=e.onChange,i=e.multiple,c=e.accept,u=e.height_auto,f="app-upload-drag",p=Object(o.useContext)(l.a).colorMain,d=Object(o.useRef)(),h=Object(o.useRef)(),m=Object(o.useRef)(),_=Object(o.useCallback)(function(){null!=d.current&&(d.current.removeEventListener("click",r,!1),m.current.removeEventListener("click",a,!1),Object(s.j)(d.current,f+"-visible"),setTimeout(function(){return null!=d.current&&document.getElementById("app").removeChild(d.current)},300))},[r,a]),y=Object(o.useCallback)(function(){if(null==d.current){var e=u?" "+f+"-height-auto":"";d.current=createElement("div",f+" s-color-BlackDark"+e),d.current.addEventListener("click",r,!1),h.current=createElement("div",f+"-border"),h.current.appendChild(createElement("div")).innerHTML=n,d.current.appendChild(createElement("div",f+"-bg s-bg-Background")),h.current=d.current.appendChild(h.current),m.current=d.current.appendChild(createElement("input",null)),m.current.addEventListener("change",a,!1),m.current.id="file-drop",m.current.name="file-drop",m.current.type="file",m.current.multiple=i,m.current.accept=c,document.getElementById("app").appendChild(d.current),setTimeout(function(){return null!=d.current&&Object(s.a)(d.current,f+"-visible")},50)}},[c,u,i,a,r,n]);return Object(o.useEffect)(function(){return y(),function(){_()}},[_,y]),Object(o.useEffect)(function(){null!=d.current&&(d.current.style.color=t?p:null,h.current.style.borderColor=t?p:null)},[t,p]),null}function DrogEventView(e){var t=Object(o.useRef)(),n=Object(o.useRef)(),r=_slicedToArray(Object(o.useState)(!1),2),i=r[0],c=r[1],u=_slicedToArray(Object(o.useState)(!1),2),l=u[0],s=u[1],d=Object(o.useCallback)(function(){null==n.current&&c(!0),clearTimeout(n.current),n.current=setTimeout(function(){return n.current=null},100)},[]),h=Object(o.useCallback)(function(){clearTimeout(n.current),n.current=setTimeout(function(){n.current=null,c(!1)},100)},[]),m=Object(o.useCallback)(function(){null==t.current&&s(!0),clearTimeout(t.current),t.current=setTimeout(function(){return t.current=null},100)},[]),_=Object(o.useCallback)(function(){clearTimeout(t.current),t.current=setTimeout(function(){t.current=null,s(!1)},100)},[]);return Object(o.useEffect)(function(){return document.addEventListener("dragenter",m,!1),document.addEventListener("dragover",m,!1),document.addEventListener("dragleave",_,!1),document.addEventListener("drop",_,!1),Object(f.b)(p.g,d),Object(f.b)(p.h,h),function(){document.removeEventListener("dragenter",m,!1),document.removeEventListener("dragover",m,!1),document.removeEventListener("dragleave",_,!1),document.removeEventListener("drop",_,!1),Object(f.a)(p.g,d),Object(f.a)(p.h,h)}},[m,d,_,h]),(i||l)&&a.a.createElement(DragSpaceView,_extends({focus:l,onClick:_},e))}function UploadSelectView(e){return a.a.createElement("div",{className:"app-upload-component"},e.children,a.a.createElement("input",{id:"file-select",type:"file",multiple:e.multiple,accept:e.accept,onChange:e.onChange}),a.a.createElement("label",{htmlFor:"file-select"}),a.a.createElement(DrogEventView,e))}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}UploadSelectView.defaultProps={accept:".jpg,.jpeg,.png,.gif"},UploadSelectView.propTypes={dropSupport:c.a.bool,height_auto:c.a.bool,children:u.a,multiple:c.a.string,onChange:c.a.func,accept:c.a.string,title:c.a.string};var d=Object(r.b)(function mapStateToProps(e,t){return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({height_auto:e.defaultState.get("height_auto")},t)})(UploadSelectView);t.a=d},,function(e,t,n){"use strict";e.exports=n(205)},function(e,t,n){"use strict";function symbolObservablePonyfill(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return symbolObservablePonyfill})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(117))},function(e,t,n){"use strict";e.exports=n(207)},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(117))},function(e,t,n){"use strict";var r=n(174),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function getStatics(e){return r.isMemo(e)?i:c[e.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,l=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function hoistNonReactStatics(e,t,n){if("string"!=typeof t){if(d){var r=p(t);r&&r!==d&&hoistNonReactStatics(e,r,n)}var o=l(t);s&&(o=o.concat(s(t)));for(var i=getStatics(e),c=getStatics(t),h=0;h<o.length;++h){var m=o[h];if(!(a[m]||n&&n[m]||c&&c[m]||i&&i[m])){var _=f(t,m);try{u(e,m,_)}catch(e){}}}return e}return e}},,,function(e,t,n){"use strict";var r=n(203);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,e.exports=function(){function shim(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,s=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.async_mode"):60111,d=o?Symbol.for("react.concurrent_mode"):60111,h=o?Symbol.for("react.forward_ref"):60112,m=o?Symbol.for("react.suspense"):60113,_=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116;function t(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case p:case d:case c:case l:case u:case m:return e;default:switch(e=e&&e.$$typeof){case f:case h:case s:return e;default:return t}}case y:case _:case i:return t}}}function v(e){return t(e)===d}n.typeOf=t,n.AsyncMode=p,n.ConcurrentMode=d,n.ContextConsumer=f,n.ContextProvider=s,n.Element=a,n.ForwardRef=h,n.Fragment=c,n.Lazy=y,n.Memo=_,n.Portal=i,n.Profiler=l,n.StrictMode=u,n.Suspense=m,n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===c||e===d||e===l||e===u||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===_||e.$$typeof===s||e.$$typeof===f||e.$$typeof===h)},n.isAsyncMode=function(e){return v(e)||t(e)===p},n.isConcurrentMode=v,n.isContextConsumer=function(e){return t(e)===f},n.isContextProvider=function(e){return t(e)===s},n.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},n.isForwardRef=function(e){return t(e)===h},n.isFragment=function(e){return t(e)===c},n.isLazy=function(e){return t(e)===y},n.isMemo=function(e){return t(e)===_},n.isPortal=function(e){return t(e)===i},n.isProfiler=function(e){return t(e)===l},n.isStrictMode=function(e){return t(e)===u},n.isSuspense=function(e){return t(e)===m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,_=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,g=r?Symbol.for("react.responder"):60118;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case i:case u:case c:case h:return e;default:switch(e=e&&e.$$typeof){case s:case d:case l:return e;default:return t}}case b:case _:case a:return t}}}function y(e){return x(e)===p}t.typeOf=x,t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=s,t.ContextProvider=l,t.Element=o,t.ForwardRef=d,t.Fragment=i,t.Lazy=b,t.Memo=_,t.Portal=a,t.Profiler=u,t.StrictMode=c,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===u||e===c||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===_||e.$$typeof===l||e.$$typeof===s||e.$$typeof===d||e.$$typeof===v||e.$$typeof===g)},t.isAsyncMode=function(e){return y(e)||x(e)===f},t.isConcurrentMode=y,t.isContextConsumer=function(e){return x(e)===s},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===b},t.isMemo=function(e){return x(e)===_},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===c},t.isSuspense=function(e){return x(e)===h}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(118),o=n(0);function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=60106,c=60107,u=60108,l=60114,s=60109,f=60110,h=60112,m=60113,_=60120,y=60115,b=60116,v=60121,g=60117,w=60119,E=60129,S=60131;if("function"==typeof Symbol&&Symbol.for){var C=Symbol.for;i=C("react.portal"),c=C("react.fragment"),u=C("react.strict_mode"),l=C("react.profiler"),s=C("react.provider"),f=C("react.context"),h=C("react.forward_ref"),m=C("react.suspense"),_=C("react.suspense_list"),y=C("react.memo"),b=C("react.lazy"),v=C("react.block"),g=C("react.fundamental"),w=C("react.scope"),E=C("react.debug_trace_mode"),S=C("react.legacy_hidden")}function F(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case i:return"Portal";case l:return"Profiler";case u:return"StrictMode";case m:return"Suspense";case _:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case s:return(e._context.displayName||"Context")+".Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return F(e.type);case v:return F(e._render);case b:t=e._payload,e=e._init;try{return F(e(t))}catch(e){}}return null}var k=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j={};function I(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var T=new Uint16Array(16),P=0;15>P;P++)T[P]=P+1;T[15]=0;var x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A=Object.prototype.hasOwnProperty,N={},R={};function sa(e){return!!A.call(R,e)||!A.call(N,e)&&(x.test(e)?R[e]=!0:(N[e]=!0,!1))}function M(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){L[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];L[t]=new M(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){L[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){L[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){L[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){L[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){L[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){L[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){L[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,wa);L[t]=new M(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,wa);L[t]=new M(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,wa);L[t]=new M(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){L[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),L.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){L[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});var V=/["'&<>]/;function O(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=V.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}function ya(e,t){var n,r=L.hasOwnProperty(e)?L[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function ua(e,t,n,r){if(null==t||function ta(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+O(t)+'"')):sa(e)?e+'="'+O(t)+'"':""}var U="function"==typeof Object.is?Object.is:function za(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},B=null,z=null,q=null,H=!1,G=!1,K=null,$=0;function W(){if(null===B)throw Error(p(321));return B}function Ba(){if(0<$)throw Error(p(312));return{memoizedState:null,queue:null,next:null}}function Ca(){return null===q?null===z?(H=!1,z=q=Ba()):(H=!0,q=z):null===q.next?(H=!1,q=q.next=Ba()):(H=!0,q=q.next),q}function Da(e,t,n,r){for(;G;)G=!1,$+=1,q=null,n=e(t,r);return Ea(),n}function Ea(){B=null,G=!1,z=null,$=0,q=K=null}function Fa(e,t){return"function"==typeof t?t(e):t}function Ga(e,t,n){if(B=W(),q=Ca(),H){var r=q.queue;if(t=r.dispatch,null!==K&&void 0!==(n=K.get(r))){K.delete(r),r=q.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return q.memoizedState=r,[r,t]}return[q.memoizedState,t]}return e=e===Fa?"function"==typeof t?t():t:void 0!==n?n(t):t,q.memoizedState=e,e=(e=q.queue={last:null,dispatch:null}).dispatch=function Ha(e,t,n){if(!(25>$))throw Error(p(301));if(e===B)if(G=!0,e={action:n,next:null},null===K&&(K=new Map),void 0===(n=K.get(t)))K.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}.bind(null,B,e),[q.memoizedState,e]}function Ia(e,t){if(B=W(),t=void 0===t?null:t,null!==(q=Ca())){var n=q.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!U(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),q.memoizedState=[e,t],e}function Ja(){}var J=null,Q={readContext:function(e){var t=J.threadID;return I(e,t),e[t]},useContext:function(e){W();var t=J.threadID;return I(e,t),e[t]},useMemo:Ia,useReducer:Ga,useRef:function(e){B=W();var t=(q=Ca()).memoizedState;return null===t?(e={current:e},q.memoizedState=e):t},useState:function(e){return Ga(Fa,e)},useLayoutEffect:function(){},useCallback:function(e,t){return Ia(function(){return e},t)},useImperativeHandle:Ja,useEffect:Ja,useDebugValue:Ja,useDeferredValue:function(e){return W(),e},useTransition:function(){return W(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(J.identifierPrefix||"")+"R:"+(J.uniqueID++).toString(36)},useMutableSource:function(e,t){return W(),t(e._source)}},Y={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ma(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Z=r({menuitem:!0},X),ee={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},te=["Webkit","ms","Moz","O"];Object.keys(ee).forEach(function(e){te.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ee[t]=ee[e]})});var ne=/([A-Z])/g,re=/^ms-/,oe=o.Children.toArray,ae=k.ReactCurrentDispatcher,ie={listing:!0,pre:!0,textarea:!0},ce=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ue={},le={};var se=Object.prototype.hasOwnProperty,fe={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function $a(e,t){if(void 0===e)throw Error(p(152,F(t)||"Component"))}function ab(e,t,n){function d(o,a){var i=a.prototype&&a.prototype.isReactComponent,c=function na(e,t,n,r){if(r&&"object"==typeof(r=e.contextType)&&null!==r)return I(r,n),r[n];if(e=e.contextTypes){for(var o in n={},e)n[o]=t[o];t=n}else t=j;return t}(a,t,n,i),u=[],l=!1,s={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(e,t){l=!0,u=[t]},enqueueSetState:function(e,t){if(null===u)return null;u.push(t)}};if(i){if(i=new a(o.props,c,s),"function"==typeof a.getDerivedStateFromProps){var f=a.getDerivedStateFromProps.call(null,o.props,i.state);null!=f&&(i.state=r({},i.state,f))}}else if(B={},i=a(o.props,c,s),null==(i=Da(a,o.props,i,c))||null==i.render)return void $a(e=i,a);if(i.props=o.props,i.context=c,i.updater=s,void 0===(s=i.state)&&(i.state=s=null),"function"==typeof i.UNSAFE_componentWillMount||"function"==typeof i.componentWillMount)if("function"==typeof i.componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&i.UNSAFE_componentWillMount(),u.length){s=u;var d=l;if(u=null,l=!1,d&&1===s.length)i.state=s[0];else{f=d?s[0]:i.state;var h=!0;for(d=d?1:0;d<s.length;d++){var m=s[d];null!=(m="function"==typeof m?m.call(i,f,o.props,c):m)&&(h?(h=!1,f=r({},f,m)):r(f,m))}i.state=f}}else u=null;if($a(e=i.render(),a),"function"==typeof i.getChildContext&&"object"==typeof(o=a.childContextTypes)){var _=i.getChildContext();for(var y in _)if(!(y in o))throw Error(p(108,F(a)||"Unknown",y))}_&&(t=r({},t,_))}for(;o.isValidElement(e);){var a=e,i=a.type;if("function"!=typeof i)break;d(a,i)}return{child:e,context:t}}var pe=function(){function a(e,t,n){o.isValidElement(e)?e.type!==c?e=[e]:(e=e.props.children,e=o.isValidElement(e)?[e]:oe(e)):e=oe(e),e={type:null,domNamespace:Y.html,children:e,childIndex:0,context:j,footer:""};var r=T[0];if(0===r){var a=T,i=2*(r=a.length);if(!(65536>=i))throw Error(p(304));var u=new Uint16Array(i);for(u.set(a),(T=u)[0]=r+1,a=r;a<i-1;a++)T[a]=a+1;T[i-1]=0}else T[0]=T[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=n&&n.identifierPrefix||""}var e=a.prototype;return e.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;T[e]=T[0],T[0]=e}},e.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;I(n,r);var o=n[r];this.contextStack[t]=n,this.contextValueStack[t]=o,n[r]=e.props.value},e.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},e.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},e.read=function(e){if(this.exhausted)return null;var t=J;J=this;var n=ae.current;ae.current=Q;try{for(var r=[""],o=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var a=this.threadID;T[a]=T[0],T[0]=a;break}var i=this.stack[this.stack.length-1];if(o||i.childIndex>=i.children.length){var c=i.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===i.type)this.currentSelectValue=null;else if(null!=i.type&&null!=i.type.type&&i.type.type.$$typeof===s)this.popProvider(i.type);else if(i.type===m){this.suspenseDepth--;var u=r.pop();if(o){o=!1;var l=i.fallbackFrame;if(!l)throw Error(p(303));this.stack.push(l),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=u}r[this.suspenseDepth]+=c}else{var f=i.children[i.childIndex++],d="";try{d+=this.render(f,i.context,i.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(p(294));throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=d}}return r[0]}finally{ae.current=n,J=t,Ea()}},e.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?O(n):this.previousWasTextNode?"\x3c!-- --\x3e"+O(n):(this.previousWasTextNode=!0,O(n));if(e=(t=ab(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!o.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===i)throw Error(p(257));throw Error(p(258,n.toString()))}return e=oe(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var a=e.type;if("string"==typeof a)return this.renderDOM(e,t,n);switch(a){case S:case E:case u:case l:case _:case c:return e=oe(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case m:throw Error(p(294));case w:throw Error(p(343))}if("object"==typeof a&&null!==a)switch(a.$$typeof){case h:B={};var d=a.render(e.props,e.ref);return d=Da(a.render,e.props,d,e.ref),d=oe(d),this.stack.push({type:null,domNamespace:n,children:d,childIndex:0,context:t,footer:""}),"";case y:return e=[o.createElement(a.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case s:return n={type:e,domNamespace:n,children:a=oe(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case f:a=e.type,d=e.props;var v=this.threadID;return I(a,v),a=oe(d.children(a[v])),this.stack.push({type:e,domNamespace:n,children:a,childIndex:0,context:t,footer:""}),"";case g:throw Error(p(338));case b:return a=(d=(a=e.type)._init)(a._payload),e=[o.createElement(a,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}throw Error(p(130,null==a?a:typeof a,""))},e.renderDOM=function(e,t,n){var a=e.type.toLowerCase();if(n===Y.html&&Ma(a),!ue.hasOwnProperty(a)){if(!ce.test(a))throw Error(p(65,a));ue[a]=!0}var i=e.props;if("input"===a)i=r({type:void 0},i,{defaultChecked:void 0,defaultValue:void 0,value:null!=i.value?i.value:i.defaultValue,checked:null!=i.checked?i.checked:i.defaultChecked});else if("textarea"===a){var c=i.value;if(null==c){c=i.defaultValue;var u=i.children;if(null!=u){if(null!=c)throw Error(p(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(p(93));u=u[0]}c=""+u}null==c&&(c="")}i=r({},i,{value:void 0,children:""+c})}else if("select"===a)this.currentSelectValue=null!=i.value?i.value:i.defaultValue,i=r({},i,{value:void 0});else if("option"===a){u=this.currentSelectValue;var l=function Xa(e){if(null==e)return e;var t="";return o.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(i.children);if(null!=u){var s=null!=i.value?i.value+"":l;if(c=!1,Array.isArray(u)){for(var f=0;f<u.length;f++)if(""+u[f]===s){c=!0;break}}else c=""+u===s;i=r({selected:void 0,children:void 0},i,{selected:c,children:l})}}if(c=i){if(Z[a]&&(null!=c.children||null!=c.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=c.dangerouslySetInnerHTML){if(null!=c.children)throw Error(p(60));if(!("object"==typeof c.dangerouslySetInnerHTML&&"__html"in c.dangerouslySetInnerHTML))throw Error(p(61))}if(null!=c.style&&"object"!=typeof c.style)throw Error(p(62))}c=i,u=this.makeStaticMarkup,l=1===this.stack.length,s="<"+e.type;e:if(-1===a.indexOf("-"))f="string"==typeof c.is;else switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":f=!1;break e;default:f=!0}for(w in c)if(se.call(c,w)){var d=c[w];if(null!=d){if("style"===w){var h=void 0,m="",_="";for(h in d)if(d.hasOwnProperty(h)){var y=0===h.indexOf("--"),b=d[h];if(null!=b){if(y)var v=h;else if(v=h,le.hasOwnProperty(v))v=le[v];else{var g=v.replace(ne,"-$1").toLowerCase().replace(re,"-ms-");v=le[v]=g}m+=_+v+":",_=h,m+=y=null==b||"boolean"==typeof b||""===b?"":y||"number"!=typeof b||0===b||ee.hasOwnProperty(_)&&ee[_]?(""+b).trim():b+"px",_=";"}}d=m||null}h=null,f?fe.hasOwnProperty(w)||(h=sa(h=w)&&null!=d?h+'="'+O(d)+'"':""):h=ya(w,d),h&&(s+=" "+h)}}u||l&&(s+=' data-reactroot=""');var w=s;c="",X.hasOwnProperty(a)?w+="/>":(w+=">",c="</"+e.type+">");e:{if(null!=(u=i.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"==typeof(u=i.children)||"number"==typeof u){u=O(u);break e}u=null}return null!=u?(i=[],ie.hasOwnProperty(a)&&"\n"===u.charAt(0)&&(w+="\n"),w+=u):i=oe(i.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?Ma(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:a,children:i,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,w},a}();t.renderToNodeStream=function(){throw Error(p(207))},t.renderToStaticMarkup=function(e,t){e=new pe(e,!0,t);try{return e.read(1/0)}finally{e.destroy()}},t.renderToStaticNodeStream=function(){throw Error(p(208))},t.renderToString=function(e,t){e=new pe(e,!1,t);try{return e.read(1/0)}finally{e.destroy()}},t.version="17.0.1"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},,function(e,t,n){"use strict";n.r(t);n(153),n(158),n(137),n(160),n(163);var r=n(0),o=n.n(r),a=n(70),i=n.n(a),c=n(4),u=n(9),l=n(15),s=n(5),f=n(1),p=n.n(f),d=n(6),h=n(36),m=n(7),_=n(37),y=n(53);function MainScrollContainer(){return Object(r.useEffect)(function(){return y.a.SetLocalScroll(!1),function(){y.a.SetLocalScroll(!0)}},[]),null}var b=n(23);function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function MainRoot(e){var t=e.dispatch,n=e.view_begin,a=e.vidjet_open,i=e.vidjet_sso,c=e.vidjet_width,u=e.vidjet_height,l=e.height_auto,f=e.render_in_content,p=e.children,d=Object(r.useRef)(),y=_slicedToArray(Object(r.useState)(!1),2),v=y[0],g=y[1],w=_slicedToArray(Object(r.useState)(!1),2),E=w[0],S=w[1],O=Object(r.useRef)(),C=Object(r.useRef)(),k=Object(r.useCallback)(function(){g(!0),i||Object(h.i)(h.c,a)},[a,i]),j=Object(r.useCallback)(function(){O.current!=d.current.clientHeight&&(O.current=d.current.clientHeight,d.current.clientHeight&&Object(_.f)(d.current.clientHeight+(f?2:0))),C.current=requestAnimationFrame(j)},[f]);Object(r.useEffect)(function(){return C.current=requestAnimationFrame(j),function(){return cancelAnimationFrame(C.current)}},[j]),Object(r.useEffect)(function(){return document.body.setAttribute("class","s-color-BlackDark s-bg-Background"),function(){return document.body.removeAttribute("class")}},[]);var T=Object(r.useCallback)(function(e){return t(Object(s.g)(e,v))},[t,v]);return Object(r.useEffect)(function(){var e=b.a.listen(T);return function(){return e()}},[T]),Object(r.useEffect)(function(){v&&!i&&E!=a&&(Object(h.i)(h.c,a),S(!0))},[v,a,i,E]),o.a.createElement("div",{ref:d,onMouseMove:v?null:k,onTouchStart:v?null:k,className:"app app-position-relative"+(f?" app-border s-border-BlackLight":""),style:{width:c+"px",height:l?"auto":u+"px"}},n?p:o.a.createElement(m.k,null),l&&v&&o.a.createElement(MainScrollContainer,null))}MainRoot.propTypes={dispatch:p.a.func,children:d.a,view_begin:p.a.bool,vidjet_open:p.a.bool,vidjet_sso:p.a.bool,vidjet_width:p.a.number,vidjet_height:p.a.number,height_auto:p.a.bool,render_in_content:p.a.bool};var v=Object(c.b)(function mapStateToProps(e){var t=e.defaultState;return{view_begin:t.get("view_begin"),vidjet_open:t.get("vidjet_open"),vidjet_sso:t.get("vidjet_sso"),vidjet_width:t.get("vidjet_width"),vidjet_height:t.get("vidjet_height"),height_auto:t.get("height_auto"),render_in_content:t.get("render_in_content")}})(MainRoot),g=n(19);function SocketVidjetClose(){}function SocketVidjetOpen(){}function SocketDisconnect(){Object(g.b)()}function SocketConnect(e){Object(g.a)(e)}var w=n(13),E=n(32),S=n(12),O=n(8),C=n(116);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function SocketContainer(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SocketContainer),t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(SocketContainer).call(this,e)),function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(_assertThisInitialized(t),"onUserProfile",function(e){t.props.dispatch(Object(C.d)(e))}),t.state={vidjet_open:!1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SocketContainer,o.a.Component),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SocketContainer,[{key:"componentDidMount",value:function componentDidMount(){Object(g.d)("connect",w.n),Object(g.d)("reconnected",w.n),Object(g.d)("disconnect",w.o),Object(g.d)("reconnecting",w.o),Object(g.d)(E.g,w.p),Object(g.d)(E.f,this.onUserProfile),Object(O.b)(S.d,SocketVidjetOpen),Object(O.b)(S.c,SocketVidjetClose),SocketConnect(this.props.token)}},{key:"componentWillUnmount",value:function componentWillUnmount(){Object(g.c)("connect",w.n),Object(g.c)("reconnected",w.n),Object(g.c)("disconnect",w.o),Object(g.c)("reconnecting",w.o),Object(g.c)(E.g,w.p),Object(g.c)(E.f,this.onUserProfile),Object(O.a)(S.d,SocketVidjetOpen),Object(O.a)(S.c,SocketVidjetClose),SocketDisconnect()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.socket_connect&&this.props.vidjet_open!=this.state.vidjet_open&&(this.props.vidjet_open,this.setState({vidjet_open:this.props.vidjet_open})),this.props.token!=e.token&&(this.props.socket_connect&&SocketDisconnect(),SocketConnect(this.props.token))}},{key:"render",value:function render(){return null}}]),SocketContainer}(),j=Object(c.b)(function mapStateToProps(e){var t=e.defaultState;return{vidjet_open:t.get("vidjet_open"),token:t.get("token"),socket_connect:t.get("socket_connect")}})(k);k.propTypes={dispatch:p.a.func,vidjet_open:p.a.bool,token:p.a.string,socket_connect:p.a.bool};var T=n(57),P=n.n(T);function firebase_typeof(e){return(firebase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function firebase_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function firebase_possibleConstructorReturn(e,t){return!t||"object"!==firebase_typeof(t)&&"function"!=typeof t?firebase_assertThisInitialized(e):t}function firebase_getPrototypeOf(e){return(firebase_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function firebase_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function firebase_setPrototypeOf(e,t){return(firebase_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function FirebaseStore(e){var t;return function firebase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FirebaseStore),t=firebase_possibleConstructorReturn(this,firebase_getPrototypeOf(FirebaseStore).call(this,e)),l.l?(t.loadToken=t.loadToken.bind(firebase_assertThisInitialized(t)),Promise.all([n.e(1),n.e(12)]).then(n.t.bind(null,239,7)).then(function(e){Promise.all([n.e(1),n.e(26)]).then(n.bind(null,258)).then(function(){e.initializeApp(l.e),e.messaging.isSupported()&&(t.messaging=e.messaging(),t.messaging.usePublicVapidKey(l.f),t.messaging.onTokenRefresh(t.loadToken),window.navigator.serviceWorker.register(l.p).then(function(e){t.messaging.useServiceWorker(e),t.loadToken()}))})}),t):firebase_possibleConstructorReturn(t)}return function firebase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&firebase_setPrototypeOf(e,t)}(FirebaseStore,P.a),function firebase_createClass(e,t,n){return t&&firebase_defineProperties(e.prototype,t),n&&firebase_defineProperties(e,n),e}(FirebaseStore,[{key:"loadToken",value:function loadToken(){var e=this;if(l.l&&this.messaging)return this.messaging.getToken().then(function(t){t&&e.emit("token",t)}).catch(function(){})}},{key:"deleteToken",value:function deleteToken(){var e=this;if(l.l&&this.messaging)return this.messaging.getToken().then(function(t){e.messaging.deleteToken(t)}).catch(function(){})}}]),FirebaseStore}(),I=n(63),M=n(73);function push_container_typeof(e){return(push_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function push_container_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function push_container_getPrototypeOf(e){return(push_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function push_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function push_container_setPrototypeOf(e,t){return(push_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function PushContainer(){var e,t;!function push_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PushContainer);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=function push_container_possibleConstructorReturn(e,t){return!t||"object"!==push_container_typeof(t)&&"function"!=typeof t?push_container_assertThisInitialized(e):t}(this,(e=push_container_getPrototypeOf(PushContainer)).call.apply(e,[this].concat(r))),function push_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(push_container_assertThisInitialized(t),"onToken",function(e){null!=t.props.token&&t.props.push_token!=e&&Object(I.d)(t.props.token,e)}),t}return function push_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&push_container_setPrototypeOf(e,t)}(PushContainer,o.a.Component),function push_container_createClass(e,t,n){return t&&push_container_defineProperties(e.prototype,t),n&&push_container_defineProperties(e,n),e}(PushContainer,[{key:"componentDidMount",value:function componentDidMount(){try{M.a.get("db_push_token").then(function(e){e&&Object(I.e)(e)})}catch(e){console.error("PushContainer",e)}this.props.token&&Object(I.c)(this.props.token),this.firebase=new x,this.firebase.on("token",this.onToken)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this;if(e.token!=this.props.token)if(this.props.token)Object(I.c)(this.props.token),this.firebase.loadToken(),this.props.push_active&&e.push_active!=this.props.push_active&&Object(I.a)(!!this.props.push_active);else try{M.a.get("db_push_token").then(function(e){e&&(t.firebase.deleteToken(e),Object(I.f)(e),Object(I.a)(null),Object(I.e)(null))})}catch(e){console.error("PushContainer",e)}this.props.token&&this.props.push_update!=e.push_update&&this.firebase.loadToken()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.firebase.off("token",this.onToken)}},{key:"render",value:function render(){return null}}]),PushContainer}();A.propTypes={token:p.a.string,push_update:p.a.number,push_active:p.a.bool,push_token:p.a.string};var N=Object(c.b)(function mapStateToProps(e){var t=e.defaultState,n=e.userState;return{token:t.get("token"),push_update:n.get("push_update"),push_active:n.get("push_active"),push_token:n.get("push_token")}})(A);function ProfileEventContainer(e){var t=e.dispatch,n=e.auth,o=Object(r.useCallback)(function(){n&&t(Object(C.a)())},[n,t]);return Object(r.useEffect)(function(){return Object(g.d)(E.e,o),function(){return Object(g.c)(E.e,o)}}),null}ProfileEventContainer.propTypes={auth:p.a.bool};var R=Object(c.b)(function mapStateToProps(e){return{auth:null!=e.defaultState.get("profile")}})(ProfileEventContainer),L=n(17),D=n(24),F=n(20);function onDefaultVidjetOpen(){Object(w.v)()}function onDefaultVidjetClose(){Object(w.t)()}function pm_event_container_typeof(e){return(pm_event_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pm_event_container_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pm_event_container_getPrototypeOf(e){return(pm_event_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pm_event_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pm_event_container_setPrototypeOf(e,t){return(pm_event_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function pm_event_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){function PmEventContainer(e){var t;return function pm_event_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PmEventContainer),t=function pm_event_container_possibleConstructorReturn(e,t){return!t||"object"!==pm_event_container_typeof(t)&&"function"!=typeof t?pm_event_container_assertThisInitialized(e):t}(this,pm_event_container_getPrototypeOf(PmEventContainer).call(this,e)),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_PmWidgetFocus",function(){return Object(w.z)(!0)}),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_PmWidgetBlur",function(){return Object(w.z)(!1)}),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_PmGlobalScroll",function(e){return Object(w.g)(e.scroll)}),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_PmOpen",function(){onDefaultVidjetOpen(),Object(O.c)(S.d)}),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_PmViewCommentFocus",function(e){return Object(L.j)(e.commentId)}),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_PmLog",function(e){try{M.a.set("db_log",!!e.value)}catch(e){console.error("PmLog",e)}}),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_PmLang",function(e){return Object(w.l)(e.lang)}),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_Pminit",function(e){if(parseInt(e.site_id)>0){Object(h.n)(e.uuid),e.sso?t.props.dispatch(Object(C.c)({site_id:e.site_id,data:e.sso})).catch(function(){}).then(function(){t.setState({init:!0})}):(Object(w.r)(Object(h.e)()),Object(w.q)(Object(h.d)(),e.site_id),Object(w.j)(Object(h.h)()));var n=e.href.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);n&&Object(w.k)(n[3].replace(/\./,"_")),Object(w.s)(Object(h.f)()),Object(w.h)(e),Object(w.m)(e.server),e.sso||t.setState({init:!0}),"localhost"!=window.location.hostname&&e.server&&0==e.server.metrics_disable&&function Yandex(){var e,t,n,r,o;e=window,t=document,n="script",e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date,r=t.createElement(n),o=t.getElementsByTagName(n)[0],r.async=1,r.src="https://mc.yandex.ru/metrika/tag.js",o.parentNode.insertBefore(r,o),window.ym(47859155,"init",{id:47859155,trackLinks:!0,accurateTrackBounce:!0}),window.yandexhit=function(e){try{window.ym&&window.ym(47859155,"hit",e)}catch(e){console.error(e)}},window.yandexReachGoal=function(e){try{window.ym&&window.ym(47859155,"reachGoal",e)}catch(e){console.error(e)}}}()}e.vidjet_open&&(t.state.init?(Object(s.k)(),Object(s.p)()):t.setState({exists_command_to_open:!0}))}),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_PmViewBegin",function(){return Object(w.y)()}),pm_event_container_defineProperty(pm_event_container_assertThisInitialized(t),"_PmRender",function(e){Object(w.x)(e.size.width),Object(w.u)(e.size.height),Object(w.A)(e.window.width,e.window.height)}),t.state={init:!1,exists_command_to_open:!1},t}return function pm_event_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pm_event_container_setPrototypeOf(e,t)}(PmEventContainer,o.a.Component),function pm_event_container_createClass(e,t,n){return t&&pm_event_container_defineProperties(e.prototype,t),n&&pm_event_container_defineProperties(e,n),e}(PmEventContainer,[{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var n=this.props,r=n.view_begin,o=n.focus,a=n.render_in_content,i=n.mobile,c=n.desktop_open,u=n.auto_open;r!=e.view_begin&&1==r&&Object(O.c)(S.k),o!=e.focus&&Object(O.c)(S.e,o),t.init!=this.state.init&&this.state.init&&(this.exists_command_to_open?this._PmOpen():a?this._PmOpen():i||(null!=c?1==c&&this._PmOpen():null!=u&&(0==u?this._PmOpen():this.timer=setTimeout(this._PmOpen,1e3*parseInt(u)))),Object(O.c)(S.l)),this.timer&&this.props.vidjet_open!=this.props.vidjet_open&&(clearTimeout(this.timer),this.timer=null)}},{key:"componentDidMount",value:function componentDidMount(){Object(O.b)(S.x,this._PmWidgetFocus),Object(O.b)(S.w,this._PmWidgetBlur),Object(O.b)(S.t,_.g),Object(O.b)(S.u,_.h),Object(O.b)(S.q,s.d),Object(O.b)(S.r,this._PmViewCommentFocus),Object(O.b)(S.n,this._PmLog),Object(O.b)(S.j,this._Pminit),Object(O.b)(S.l,this._PmViewBegin),Object(O.b)(S.b,s.p),Object(O.b)(S.a,s.k),Object(O.b)(S.d,onDefaultVidjetOpen),Object(O.b)(S.c,onDefaultVidjetClose),Object(O.b)(S.p,this._PmRender),Object(O.b)(S.y,this._PmGlobalScroll),Object(O.b)(S.m,this._PmLang),Object(O.c)(S.j,{VERSION:l.q}),Object(_.d)()}},{key:"componentWillUnmount",value:function componentWillUnmount(){Object(O.a)(S.x,this._PmWidgetFocus),Object(O.a)(S.w,this._PmWidgetBlur),Object(O.a)(S.t,_.g),Object(O.a)(S.u,_.h),Object(O.a)(S.q,s.d),Object(O.a)(S.r,this._PmViewCommentFocus),Object(O.a)(S.n,this._PmLog),Object(O.a)(S.j,this._Pminit),Object(O.a)(S.l,this._PmViewBegin),Object(O.a)(S.b,s.p),Object(O.a)(S.a,s.k),Object(O.a)(S.d,onDefaultVidjetOpen),Object(O.a)(S.c,onDefaultVidjetClose),Object(O.a)(S.p,this._PmRender),Object(O.a)(S.y,this._PmGlobalScroll),Object(O.a)(S.m,this._PmLang),clearTimeout(this.timer)}},{key:"render",value:function render(){return null}}]),PmEventContainer}();V.propTypes={dispatch:p.a.func,view_begin:p.a.bool,focus:p.a.bool,auto_open:p.a.number,mobile:p.a.bool,desktop_open:p.a.bool,vidjet_open:p.a.bool,render_in_content:p.a.bool};var U=Object(c.b)(function mapStateToProps(e){var t=e.defaultState;return{focus:t.get("focus"),view_begin:t.get("view_begin"),vidjet_open:t.get("vidjet_open"),render_in_content:t.get("render_in_content"),auto_open:t.getIn(["site_settings","auto_open"]),mobile:t.get("mobile"),desktop_open:t.getIn(["localstory","desktop_open"])}})(V),B=n(34),z=n(71);function theme_container_slicedToArray(e,t){return function theme_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function theme_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function theme_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ThemeBlock(e){var t=e.theme_site,n=e.theme_users,a=theme_container_slicedToArray(Object(r.useState)(function(){return t?Object(z.a)(t.toJSON(),n):z.b}),1)[0];return o.a.createElement(B.a.Provider,{value:a},e.children)}ThemeBlock.propTypes={theme_users:p.a.object,theme_site:p.a.object,children:d.a};var q=Object(c.b)(function mapStateToProps(e){var t=e.defaultState;return{theme_site:t.getIn(["site_settings","theme"]),theme_users:t.get("theme")}})(ThemeBlock),H=n(41),W=n(14),G=n(79);function locale_container_slicedToArray(e,t){return function locale_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function locale_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function locale_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function LocaleBlock(e){var t=locale_container_slicedToArray(Object(r.useState)(null),2),n=t[0],a=t[1],i=locale_container_slicedToArray(Object(r.useState)(null),2),c=i[0],u=i[1],l=locale_container_slicedToArray(Object(r.useState)({lang:null,getLocale:W.a.getLocale,getText:W.a.getText,getTextFunc:W.a.getTextFunc,getDateFormat:W.a.getDateFormat}),2),s=l[0],f=l[1];return Object(r.useEffect)(function(){var t=0==e.locale_site.indexOf(e.lang)?e.locale_site:e.lang;!function onDefaultLoadLocale(e){return Object(w.i)(null),D.a.Ajax({type:F.y,path:e,send:"GET"}).then(function(e){return Object(w.i)(e)})}(t),u(t)},[e.lang,e.locale_site]),Object(r.useEffect)(function(){e.locale&&n!=c&&(a(c),W.a.setLocale(e.lang),W.a.setFunc(e.lang,G.b[e.lang]),W.a.setDateFormat(e.lang,e.locale.date_time,e.timeCommentFormat,new Date(e.timeServer),new Date(e.timeClient)),W.a.setTranslations(e.lang,e.locale.translation),f({lang:e.lang,getLocale:W.a.getLocale,getText:W.a.getText,getTextFunc:W.a.getTextFunc,getDateFormat:W.a.getDateFormat}))},[n,c,e.lang,e.locale,e.timeClient,e.timeCommentFormat,e.timeServer]),o.a.createElement(H.a.Provider,{value:s},e.children)}LocaleBlock.propTypes={lang:p.a.string,locale_site:p.a.string,locale:p.a.object,children:d.a,timeServer:p.a.number,timeClient:p.a.number,timeCommentFormat:p.a.number};var K=Object(c.b)(function mapStateToProps(e){var t=e.defaultState,n=t.getIn(["profile","lang"]);return{timeClient:t.get("time_client"),timeServer:t.getIn(["site_settings","time"]),lang:null!=n?n:t.get("lang"),locale:t.get("locale"),locale_site:t.getIn(["site_settings","locale"]),timeCommentFormat:t.getIn(["site_settings","time_comment_format"])}})(LocaleBlock),$=n(28),J=n(111),Q=n(11);function MainHeaderBlock(e){var t=e.profile_id,n=e.profile_name,a=e.answer_count,i=e.is_root_history,c=Object(r.useCallback)(function(){t&&Object(s.q)(t)},[t]),u=Object(r.useCallback)(function(){i?t?Object(s.n)():Object(s.d)():Object(s.f)()},[i,t]),l=i?"navicon-round":"arrow-left";return t?o.a.createElement("div",{className:"app-header s-border-BlackLight s-bg-Background"},o.a.createElement(m.g,{type:"left",icon:l,click:u}),o.a.createElement(m.g,{type:"right",icon:"times",click:s.k}),o.a.createElement(m.p,{click:s.l,value:a}),o.a.createElement(m.e,{click:c},n)):o.a.createElement(m.f,{left:u,right:s.k,icon_left:l},o.a.createElement(Q.a,{msg:"To discuss"}))}MainHeaderBlock.propTypes={profile_id:p.a.number,profile_name:p.a.string,answer_count:p.a.number,is_root_history:p.a.bool};var Y=Object(c.b)(function mapStateToProps(e){return{profile_id:e.defaultState.getIn(["profile","id"]),profile_name:e.defaultState.getIn(["profile","name"]),answer_count:e.defaultState.getIn(["stats","answer_count"]),is_root_history:Object(s.u)()}})(MainHeaderBlock),X=function MainHeaderFixedContainer(){return o.a.createElement(J.a,{position:"top",faik_space:!0},o.a.createElement(Y,null))};var Z=n(77);function BrendMainView(){return o.a.createElement("div",{className:"app-chat s-border-BlackLight",onClick:Z.b.bind(null,"brend_main_view")},o.a.createElement("div",{className:"app-chat_pos"},o.a.createElement("div",{className:"app-chat_desc"},o.a.createElement("div",{className:"app-chat_title s-color-BlackDark"},o.a.createElement(Q.a,{msg:"Tolstoy Comments chats on your site"})),o.a.createElement("div",{className:"app-chat_info s-color-BlackMiddle"},o.a.createElement("span",null,o.a.createElement("span",{className:"a"},o.a.createElement("span",{className:"app-chat_icon app-icon icon-link"})," ",o.a.createElement(Q.a,{msg:"Install for free"}))))),o.a.createElement("div",{className:"app-chat_event"},o.a.createElement("div",{className:"app-chat_event-count"},o.a.createElement(m.n,{color:"brand",value:"Ad"})))))}var ee=n(72),te={main:{padding:"12px 11px 16px"},item:{marginBottom:"7px",height:"20px"}};function MainLoader(){for(var e=[],t=0;t<10;t++)e.push(o.a.createElement("div",{key:t,style:te.main},o.a.createElement("div",{style:te.item,className:"s-bg-BlackLight"}),o.a.createElement("div",{style:te.item,className:"s-bg-BlackLight"})));return o.a.createElement("div",{className:"app-position-absolute app-overflow"},e)}var ne=n(92),re=n(47),oe=n(119),ae=n(10);function MainEmptyView(){return o.a.createElement(ae.b,null,o.a.createElement("div",{className:"app-chat-empty"},o.a.createElement(Q.a,{msg:"Chat list is empty"})))}var ie=n(3),ce=n(18),ue=new Map;function ChatTitleText(e){var t=e.title,n=e.url;if(t)return t;if(ue.has(n))return ue.get(n);var r=function getPathName(e){var t=document.createElement("a");return t.href=e,t.pathname+t.search}(n);return ue.set(n,r),r}var le=n(29),se=n(120);function main_container_slicedToArray(e,t){return function main_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function main_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function main_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function MainItemUserFavofitesView(){return o.a.createElement("div",{className:"app-chat_title-favorites s-color-BlackDark"},o.a.createElement("div",{className:"app-chat_user-status-favorites"},o.a.createElement("span",{className:"app-chat_icon icon-star s-color-BlackMiddle"})),o.a.createElement("div",{className:"app-chat_user-name"},o.a.createElement(Q.a,{msg:"Favorites"})))}function MainItemUserView(e){var t=e.online,n=e.name;return o.a.createElement("div",{className:"app-chat_title s-color-BlackDark"},o.a.createElement("div",{className:"app-chat_user-status "+(t?"s-bg-Main":"s-bg-BlackMiddle")}),o.a.createElement("div",{className:"app-chat_user-name"},n))}function MainItemDateView(e){var t=Object(r.useContext)(H.a),n=Object(r.useCallback)(function(n){n.stopPropagation(),Object(w.b)(t.getDateFormat(e.data_create,le.f))},[t,e.data_create]);return o.a.createElement("div",{className:"app-chat_event-time s-color-MainMiddle",onClick:n,title:t.getDateFormat(e.data_create,le.f)},t.getDateFormat(e.data_create,le.b))}function MainTemplate(e){var t=e.desc,n=e.count,a=e.comment,i=e.goChat,c=e.goChatComment,u=e.selected,l=e.timeCommentFormat,f=Object(r.useCallback)(function(){return Object(s.q)(a.user.id)},[a.user.id]);return o.a.createElement("div",{className:"app-chat s-border-BlackLight"+(u?" s-bg-BlackLight":""),onClick:i},o.a.createElement("div",{className:"app-chat_pos"},o.a.createElement("div",{className:"app-chat_desc"},t,o.a.createElement("div",{className:"app-chat_info s-color-BlackMiddle"},o.a.createElement("span",null,o.a.createElement("span",{className:"a",onClick:f},a.user.name,":")," "),o.a.createElement("span",{className:"app-cursor",onClick:c},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.text_template}}),o.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.attaches_text}})))),o.a.createElement("div",{className:"app-chat_event"},o.a.createElement("div",{className:"app-chat_event-count"},n),0!=l&&o.a.createElement(MainItemDateView,{data_create:a.data_create}))))}MainItemUserView.propTypes={online:p.a.bool,name:p.a.string},MainItemDateView.propTypes={data_create:p.a.string},MainTemplate.propTypes={desc:d.a,count:d.a,comment:p.a.object,goChat:p.a.func,goChatComment:p.a.func,selected:p.a.bool,timeCommentFormat:p.a.number};var fe=o.a.createElement(Q.a,{msg:"Last Comment"}),pe=o.a.createElement(Q.a,{msg:"You wrote here"}),de=o.a.createElement(Q.a,{msg:"You read this chat"});function MainItemChat(e){var t=e.dispatch,n=e.item,a=e.key_chat_select,i=e.timeCommentFormat,c=n.data,u=n.comment,l=n.type,f=n.count_comment_write,p=n.count_comment_read,d=main_container_slicedToArray(Object(r.useState)(function(){return Object(ce.i)(c.site_id,c.hash,c.url)}),1)[0],h=Object(r.useCallback)(function(){return Object(s.h)(c.site_id,c.hash,c.url)},[c.site_id,c.hash,c.url]),_=Object(r.useCallback)(function(){var e=c.site_id,n=c.hash,r=c.url,o=u.id,a=u.answer_comment_root_id;Object(L.j)(o),t(Object(s.i)(e,n,r,a))},[t,u,c]),y=o.a.createElement("div",{className:"app-chat_title s-color-BlackDark"},o.a.createElement(ChatTitleText,{title:c.title,url:c.url})),b=!!a&&0===a.indexOf(d),v=b?o.a.createElement(m.o,{hover:fe},o.a.createElement(m.n,{color:"text",value:c.count_comment})):"comment"==l?o.a.createElement(m.o,{hover:pe},o.a.createElement(m.n,{color:"red",value:f})):"visit"==l?o.a.createElement(m.o,{hover:de},o.a.createElement(m.n,{color:"grey",value:p})):o.a.createElement(m.o,{hover:fe},o.a.createElement(m.n,{color:"text",value:c.count_comment}));return o.a.createElement(MainTemplate,{desc:y,count:v,comment:u,goChat:h,goChatComment:_,selected:b,timeCommentFormat:i})}function MainItemUser(e){var t=e.item,n=e.profile_id,a=e.key_chat_select,i=e.timeCommentFormat,c=t.data,u=t.comment,l=t.rubric,f=t.count_comment_write,p=main_container_slicedToArray(Object(r.useState)(function(){return Object(ce.k)(c.user.id)}),1)[0],d=Object(r.useCallback)(function(){return Object(s.o)(c.user.id)},[c.user.id]),h=n==c.user.id?o.a.createElement(MainItemUserFavofitesView,null):o.a.createElement(MainItemUserView,{online:c.user.online,name:c.user.name}),_=!!a&&p===a,y=_||"comment"!=l?null:o.a.createElement(m.o,{hover:o.a.createElement(Q.a,{msg:"You wrote here"})},o.a.createElement(m.n,{color:"red",value:f}));return o.a.createElement(MainTemplate,{desc:h,count:y,comment:u,goChat:d,goChatComment:d,selected:_,timeCommentFormat:i})}function Main(e){var t=e.dispatch,n=e.support_select,a=e.timeCommentFormat,i=e.profile_id,c=e.key_chat_select,u=e.items,l=main_container_slicedToArray(Object(r.useState)("init"),2),s=l[0],f=l[1],p=Object(r.useCallback)(function(){f("load"),t(function MainApiGetItems(){return function(e,t){var n=t().defaultState;return D.a.Ajax({type:F.k,send:"GET",param:{site_id:n.get("site_id"),token:n.get("token")}})}}()).then(function(e){Object(se.b)(e),f("success")}).catch(function(){return f("fail")})},[t]);Object(r.useEffect)(function(){"init"==s&&p()},[p,s]);var d=Object(r.useRef)(c);if(Object(r.useEffect)(function(){if(n&&null!=c){if(d.current!=c&&"success"==s){var e=setTimeout(p,3e3);return function(){return clearTimeout(e)}}d.current=c}},[c,p,s,n]),"fail"==s)return o.a.createElement(m.q,{click:p});if(null==u)return o.a.createElement(MainLoader,null);if(0==u.size)return o.a.createElement(MainEmptyView,null);var h=o.a.createElement(ee.a,{banner:re.b},o.a.createElement(oe.a,null,o.a.createElement(BrendMainView,{key:"brend"}))),_=n?c:null;return o.a.createElement(ne.a,{section:"/",stateScroll:!n},u.toJSON().map(function(e,n){return o.a.createElement(o.a.Fragment,{key:e.id},4==n&&h,e.rubric==ie.a&&o.a.createElement(MainItemChat,{dispatch:t,item:e,key_chat_select:_,timeCommentFormat:a}),e.rubric==ie.i&&o.a.createElement(MainItemUser,{item:e,profile_id:i,key_chat_select:_,timeCommentFormat:a}))}))}MainItemChat.propTypes={dispatch:p.a.func,item:p.a.object,key_chat_select:p.a.string,timeCommentFormat:p.a.number},MainItemUser.propTypes={item:p.a.object,profile_id:p.a.number,key_chat_select:p.a.string,timeCommentFormat:p.a.number},Main.propTypes={dispatch:p.a.func,site_id:p.a.number,token:p.a.string,items:p.a.object,profile_id:p.a.number,chat_hash:p.a.string,load:p.a.bool,fail:p.a.bool,section:p.a.string,timeCommentFormat:p.a.number,key_chat_select:p.a.string,support_select:p.a.bool};var he=Object(c.b)(function mapStateToProps(e,t){var n=e.mainState,r=e.defaultState,o=e.chatState,a=t.support_select&&"/"!=b.a.location.pathname;return{items:n.get("items"),site_id:r.get("site_id"),token:r.get("token"),profile_id:r.getIn(["profile","id"]),key_chat_select:o.get("key_chat"),support_select:a,timeCommentFormat:r.getIn(["site_settings","time_comment_format"])}})(Main),me=function MainPages(){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(he,{support_select:!1})))},_e=n(190),ye=n(26),be=n(148),ve=Object(c.b)(function mapStateToProps(e,t){var n=e.chatState,r=e.filesState,o=e.defaultState,a=e.editorState,i=t.params,c=t.keyChat,u=t.view_top,l=i.site_id,s=i.hash,f=i.url,p=i.root_id,d=n.getIn(["chat","title"]),h=o.get("profile"),m=n.get("comments"),_=o.get("height_auto"),y=null!=m&&0==m.size,b=(!_||!y)&&u;return{auth:null!=h,key_chat:c,type:"comment",mobile:o.get("mobile"),params:{title:null!=d?d:n.get("default_title"),site_id:l,hash:s,url:decodeURIComponent(f),root_id:p},comments:n.get("comments"),answer_comment_update:a.get("answer_comment"),attaches:r.get("attaches"),focused:a.get("focused"),editor:a.getIn(["values",c]),send_message_enter:o.getIn(["profile","send_message_enter"]),comment_last_create:n.get("comment_last_create"),view_top:b,onChatApiSend:ye.f,onChatApiEdit:be.a}})(_e.a),ge=n(182),we=Object(c.b)(function mapStateToProps(e,t){var n=e.chatState,r=t.params,o=t.view_top,a=t.keyChat,i=t.comment_show_format,c=n.get("comments"),u=i==ie.f;return{attr:r,key_chat:a,onChatApiLoad:ye.a,onChatApiSubscribe:u?ye.m:ye.k,onChatApiUnSubscribe:u?ye.n:ye.l,onChatApiOnUpdate:ye.d,onChatApiOffUpdate:ye.c,view_top:o,params:r,comments_last_id:null!=c&&c.size>0?(o?c.first():c.last()).get("id"):null,comment_last:o?n.get("comment_first"):n.get("comment_last")}})(ge.a);function ChatExistsContainer(e){return e.exists?e.children:null}ChatExistsContainer.propTypes={exists:p.a.bool,children:d.a};var Ee=Object(c.b)(function mapStateToProps(e){var t=e.chatState;return{exists:null!=t.get("comments")&&null!=t.get("chat")}})(ChatExistsContainer),Se=n(183);function ChatClosedContainer(e){return e.closed?e.children:null}ChatClosedContainer.propTypes={closed:p.a.bool,children:d.a};var Oe=Object(c.b)(function mapStateToProps(e){return{closed:null!=e.chatState.get("chat")&&0==e.chatState.getIn(["chat","closed"])}})(ChatClosedContainer),Ce=n(184);function scroll_fixed_top_container_typeof(e){return(scroll_fixed_top_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function scroll_fixed_top_container_getPrototypeOf(e){return(scroll_fixed_top_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function scroll_fixed_top_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function scroll_fixed_top_container_setPrototypeOf(e,t){return(scroll_fixed_top_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function scroll_fixed_top_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(e){function ScrollFixedTopView(e){var t;return function scroll_fixed_top_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ScrollFixedTopView),t=function scroll_fixed_top_container_possibleConstructorReturn(e,t){return!t||"object"!==scroll_fixed_top_container_typeof(t)&&"function"!=typeof t?scroll_fixed_top_container_assertThisInitialized(e):t}(this,scroll_fixed_top_container_getPrototypeOf(ScrollFixedTopView).call(this,e)),scroll_fixed_top_container_defineProperty(scroll_fixed_top_container_assertThisInitialized(t),"_PmWindowScroll",function(e){var n=e.scroll,r=t.props.vidjet_height,o=t.state.global_scroll,a=n>=0&&n<=r;(1==a||0==a&&1==(o>=0&&o<=r))&&t.setState(function(){return{global_scroll:n}}),t.setState(function(){return{scroll_active:!1}})}),scroll_fixed_top_container_defineProperty(scroll_fixed_top_container_assertThisInitialized(t),"_PmWindowScrollBegin",function(){return t.setState(function(){return{scroll_active:!0}})}),scroll_fixed_top_container_defineProperty(scroll_fixed_top_container_assertThisInitialized(t),"componentDidMountUpdate",function(){var e=t.state.scroll_active,n=t.props,r=n.window_height,o=n.vidjet_height;if(!(e||o<=r)){var a=t.parent.current.getBoundingClientRect().top;t.state.border_top!=a&&t.setState(function(){return{border_top:a}})}}),scroll_fixed_top_container_defineProperty(scroll_fixed_top_container_assertThisInitialized(t),"componentDidMount",function(){Object(O.b)(S.y,t._PmWindowScroll),Object(O.b)(S.z,t._PmWindowScrollBegin),t.componentDidMountUpdate()}),scroll_fixed_top_container_defineProperty(scroll_fixed_top_container_assertThisInitialized(t),"componentWillUnmount",function(){Object(O.a)(S.y,t._PmWindowScroll),Object(O.a)(S.z,t._PmWindowScrollBegin)}),scroll_fixed_top_container_defineProperty(scroll_fixed_top_container_assertThisInitialized(t),"componentDidUpdate",function(){t.componentDidMountUpdate();var e=!(t.state.scroll_active||t.props.vidjet_height<=t.props.window_height);t.state.default_active_state!=e&&t.setState(function(){return{default_active_state:e}})}),scroll_fixed_top_container_defineProperty(scroll_fixed_top_container_assertThisInitialized(t),"render",function(){var e=t.state,n=e.global_scroll,r=e.scroll_active,a=e.default_active_state,i=e.border_top,c=t.props,u=c.window_height,l=c.vidjet_height,s=c.children,f=c.border,p=l-(u-f)/2-i+50,d=Math.min(p,Math.max(0,n+f-i+50)),h=!(r||l<=u)||0==d,m={top:h?d+"px":"auto"},_="app-scroll-fixed-block-top "+(h&&0!=d&&p!=d?"app-scroll-fixed-effect"+(a?" apper":""):"");return o.a.createElement("div",{ref:t.parent,className:"app-scroll-fixed-block"},o.a.createElement("div",{ref:t.elem,className:_,style:h?m:null},s))}),t.elem=o.a.createRef(),t.parent=o.a.createRef(),t.state={global_scroll:0,scroll_active:!0,default_active_state:e.vidjet_height<=e.window_height,border_top:0},t}return function scroll_fixed_top_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&scroll_fixed_top_container_setPrototypeOf(e,t)}(ScrollFixedTopView,o.a.Component),ScrollFixedTopView}();scroll_fixed_top_container_defineProperty(ke,"propTypes",{window_height:p.a.number,vidjet_height:p.a.number,children:d.a,border:p.a.number});var je=function ScrollFixedTopBlock(e){var t=e.height_auto,n=e.children;return t?o.a.createElement(ke,e,n):n};je.propTypes={height_auto:p.a.bool,children:d.a};var Te=Object(c.b)(function mapStateToPropsHeightAuto(e,t){var n=e.defaultState;return{height_auto:n.get("height_auto"),window_height:n.get("window_height"),vidjet_height:n.get("vidjet_height"),children:t.children,border:n.get("scroll_border_top")}})(je),Pe=n(147),xe=n(185),Ie=n(191);function ChatEmpty(e){var t=e.mobile_and_focus,n=e.profile_id,r=e.height_auto,a=e.comment_show_sort;if(t||r)return null;var i=a==ie.n?"icon-arrow-down":"icon-arrow-up";return o.a.createElement("div",{className:"app-comments-empty"},o.a.createElement("div",null,o.a.createElement(Q.a,{msg:"Here is haven't comment."})),n?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(Q.a,{msg:"Begin to discuss first."})),o.a.createElement("div",null,o.a.createElement("span",{className:"app-icon "+i}))):o.a.createElement("div",null,o.a.createElement(Q.a,{msg:"To start the discussion first, <a:login>log in</a>",login:{onClick:s.d}})))}ChatEmpty.propTypes={mobile_and_focus:p.a.bool,profile_id:p.a.number,height_auto:p.a.bool,comment_show_sort:p.a.number};var Me=Object(c.b)(function mapStateToProps(e){return{mobile_and_focus:e.defaultState.get("focus")&&e.defaultState.get("mobile"),profile_id:e.defaultState.getIn(["profile","id"]),height_auto:e.defaultState.get("height_auto"),comment_show_sort:e.defaultState.get("comment_show_sort")}})(ChatEmpty);Me.propTypes={};var Ae=Me;function CommentsFormatPages(e){var t=e.params,n=e.keyChat,r=e.comment_show_sort,a=e.comment_show_format,i=o.a.createElement(oe.a,null,o.a.createElement(xe.a,null));return o.a.createElement(Ie.a,{params:t,keyChat:n,onChatApiLoad:ye.a,onChatApiOnUpdate:ye.d,onChatApiOffUpdate:ye.c,headerElement:null,footerElement:i,emptyElement:Ae,firstLoadStart:!0,isShowBottom:!0,sort:r,format:a})}CommentsFormatPages.propTypes={params:p.a.object,keyChat:p.a.string,comment_show_sort:p.a.number,comment_show_format:p.a.number};var Ne=CommentsFormatPages;function ChatFixedContainer(e){var t=e.dispatch,n=e.fixed_comment,a=n?n.get("id"):null,i=Object(r.useCallback)(function(){a&&t(function(e,r){var o=r().chatState,i=o.getIn(["chat","site_id"]),c=o.getIn(["chat","hash"]),u=o.getIn(["chat","url"]),l=n.get("answer_comment_root_id");Object(L.j)(a),t(Object(s.i)(i,c,u,l))})},[a,t,n]);return n?o.a.createElement("div",{className:"app-chat-py app-cursor",onClick:i},o.a.createElement("div",{className:"flex-row"},o.a.createElement("div",{className:"app-chat-flex-col-w45 s-color-BlackMiddle"},o.a.createElement("span",{className:"app-icon icon-thumb-tack"})),o.a.createElement("div",{className:"flex-col s-color-BlackMiddle"},o.a.createElement(Q.a,{msg:"Pinned message"}))),o.a.createElement("div",{className:"app-chat-mx app-position-relative app-chat-overflow"},o.a.createElement("div",{className:"app-position-absolute"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.get("text_template")}}),o.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.get("attaches_text")}})))):null}ChatFixedContainer.propTypes={dispatch:p.a.func,fixed_comment:p.a.object};var Re=Object(c.b)(function mapStateToProps(e){return{fixed_comment:e.chatState.getIn(["chat","fixed_comment"])}})(ChatFixedContainer);Re.propTypes={};var Le=Re;function ChatEventContainer(e){var t=e.params,n=Object(r.useCallback)(function(e){e&&(Object(L.i)(e.fixed?e:null),Object(L.b)(e.id,{fixed:e.fixed}))},[]);return Object(r.useEffect)(function(){return Object(ye.g)(t),function(){return Object(ye.h)(t)}},[t]),Object(r.useEffect)(function(){return Object(g.d)(E.b,n),function(){return Object(g.c)(E.b,n)}},[n]),null}ChatEventContainer.propTypes={params:p.a.object};var De=ChatEventContainer,Fe=n(46),Ve=n(31);var Ue=n(58),Be=o.a.createContext(null);function getChildMapping(e,t){var n=Object.create(null);return e&&r.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function mapper(e){return t&&Object(r.isValidElement)(e)?t(e):e}(e)}),n}function getProp(e,t,n){return null!=n[t]?n[t]:e.props[t]}function getNextChildMapping(e,t,n){var o=getChildMapping(e.children),a=function mergeChildMappings(e,t){function getValueForKey(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var n,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var i={};for(var c in t){if(r[c])for(n=0;n<r[c].length;n++){var u=r[c][n];i[r[c][n]]=getValueForKey(u)}i[c]=getValueForKey(c)}for(n=0;n<o.length;n++)i[o[n]]=getValueForKey(o[n]);return i}(t,o);return Object.keys(a).forEach(function(i){var c=a[i];if(Object(r.isValidElement)(c)){var u=i in t,l=i in o,s=t[i],f=Object(r.isValidElement)(s)&&!s.props.in;!l||u&&!f?l||!u||f?l&&u&&Object(r.isValidElement)(s)&&(a[i]=Object(r.cloneElement)(c,{onExited:n.bind(null,c),in:s.props.in,exit:getProp(c,"exit",e),enter:getProp(c,"enter",e)})):a[i]=Object(r.cloneElement)(c,{in:!1}):a[i]=Object(r.cloneElement)(c,{onExited:n.bind(null,c),in:!0,exit:getProp(c,"exit",e),enter:getProp(c,"enter",e)})}}),a}var ze=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},qe=function(e){function TransitionGroup(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function assertThisInitialized_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Object(Ue.a)(TransitionGroup,e);var t=TransitionGroup.prototype;return t.componentDidMount=function componentDidMount(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},TransitionGroup.getDerivedStateFromProps=function getDerivedStateFromProps(e,t){var n,o,a=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,o=i,getChildMapping(n.children,function(e){return Object(r.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:getProp(e,"appear",n),enter:getProp(e,"enter",n),exit:getProp(e,"exit",n)})})):getNextChildMapping(e,a,i),firstRender:!1}},t.handleExited=function handleExited(e,t){var n=getChildMapping(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(Ve.a)({},t.children);return delete n[e.key],{children:n}}))},t.render=function render(){var e=this.props,t=e.component,n=e.childFactory,r=Object(Fe.a)(e,["component","childFactory"]),a=this.state.contextValue,i=ze(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.a.createElement(Be.Provider,{value:a},i):o.a.createElement(Be.Provider,{value:a},o.a.createElement(t,r,i))},TransitionGroup}(o.a.Component);qe.propTypes={},qe.defaultProps={component:"div",childFactory:function childFactory(e){return e}};var He=qe;function replaceClassName(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var We=!1,Ge="unmounted",Ke="exited",$e="entering",Je="entered",Qe=function(e){function Transition(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=Ke,r.appearStatus=$e):o=Je:o=t.unmountOnExit||t.mountOnEnter?Ge:Ke,r.state={status:o},r.nextCallback=null,r}Object(Ue.a)(Transition,e),Transition.getDerivedStateFromProps=function getDerivedStateFromProps(e,t){return e.in&&t.status===Ge?{status:Ke}:null};var t=Transition.prototype;return t.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function componentDidUpdate(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$e&&n!==Je&&(t=$e):n!==$e&&n!==Je||(t="exiting")}this.updateStatus(!1,t)},t.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},t.getTimeouts=function getTimeouts(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},t.updateStatus=function updateStatus(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===$e?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Ke&&this.setState({status:Ge})},t.performEnter=function performEnter(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[i.a.findDOMNode(this),r],a=o[0],c=o[1],u=this.getTimeouts(),l=r?u.appear:u.enter;!e&&!n||We?this.safeSetState({status:Je},function(){t.props.onEntered(a)}):(this.props.onEnter(a,c),this.safeSetState({status:$e},function(){t.props.onEntering(a,c),t.onTransitionEnd(l,function(){t.safeSetState({status:Je},function(){t.props.onEntered(a,c)})})}))},t.performExit=function performExit(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.a.findDOMNode(this);t&&!We?(this.props.onExit(r),this.safeSetState({status:"exiting"},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Ke},function(){e.props.onExited(r)})})})):this.safeSetState({status:Ke},function(){e.props.onExited(r)})},t.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function safeSetState(e,t){t=this.setNextCallback(t),this.setState(e,t)},t.setNextCallback=function setNextCallback(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.onTransitionEnd=function onTransitionEnd(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],c=o[1];this.props.addEndListener(a,c)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},t.render=function render(){var e=this.state.status;if(e===Ge)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(Fe.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(Be.Provider,{value:null},"function"==typeof n?n(e,r):o.a.cloneElement(o.a.Children.only(n),r))},Transition}(o.a.Component);function noop(){}Qe.contextType=Be,Qe.propTypes={},Qe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop},Qe.UNMOUNTED=Ge,Qe.EXITED=Ke,Qe.ENTERING=$e,Qe.ENTERED=Je,Qe.EXITING="exiting";var Ye=Qe,Xe=function removeClass(e,t){return e&&t&&t.split(" ").forEach(function(t){return function removeClass_removeClass(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=replaceClassName(e.className,t):e.setAttribute("class",replaceClassName(e.className&&e.className.baseVal||"",t))}(e,t)})},Ze=function(e){function CSSTransition(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1];t.removeClasses(o,"exit"),t.addClass(o,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.addClass(o,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.removeClasses(o,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}Object(Ue.a)(CSSTransition,e);var t=CSSTransition.prototype;return t.addClass=function addClass(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function addClass(e,t){e&&t&&t.split(" ").forEach(function(t){return function addClass_addClass(e,t){e.classList?e.classList.add(t):function hasClass(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(e,t)})}(e,r))},t.removeClasses=function removeClasses(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,a=n.done;this.appliedClasses[t]={},r&&Xe(e,r),o&&Xe(e,o),a&&Xe(e,a)},t.render=function render(){var e=this.props,t=(e.classNames,Object(Fe.a)(e,["classNames"]));return o.a.createElement(Ye,Object(Ve.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},CSSTransition}(o.a.Component);Ze.defaultProps={classNames:""},Ze.propTypes={};var et=Ze;function chat_stats_container_slicedToArray(e,t){return function chat_stats_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function chat_stats_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function chat_stats_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ChatStatsView(e){var t=e.count_comment_all,n=e.profile,a=chat_stats_container_slicedToArray(Object(r.useState)(function(){return null==n?null:{id:n.get("id"),name:n.get("name"),nick:n.get("nick"),ava:n.get("ava")}}),1)[0],i=chat_stats_container_slicedToArray(Object(r.useState)(1),2),c=i[0],u=i[1],l=chat_stats_container_slicedToArray(Object(r.useState)(function(){return null==a?[]:[a]}),2),s=l[0],f=l[1],p=Object(r.useCallback)(function(e){if(e&&e.users&&e.count_online){var t=e.users,n=e.count_online;u(n<1?1:n>999?999:n);var r=t.map(function(e){return e.id}),o=s.map(function(e){return e.id});f([].concat(null==a?[]:[a]).concat(s.filter(function(e){return-1!==r.indexOf(e.id)})).concat(t.filter(function(e){return-1===o.indexOf(e.id)})))}},[s,a]);return Object(r.useEffect)(function(){return Object(g.d)(E.d,p),function(){return Object(g.c)(E.d,p)}},[p]),o.a.createElement("div",{className:"app-chat-stats flex-row app-chat-py"},o.a.createElement("div",{className:"app-chat-flex-col-w45 s-color-BlackMiddle"},o.a.createElement("span",{className:"app-icon icon-comment"})),o.a.createElement("div",{className:"app-chat-flex-col-auto s-color-BlackMiddle"},o.a.createElement(m.o,{position:"right",hover:o.a.createElement(Q.a,{msg:"Count comments"})},Number(t.toFixed(1)).toLocaleString())),o.a.createElement("div",{className:"app-chat-flex-col-auto app-chat-pl s-color-BlackMiddle"},o.a.createElement("span",{className:"app-icon icon-person"})),o.a.createElement("div",{className:"app-chat-flex-col-auto pad s-color-BlackMiddle"},o.a.createElement(m.o,{position:"right",hover:o.a.createElement(Q.a,{msg:"Users online"})},Number(c.toFixed(1)).toLocaleString())),o.a.createElement("div",{className:"flex-col app-chat-px app-position-relative app-chat-mx"},o.a.createElement(He,{className:"items app-overflow app-position-absolute"},s.map(function(e){return o.a.createElement(et,{key:e.id,classNames:"item",timeout:300},o.a.createElement(chat_stats_container_ChatWriterViewItem,{name:e.name,ava:e.ava,id:e.id}))}))))}function chat_stats_container_ChatWriterViewItem(e){var t=e.id,n=e.name,a=e.ava,i=Object(r.useCallback)(function(){return Object(s.q)(t)},[t]);return o.a.createElement("div",{className:"item app-cursor"},o.a.createElement(m.a,{name:n,ava:a,click:i,type:"tiny"}))}ChatStatsView.propTypes={count_comment_all:p.a.number,profile:p.a.object};var tt=Object(c.b)(function mapStateToProps(e){return{count_comment_all:e.chatState.getIn(["chat","count_comment_all"]),profile:e.defaultState.get("profile")}})(ChatStatsView),nt=function ChatStatsCondition(e){return e.view_users_online&&e.count_comment_all>0?o.a.createElement(tt,null):null},rt=Object(c.b)(function mapStateToPropsActive(e){return{count_comment_all:e.chatState.getIn(["chat","count_comment_all"]),view_users_online:e.defaultState.getIn(["site_settings","view_users_online"])}})(nt);function chat_writer_container_slicedToArray(e,t){return function chat_writer_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function chat_writer_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function chat_writer_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ChatWriterView(e){var t=e.profile_id,n=e.focus,a=e.params,i=chat_writer_container_slicedToArray(Object(r.useState)([]),2),c=i[0],u=i[1],l=Object(r.useCallback)(function(e){if(e&&e.writers){var n=e.writers,r=n.map(function(e){return e.id}),o=c.map(function(e){return e.id});u([].concat(c.filter(function(e){return-1!==r.indexOf(e.id)&&e.id!=t})).concat(n.filter(function(e){return-1===o.indexOf(e.id)&&e.id!=t})))}},[c,t]);Object(r.useEffect)(function(){return Object(g.d)(E.d,l),function(){return Object(g.c)(E.d,l)}},[l]);var s=chat_writer_container_slicedToArray(Object(r.useState)(!1),2),f=s[0],p=s[1],d=Object(r.useCallback)(function(){p(!0),Object(ye.i)(a)},[a]),h=Object(r.useCallback)(function(){p(!1),Object(ye.j)(a)},[a]);return Object(r.useEffect)(function(){if(f!=n&&t>0){if(f){var e=setTimeout(h,3e4);return function(){clearTimeout(e),h()}}var r=setTimeout(d,3e3);return function(){return clearTimeout(r)}}},[n,f,d,h,t]),0==c.length?null:o.a.createElement("div",{className:"flex-row app-chat-py s-color-Main"},o.a.createElement("div",{className:"app-chat-flex-col-w45"},o.a.createElement(ot,null)),o.a.createElement("div",{className:"flex-col app-position-relative app-chat-overflow app-chat-mr"},o.a.createElement("div",{className:"app-position-absolute"},c.length>1&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"app-display-inline-block"},Number(c.length.toFixed(1)).toLocaleString()),o.a.createElement("span",{className:"app-display-inline-block"},": ")),c.map(function(e,t){return o.a.createElement(o.a.Fragment,{key:e.id},0!=t&&o.a.createElement("span",null,", "),o.a.createElement(at,{id:e.id,name:e.name}))}))))}chat_stats_container_ChatWriterViewItem.propTypes={onClick:p.a.func,id:p.a.number,name:p.a.string,ava:p.a.string},nt.propTypes={params:p.a.object,view_users_online:p.a.bool,count_comment_all:p.a.number};var ot=function IconWriten(){var e=Object(r.useContext)(B.a).colorMain;return o.a.createElement("svg",{width:"24",height:"10",viewBox:"0 0 60 25"},[0,1,2].map(function(t){return o.a.createElement("circle",{key:t,cx:10+20*t,cy:"10",r:"1",strokeWidth:"0",fill:e},o.a.createElement("animate",{begin:"-"+(1.2-.4*t)+"s",dur:"1.2s",calcMode:"spline",keySplines:".5 0 0 .5;.5 0 0 .5",attributeName:"r",values:"2; 8; 2",repeatCount:"indefinite"}))}))},at=function ChatWriterViewItem(e){var t=Object(r.useCallback)(function(){return Object(s.q)(e.id)},[e.id]);return o.a.createElement("span",{className:"app-display-inline-block app-cursor",onClick:t},e.name)},it=Object(c.b)(function mapStateToProps(e,t){return{params:t.params,profile_id:e.defaultState.getIn(["profile","id"]),focus:e.defaultState.get("focus")}})(ChatWriterView),ct=function ChatWriterCondition(e){return e.view_users_write&&e.count_comment_all>0?o.a.createElement(it,{params:e.params}):null},ut=Object(c.b)(function mapStateToPropsActive(e,t){return{params:t.params,count_comment_all:e.chatState.getIn(["chat","count_comment_all"]),view_users_write:e.defaultState.getIn(["site_settings","view_users_write"])}})(ct);at.propTypes={id:p.a.number,name:p.a.string},ct.propTypes={view_users_write:p.a.bool,count_comment_all:p.a.number,params:p.a.object},ChatWriterView.propTypes={profile_id:p.a.number,focus:p.a.bool,params:p.a.object};var lt=n(27);function ChatTitle(e){var t=e.dispatch,n=e.chat_title,a=e.chat_url,i=e.default_title,c=e.root_id,u=e.showAllChats,l=null!=n?n:i,f=null==c||0==c,p=u||0==f,d=Object(r.useCallback)(function(){return Object(s.b)(a)},[a]),h=Object(r.useCallback)(function(){return Object(s.c)("/menuchat")},[]),m=Object(r.useCallback)(function(){f?Object(s.c)("/",{scroll:!0}):t(function(e,t){var n=t().chatState,r=n.getIn(["chat","site_id"]),o=n.getIn(["chat","hash"]),a=n.getIn(["chat","url"]);Object(s.h)(r,o,a,{scroll:!0})})},[t,f]);return o.a.createElement("div",{className:"flex-row flex-justify-content-between app-chat-py"+(p?"":" app-chat-pl")},p&&o.a.createElement("div",{onClick:m,className:"app-chat-flex-col-w45 app-cursor s-color-Main"},o.a.createElement("span",{className:"app-icon icon-chevron-left"})),o.a.createElement("div",{onClick:d,className:"app-chat-title flex-col app-cursor s-color-Main"},l&&o.a.createElement(ChatTitleText,{title:l,url:a})),o.a.createElement("div",{className:"app-chat-flex-col-w45"},f&&o.a.createElement(lt.a,{className:"app-chat-flex-col-w45 app-cursor",classDefault:"s-color-BlackMiddle",classHover:"s-color-BlackDark",onClick:h},o.a.createElement("span",{className:"app-icon icon-gear"}))))}ChatTitle.propTypes={dispatch:p.a.func,default_title:p.a.string,chat_title:p.a.string,chat_url:p.a.string,root_id:p.a.number,showAllChats:p.a.bool};var st=Object(c.b)(function mapStateToProps(e){return{chat_title:e.chatState.getIn(["chat","title"]),chat_url:e.chatState.getIn(["chat","url"]),root_id:e.chatState.getIn(["chat","root_id"]),default_title:e.chatState.get("default_title")}})(ChatTitle);st.propTypes={};var ft=st;function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pt=function ChatLineTop(){return o.a.createElement("div",{className:"app-chat-line-top s-bg-BlackLight"})},dt=function ChatGroup(e){return o.a.createElement("div",{className:"app-chat-group"},e.children)};function SocketExistsChatUpdateContainer(e){return o.a.createElement(Se.a,null,o.a.createElement(we,{params:e.params,keyChat:e.keyChat,view_top:e.view_top,comment_show_format:e.comment_show_format}),o.a.createElement(De,{params:e.params}))}function CommentsPageEditorTop(e){var t=e.params,n=e.keyChat,r=e.showAllChats,a=e.comment_show_format,i=e.comment_show_sort,c=e.includeHeaders;return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,c&&o.a.createElement(X,null),o.a.createElement(Ee,null,o.a.createElement(dt,null,o.a.createElement(ft,{showAllChats:r}),o.a.createElement(rt,null),o.a.createElement(Le,null),o.a.createElement(Oe,null,o.a.createElement(ve,{keyChat:n,params:t,view_top:!0}),o.a.createElement(ut,{params:t}))),o.a.createElement(Pe.a,{defaultValue:!1},o.a.createElement(J.a,{position:"top",faik_space:!1},o.a.createElement(SocketExistsChatUpdateContainer,{params:t,keyChat:n,view_top:!0,comment_show_format:a}))))),o.a.createElement(ae.c,null,o.a.createElement(Pe.a,{defaultValue:!0},o.a.createElement(Ee,null,o.a.createElement(Te,null,o.a.createElement(SocketExistsChatUpdateContainer,{params:t,keyChat:n,view_top:!0,comment_show_format:a})))),o.a.createElement(Ne,{params:t,keyChat:n,comment_show_sort:i,comment_show_format:a}),o.a.createElement(pt,null)),o.a.createElement(ae.g,null,c&&o.a.createElement(ee.a,{banner:re.a}),o.a.createElement(pt,null)))}function CommentsPageEditorBottom(e){var t=e.params,n=e.keyChat,r=e.showAllChats,a=e.comment_show_format,i=e.comment_show_sort,c=e.includeHeaders;return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,c&&o.a.createElement(X,null),o.a.createElement(Ee,null,o.a.createElement(dt,null,o.a.createElement(ft,{showAllChats:r}),o.a.createElement(rt,null),o.a.createElement(Le,null)))),o.a.createElement(ae.c,null,o.a.createElement(Ne,{params:t,keyChat:n,comment_show_sort:i,comment_show_format:a}),o.a.createElement(Pe.a,{defaultValue:!0},o.a.createElement(Ee,null,o.a.createElement(Ce.a,null,o.a.createElement(SocketExistsChatUpdateContainer,{params:t,keyChat:n,view_top:!1,comment_show_format:a})))),o.a.createElement(pt,null)),o.a.createElement(ae.g,null,o.a.createElement(Ee,null,o.a.createElement(Pe.a,{defaultValue:!1},o.a.createElement(J.a,{position:"bottom",faik_space:!1},o.a.createElement(SocketExistsChatUpdateContainer,{params:t,keyChat:n,view_top:!1,comment_show_format:a})))),o.a.createElement(dt,null,o.a.createElement(Ee,null,o.a.createElement(Oe,null,o.a.createElement(ut,{params:t}),o.a.createElement(ve,{keyChat:n,params:t,view_top:!1})))),c&&o.a.createElement(ee.a,{banner:re.a}),o.a.createElement(pt,null)))}function CommentsPageContainer(e){var t=e.params,n=e.comment_show_format,r=e.comment_show_sort,a=t.site_id,i=t.hash,c=t.url,u=t.root_id,l=n==ie.f?Object(ce.j)(a,i,c,u):Object(ce.i)(a,i,c);return r==ie.n?o.a.createElement(CommentsPageEditorBottom,_extends({},e,{keyChat:l})):o.a.createElement(CommentsPageEditorTop,_extends({},e,{keyChat:l}))}dt.propTypes={children:d.a};var ht=Object(c.b)(function mapStateToProps(e,t){return{comment_show_format:e.defaultState.get("comment_show_format"),comment_show_sort:e.defaultState.get("comment_show_sort"),showAllChats:t.showAllChats,params:t.params}})(CommentsPageContainer);function ChatPageBlock(e){return o.a.createElement(ht,{includeHeaders:!0,showAllChats:!e.hide_all_chats,params:e.match.params})}CommentsPageEditorTop.propTypes={includeHeaders:p.a.bool,params:p.a.object,keyChat:p.a.string,showAllChats:p.a.bool,comment_show_format:p.a.number,comment_show_sort:p.a.number},CommentsPageEditorBottom.propTypes={includeHeaders:p.a.bool,params:p.a.object,keyChat:p.a.string,showAllChats:p.a.bool,comment_show_format:p.a.number,comment_show_sort:p.a.number},CommentsPageContainer.propTypes={params:p.a.object,comment_show_sort:p.a.number,comment_show_format:p.a.number,includeHeaders:p.a.bool},SocketExistsChatUpdateContainer.propTypes={params:p.a.object,keyChat:p.a.string,view_top:p.a.bool,comment_show_format:p.a.number},ChatPageBlock.propTypes={match:p.a.object,hide_all_chats:p.a.bool};var mt=Object(c.b)(function mapStateToProps(e,t){return{hide_all_chats:e.defaultState.getIn(["hide_all_chats"]),match:t.match}})(ChatPageBlock),_t=n(113),yt=n(99),bt=n(149),vt=n(25);function rating_main_view_slicedToArray(e,t){return function rating_main_view_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function rating_main_view_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function rating_main_view_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function rating_main_view_extends(){return(rating_main_view_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function VoiceGRoupView(e){var t=e.profile_id;return o.a.createElement("div",{className:"ar-voices"},o.a.createElement("div",{className:"ar-title s-color-BlackDark"},e.title),o.a.createElement("div",{className:"ar-items"},e.items.sort(function(e,n){return e.id==t?-1:n.id==t?1:0}).map(function(e){return o.a.createElement(m.b,rating_main_view_extends({key:e.id},e))})))}function RatingMainView(e){var t=rating_main_view_slicedToArray(Object(r.useState)(!1),2),n=t[0],a=t[1],i=rating_main_view_slicedToArray(Object(r.useState)(_),2),c=i[0],u=i[1],l=e.data,s=e.profile_id,f=e.onUpdate,p=l.raiting,d=l.good,h=l.bad,m=l.comment,_=p.user_val,y=p.val,b=Object(r.useCallback)(function(){_<=0&&(f(!0),u(1),a(!0))},[f,_]),v=Object(r.useCallback)(function(){_>=0&&(f(!1),u(-1),a(!0))},[f,_]);_==c&&n&&a(!1),Object(r.useEffect)(function(){if(n){var e=setTimeout(function(){return a(!1)},3e3);return function(){return clearTimeout(e)}}},[n]);return o.a.createElement("div",{className:"app-rating"},o.a.createElement("div",{className:"ar-change"},o.a.createElement("span",{className:"ar-val "+(y>0?"s-color-Main":"s-color-MainMiddle")},n?o.a.createElement(bt.a,{size:24}):(0!=y?y>0?"+":"−":"")+Object(vt.i)(Math.abs(y))),s!=m.user.id&&o.a.createElement("div",{className:"ar-block s-border-MainMiddle"},o.a.createElement(lt.a,{className:"ar-item",classDefault:_>0?"s-color-Background s-bg-MainMiddle":"s-color-Main s-bg-Background",classHover:"s-color-Main s-bg-MainMiddle",onClick:b},"+"),o.a.createElement("div",{className:"ar-border s-bg-MainMiddle"}),o.a.createElement(lt.a,{className:"ar-item",classDefault:_<0?"s-color-Background s-bg-MainMiddle":"s-color-Main s-bg-Background",classHover:"s-color-Main s-bg-MainMiddle",onClick:v},"−"))),o.a.createElement(VoiceGRoupView,{items:d.items,profile_id:s,title:o.a.createElement(Q.c,{msg:"{{count}} good grades",func:"pluralzero",count:d.count})}),o.a.createElement(VoiceGRoupView,{items:h.items,profile_id:s,title:o.a.createElement(Q.c,{msg:"{{count}} bad grades",func:"pluralzero",count:h.count})}))}function RatingContainer(e){var t=e.comment_id,n=e.dispatch;Object(r.useEffect)(function(){t!=e.raiting_id&&Object(yt.a)(),Object(_t.a)(t,e.token)},[t,e.raiting_id,e.token]);var a=Object(r.useCallback)(function(e){return n(Object(_t.b)(t,e)).then(function(e){return Object(yt.b)(e),e}).catch(function(e){return Object(w.b)(e.message)})},[t,n]);return e.data?o.a.createElement(RatingMainView,{onUpdate:a,data:e.data.toJSON(),profile_id:e.profile_id}):o.a.createElement(m.k,null)}VoiceGRoupView.propTypes={title:d.a,profile_id:p.a.number,items:p.a.arrayOf(p.a.object)},RatingMainView.propTypes={data:p.a.object,profile_id:p.a.number,onUpdate:p.a.func},RatingContainer.propTypes={dispatch:p.a.func,comment_id:p.a.number,raiting_id:p.a.number,token:p.a.string,data:p.a.object,profile_id:p.a.number};var gt=Object(c.b)(function mapStateToProps(e,t){var n=e.raitingState.getIn(["data"]);return{token:e.defaultState.get("token"),comment_id:parseInt(t.comment_id),raiting_id:e.raitingState.getIn(["raiting","id"]),data:n,profile_id:e.defaultState.getIn(["profile","id"])}})(RatingContainer),wt=function ReaitingPages(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(m.f,{left:s.f,right:s.k},o.a.createElement(Q.a,{msg:"Grades"}))),o.a.createElement(ae.c,null,o.a.createElement(ne.a,null,o.a.createElement(gt,{comment_id:e.match.params.comment_id}))))},Et=wt;wt.propTypes={match:p.a.shape({params:p.a.shape({comment_id:p.a.string})})};var St=function ReloadPages(){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(m.q,{click:s.e})))};function ChatMainEnptyView(){return o.a.createElement("div",{className:"app-chat-main"},o.a.createElement(Q.a,{msg:"Choose a chat and start chatting"}))}function BrendWhiteView(){return o.a.createElement("div",{className:"app-brend-default app-brend-themes-white app-cursor",onClick:Z.b.bind(null,"brend_white_view")})}var Ot=function MainChatPage(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(Y,null)),o.a.createElement(ae.e,null,o.a.createElement(ae.d,null,o.a.createElement(he,{support_select:!0})),o.a.createElement(ae.f,null,"/"==e.location.pathname?o.a.createElement(ae.a,null,o.a.createElement(ae.c,null,o.a.createElement(ChatMainEnptyView,null)),o.a.createElement(ae.g,null,o.a.createElement(oe.a,null,o.a.createElement(BrendWhiteView,null)))):o.a.createElement(ht,{includeHeaders:!1,showAllChats:!1,params:e.match.params}))),o.a.createElement(ae.g,null,o.a.createElement(ee.a,{banner:re.a})))},Ct=Ot;function HeadAuthView(e){return o.a.createElement("div",{className:"app-header s-border-BlackLight s-bg-Background"},o.a.createElement(m.p,{click:s.l,value:e.countEvents}),e.children,o.a.createElement(m.e,null,e.title))}function head_overflow_view_typeof(e){return(head_overflow_view_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function head_overflow_view_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function head_overflow_view_possibleConstructorReturn(e,t){return!t||"object"!==head_overflow_view_typeof(t)&&"function"!=typeof t?function head_overflow_view_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function head_overflow_view_getPrototypeOf(e){return(head_overflow_view_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function head_overflow_view_setPrototypeOf(e,t){return(head_overflow_view_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}Ot.propTypes={match:p.a.object,location:p.a.shape({pathname:p.a.string})},HeadAuthView.propTypes={countEvents:p.a.number,children:d.a,title:d.a};var kt=function(e){function HeadOverflowView(){return function head_overflow_view_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HeadOverflowView),head_overflow_view_possibleConstructorReturn(this,head_overflow_view_getPrototypeOf(HeadOverflowView).apply(this,arguments))}return function head_overflow_view_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&head_overflow_view_setPrototypeOf(e,t)}(HeadOverflowView,o.a.Component),function head_overflow_view_createClass(e,t,n){return t&&head_overflow_view_defineProperties(e.prototype,t),n&&head_overflow_view_defineProperties(e,n),e}(HeadOverflowView,[{key:"render",value:function render(){return o.a.createElement("div",{className:"app-header-overflow",onClick:this.props.click},this.props.children)}}]),HeadOverflowView}();function HeadAuthAvaView(e){return o.a.createElement("div",{className:"avatar"},o.a.createElement(m.a,{online:!0,name:e.name,ava:e.ava}))}function head_vertical_view_extends(){return(head_vertical_view_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function HeadVerticalView(e){var t=e.notification,n=e.children,a=e.ava,i=e.align,c=Object(r.useContext)(B.a).colorMain;return o.a.createElement("div",{className:"app-header-vertical"},o.a.createElement(ae.a,null,null!=t&&o.a.createElement(ae.h,null,o.a.createElement("div",{className:"notification s-color-BlackMiddle s-bg-Background"},o.a.createElement("div",{className:"icon icon-bell"}),o.a.createElement("div",{className:"count"},o.a.createElement(m.n,{color:t?"red":"grey",value:t})))),o.a.createElement(ae.c,null,o.a.createElement("div",{className:"title",style:{color:c,textAlign:i||"center"}},o.a.createElement("div",{className:"title-text"},n))),a&&o.a.createElement(ae.g,null,o.a.createElement("div",{className:"button"},o.a.createElement(m.a,head_vertical_view_extends({},a,{online:!0}))))))}function HeadContainerView(e){var t=e.profile,n=e.answer_count,r=e.count_comment,a=e.view_position,i=e.render_in_content,c=e.mobile,u=o.a.createElement(Q.a,{msg:"To discuss"}),l=r?o.a.createElement(Q.c,{msg:"{{count}} comments",func:"pluralzero",count:r}):u,s=!c&&!i&&a>=6;return t?s?o.a.createElement(HeadVerticalView,{align:"left",ava:t.toJSON(),notification:n},t.get("name")):o.a.createElement(HeadAuthView,{countEvents:n,title:t.get("name")},o.a.createElement(HeadAuthAvaView,{ava:t.get("ava"),name:t.get("name")})):s?o.a.createElement(HeadVerticalView,null,l):o.a.createElement(m.f,null,l)}function HeadContainer(e){var t=e.site_id,n=e.site_hash,a=e.site_url;return Object(r.useEffect)(function(){Object(ye.b)(t,n,a)},[n,t,a]),o.a.createElement(kt,{click:s.p},o.a.createElement(HeadContainerView,e))}kt.propTypes={click:p.a.func,children:d.a},HeadAuthAvaView.propTypes={name:p.a.string,ava:p.a.string},HeadVerticalView.propTypes={notification:p.a.number,children:d.a,ava:p.a.object,align:p.a.string},HeadContainer.propTypes={site_id:p.a.number,site_hash:p.a.string,site_url:p.a.string,profile:p.a.object,count_comment:p.a.number,answer_count:p.a.number,white_label:p.a.bool,view_position:p.a.number,render_in_content:p.a.bool,mobile:p.a.bool};var jt=Object(c.b)(function mapStateToProps(e){var t=e.defaultState,n=e.chatState;return{site_id:t.get("site_id"),site_hash:t.get("site_hash"),site_url:t.get("site_url"),profile:t.get("profile"),mobile:t.get("mobile"),render_in_content:t.get("render_in_content"),answer_count:t.getIn(["stats","answer_count"]),count_comment:n.getIn(["chat","count_comment_all"]),view_position:t.getIn(["site_settings","view_position"])}})(HeadContainer),Tt=n(197),Pt=n.n(Tt);function HeadCommentView(e){var t=e.user,n=e.text_template,r=e.attaches_text,a=e.render_in_content,i=e.count_comment;return o.a.createElement("div",{className:"action-plagin s-color-BlackDark","data-action":"open"},o.a.createElement("div",{className:"app-comment"},o.a.createElement("div",{className:"desc-p-b position-left"},o.a.createElement(m.a,{online:t.online,name:t.name,ava:t.ava}),o.a.createElement("div",{className:"desc"},o.a.createElement("div",{className:"desc-r s-bg-MainLight"},o.a.createElement("div",{className:"desc-p desc-p-no-attache"},o.a.createElement("div",{className:"desc-pos"},o.a.createElement("div",{className:"close action-plagin","data-action":"close"}),o.a.createElement("div",{className:"author s-color-Main"},o.a.createElement("span",{className:"a"},t.name)),n&&o.a.createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:n}}),r&&o.a.createElement("div",{className:"text"},r))))))),a&&o.a.createElement("div",{className:"app-comment-all a"},o.a.createElement(Q.c,{msg:"More {{count}} comments",func:"pluralzero",count:i})))}function LocaleProvider(e){var t=Object(r.useContext)(H.a);return o.a.createElement(H.a.Provider,{value:t},e.children)}HeadCommentView.propTypes={user:p.a.shape({id:p.a.number,name:p.a.string,nick:p.a.string,ava:p.a.string,online:p.a.bool}),text_template:p.a.string,attaches_text:p.a.string,count_comment:p.a.number,render_in_content:p.a.bool},LocaleProvider.propTypes={children:d.a};var xt=p.a.shape({colorBlackDark:p.a.string,colorBlackMiddle:p.a.string,colorBlackLight:p.a.string,colorBlack:p.a.string,colorMainDark:p.a.string,colorMainMiddleDark:p.a.string,colorMain:p.a.string,colorMainMiddle:p.a.string,colorMainLight:p.a.string,colorAlert:p.a.string,colorBackground:p.a.string}),It=function createStyle(e,t){return[".s-color-".concat(e,"{color:").concat(t,"}"),".s-bg-".concat(e,"{background:").concat(t,"}"),".s-border-".concat(e,"{border-color:").concat(t,"}")].join("\n")};function ThemeVarsView(e){var t=e.context,n=Object.keys(t).filter(function(e){return 0==e.indexOf("color")}).map(function(e){return e.substr(5)}).map(function(e){return It(e,t["color"+e])}).join("\n\n");return o.a.createElement("style",{dangerouslySetInnerHTML:{__html:n}})}function ThemeLinkView(e){var t=e.context.colorMain,n="a,.a{color:".concat(t,"} a:hover,.a:hover{box-shadow: inset 0 -0.05em ").concat(t,"}");return o.a.createElement("style",{dangerouslySetInnerHTML:{__html:n}})}function ThemeTextareaView(e){var t=e.context.colorBlackLight,n=".textarea:placeholder,\n.textarea:-ms-input-placeholder,\n.textarea:-ms-input-placeholder {\n\tcolor: ".concat(t,"\n}");return o.a.createElement("style",{dangerouslySetInnerHTML:{__html:n}})}function ThemeScrollView(e){var t=e.context,n=t.colorBlackDark,r=t.colorBlackMiddle,a=t.colorBlackLight;return o.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n.app-scroll-style::-webkit-scrollbar-track {background-color: ".concat(a,";}\n.app-scroll-style::-webkit-scrollbar-thumb {background-color: ").concat(r,";}\n.app-scroll-style::-webkit-scrollbar-thumb:hover {background-color: ").concat(n,";}\n..app-scroll-style{scrollbar-color: ").concat(a," ").concat(r,";}\n")}})}ThemeVarsView.propTypes={context:xt},ThemeLinkView.propTypes={context:xt},ThemeTextareaView.propTypes={context:xt},ThemeScrollView.propTypes={context:xt};var Mt=Object(r.memo)(function ThemeViewMemo(e){var t=e.context;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ThemeVarsView,{context:t}),o.a.createElement(ThemeLinkView,{context:t}),o.a.createElement(ThemeTextareaView,{context:t}),o.a.createElement(ThemeScrollView,{context:t}))});function ThemeView(){var e=Object(r.useContext)(B.a);return o.a.createElement(Mt,{context:e})}function head_popup_view_typeof(e){return(head_popup_view_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function head_popup_view_extends(){return(head_popup_view_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function head_popup_view_getPrototypeOf(e){return(head_popup_view_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function head_popup_view_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function head_popup_view_setPrototypeOf(e,t){return(head_popup_view_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function head_popup_view_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Mt.propTypes={context:xt};var At=function(e){function HeadPopupView(){var e,t;!function head_popup_view_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HeadPopupView);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=function head_popup_view_possibleConstructorReturn(e,t){return!t||"object"!==head_popup_view_typeof(t)&&"function"!=typeof t?head_popup_view_assertThisInitialized(e):t}(this,(e=head_popup_view_getPrototypeOf(HeadPopupView)).call.apply(e,[this].concat(r))),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"name","PopupPlagin"),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"milisecond",1e3),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"state",{init:!1,view:!1,show:!1,complite:!1}),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"pmPlagin",function(e){if(e.name==t.name)switch(e.data.action){case"init":t.setState({init:!0});break;case"close":t.onCloseBegin(),t.props.onClose();break;case"open":t.onCloseComplite(),t.props.onOpen()}}),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"onOpenBegin",function(){t.setState({view:!0,show:!0}),clearTimeout(t.timer),t.timer=setTimeout(t.onCloseBegin,15*t.milisecond)}),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"onCloseBegin",function(){t.setState({show:!1}),clearTimeout(t.timer),t.timer=setTimeout(t.onCloseComplite,1e3)}),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"onCloseComplite",function(){clearTimeout(t.timer),t.setState({show:!1,view:!1})}),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"componentDidMount",function(){Object(O.b)(S.o,t.pmPlagin)}),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"componentDidUpdate",function(){if(t.state.init&&0==t.state.complite&&null!=t.props.comment_popup){var e=Pt.a.renderToStaticMarkup(o.a.createElement(B.a.Provider,{value:t.context},o.a.createElement(LocaleProvider,null,o.a.createElement(HeadCommentView,head_popup_view_extends({},t.props.comment_popup.toJSON(),{render_in_content:t.props.render_in_content,count_comment:t.props.count_comment})),o.a.createElement(ThemeView,null))));t.sendPost({render:e}),t.setState({complite:!0}),null!=t.props.show_popup_time&&(t.timer=setTimeout(t.onOpenBegin,t.props.show_popup_time*t.milisecond))}}),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"componentWillUnmount",function(){clearTimeout(t.timer),Object(O.a)(S.o,t.pmPlagin),t.sendPost({view:!1,show:!1})}),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"render",function(){return t.sendPost({view:t.state.view}),t.sendPost({show:t.state.show}),null}),head_popup_view_defineProperty(head_popup_view_assertThisInitialized(t),"sendPost",function(e){Object(O.c)(S.o,{name:t.name,data:e})}),t}return function head_popup_view_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&head_popup_view_setPrototypeOf(e,t)}(HeadPopupView,o.a.Component),HeadPopupView}();function head_popup_container_typeof(e){return(head_popup_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function head_popup_container_getPrototypeOf(e){return(head_popup_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function head_popup_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function head_popup_container_setPrototypeOf(e,t){return(head_popup_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function head_popup_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}At.contextType=B.a,At.propTypes={onClose:p.a.func,onOpen:p.a.func,render_in_content:p.a.bool,show_popup_time:p.a.number,count_comment:p.a.number,comment_popup:p.a.object};var Nt=function(e){function HeadPopupContainer(){var e,t;!function head_popup_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HeadPopupContainer);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=function head_popup_container_possibleConstructorReturn(e,t){return!t||"object"!==head_popup_container_typeof(t)&&"function"!=typeof t?head_popup_container_assertThisInitialized(e):t}(this,(e=head_popup_container_getPrototypeOf(HeadPopupContainer)).call.apply(e,[this].concat(r))),head_popup_container_defineProperty(head_popup_container_assertThisInitialized(t),"onOpen",function(){Object(O.c)(S.d),Object(O.c)(S.i);var e=t.props.comment_popup.get("id");e&&Object(L.j)(e),l.h||Object(ce.h)(-1)}),head_popup_container_defineProperty(head_popup_container_assertThisInitialized(t),"onClose",function(){t.props.vidjet_sso||Object(h.i)(h.b)}),head_popup_container_defineProperty(head_popup_container_assertThisInitialized(t),"render",function(){return o.a.createElement(At,{comment_popup:t.props.comment_popup,render_in_content:t.props.render_in_content,count_comment:t.props.count_comment,show_popup_time:t.props.show_popup_time,onOpen:t.onOpen,onClose:t.onClose})}),t}return function head_popup_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&head_popup_container_setPrototypeOf(e,t)}(HeadPopupContainer,o.a.Component),HeadPopupContainer}();Nt.propTypes={comment_popup:p.a.object,render_in_content:p.a.bool,count_comment:p.a.number,vidjet_sso:p.a.bool,show_popup_time:p.a.number};var Rt=Object(c.b)(function mapStateToProps(e){var t=e.chatState,n=e.defaultState,r=n.get("mobile")?n.getIn(["site_settings","show_popup_mobile"]):n.getIn(["site_settings","show_popup_desktop"]);return{count_comment:t.getIn(["chat","count_comment_all"]),comment_popup:t.get("comment_popup"),show_popup_time:r,render_in_content:n.get("render_in_content"),vidjet_sso:n.get("vidjet_sso")}})(Nt),Lt=n(152),Dt=o.a.createContext({components:{},addComponent:function addComponent(){}});function asyncComponent_slicedToArray(e,t){return function asyncComponent_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function asyncComponent_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function asyncComponent_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function AsyncBlock(e){var t=e.component,n=e.reducer,a=e.modules,i=e.storeName,c=asyncComponent_slicedToArray(Object(r.useState)(!1),2),l=c[0],s=c[1],f=Object(r.useContext)(Dt),p=f.components,d=f.addComponent,h=Object(r.useCallback)(function(e){try{n&&e[1]&&e[1].default&&u.a.replaceReducer(Object(Lt.a)(i,e[1].default)),d(function asyncComponent_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i,e[0].default))}catch(e){s(!0)}},[d,n,i]),_=Object(r.useCallback)(function(){if(null==p[i]){var e=null!=a?a.apply():[];null!=n&&e.unshift(n.apply()),null!=t?e.unshift(t.apply()):console.error("AsyncComponent Error: component == null: "+i),Promise.all(e).then(h).catch(function(){return s(!0)})}},[t,p,a,h,n,i]);if(Object(r.useEffect)(function(){var e=setTimeout(function(){return _()},0);return function(){return clearTimeout(e)}},[_]),null!=p[i]){var y=p[i];return o.a.createElement(y,e.props)}return l?o.a.createElement(m.q,{click:_}):o.a.createElement(m.k,null)}AsyncBlock.propTypes={name:p.a.string.isRequired,props:p.a.object,component:p.a.func.isRequired,modules:p.a.func,reducer:p.a.func,store:p.a.bool,storeName:p.a.string};var Ft=Object(c.b)(function mapStateToProps(e,t){return{name:t.name,component:t.component,props:t.props,reducer:t.reducer,modules:t.modules,storeName:t.name+"State"}})(AsyncBlock),Vt="smscheck",Ut="auth",Bt="menu",zt="message",qt="useredit",Ht="trialpopup",Wt=function TourneyLoad(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(Ft,{name:"tourney",props:e,component:function component(){return n.e(19).then(n.bind(null,253))},reducer:function reducer(){return n.e(21).then(n.bind(null,240))},modules:function modules(){return[n.e(20).then(n.t.bind(null,241,7))]}})))};function AuthLoad(e){return o.a.createElement(Ft,{name:Ut,props:e,component:function component(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,254))}})}var Gt=function AwardLoad(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(Ft,{name:"award",props:e,component:function component(){return n.e(8).then(n.bind(null,252))},reducer:function reducer(){return n.e(9).then(n.bind(null,242))},modules:function modules(){return[n.e(7).then(n.t.bind(null,243,7))]}})))};function MenuLoad(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(Ft,{name:Bt,props:e,component:function component(){return n.e(16).then(n.bind(null,257))}})))}var Kt=function MenuChatLoad(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(Ft,{name:"menu_chat",props:e,component:function component(){return n.e(5).then(n.bind(null,244))}})))},$t=n(145);function goUserEdit(){Object(s.c)("/user/edit")}var Jt=n(115),Qt=n(186);var Yt=n(150),Xt=n(187);function user_profile_view_extends(){return(user_profile_view_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function TemplateRoleUserProfileView(e){return o.a.createElement(o.a.Fragment,null,e.admin&&o.a.createElement(Yt.a,null)," ",o.a.createElement("span",{className:"s-color-BlackMiddle"},e.children))}function RoleUserProfileView(e){switch(e.role){case"Editor":return o.a.createElement(TemplateRoleUserProfileView,{admin:!1},o.a.createElement(Q.a,{msg:"Editor"}));case"Moderator":return o.a.createElement(TemplateRoleUserProfileView,{admin:!0},o.a.createElement(Q.a,{msg:"Moderator"}));case"Admin":return o.a.createElement(TemplateRoleUserProfileView,{admin:!0},o.a.createElement(Q.a,{msg:"Administrator"}));default:return""}}function AwardUserProfileView(e){var t=e.id,n=e.user_id,a=e.image_original,i=Object(r.useCallback)(function(){return Object($t.c)(n,t)},[t,n]);return o.a.createElement("div",{className:"app-profile_awards-item",onClick:i},o.a.createElement("div",{className:"app-profile_awards-item_pad"},o.a.createElement(m.h,{src:a,width:100,height:100})))}function SocialItemUserProfileView(e){var t=e.url,n=e.type,a=e.name,i=Object(r.useCallback)(function(){t?Object(Z.a)(t):Object(w.b)(W.a.getText("No profile link"))},[t]),c=Object(r.useContext)(B.a),u=c.colorMain,l=c.colorBackground;return o.a.createElement("div",{className:"app-cursor",onClick:i},o.a.createElement("span",{className:"app-profile_social-icon"},o.a.createElement(Xt.a,{size:22,link:n,colorMain:u,colorBackground:l})),o.a.createElement("span",{className:"a app-word-break-break-all"},a))}function SocialUserProfileView(e){return e.social&&o.a.createElement("div",{className:"m30"},o.a.createElement("div",{className:"bold"},o.a.createElement(Q.a,{msg:"Contacts"}),":"),o.a.createElement("div",{className:"mt10"},e.social.map(function(e){return o.a.createElement(SocialItemUserProfileView,user_profile_view_extends({key:e.type},e))})))}function StatusUserProfileView(e){return e.online?"Online":o.a.createElement("span",{className:"s-color-BlackMiddle"},o.a.createElement(Q.a,{msg:"Last visit"})," ",o.a.createElement(Q.b,{datetime:e.date_last_visit,format:le.e}))}function DetailsUserProfileView(e){var t=e.profile_my,n=e.count_raiting,a=e.position_rating,i=e.count_comment,c=e.date_registration,u=e.social,l=e.about,f=e.awards_count_user,p=e.awards_count_all,d=e.awards_view,h=e.user_id,m=e.view_awards_disable,_=e.view_rating_disable,b=Object(r.useCallback)(function(){Object($t.a)(h)},[h]),v=Object(r.useCallback)(function(){!function goAppendageTourney(e){Object(s.c)("/tourney/"+e)}(h)},[h]),g=Object(r.useCallback)(function(){y.a.ScrollToElement(document.getElementsByClassName("app-comments")[0])},[]),w=Object(r.useCallback)(function(){Object(s.o)(h)},[h]);return o.a.createElement("div",{className:"app-profile_details"},o.a.createElement("div",{className:"mt10 pt15"},o.a.createElement("div",{className:"m20"},o.a.createElement(Jt.a,{click:w},t?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"app-icon icon-star"})," ",o.a.createElement(Q.a,{msg:"Favorites"})):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"app-icon icon-envelope"})," ",o.a.createElement(Q.a,{msg:"Write"})))),o.a.createElement("div",{className:"m20 app-center"},t&&o.a.createElement(Qt.a,{click:goUserEdit},o.a.createElement(Q.a,{msg:"Edit profile"})))),o.a.createElement("div",{className:"m30"},0==_&&o.a.createElement("div",null,o.a.createElement(Q.a,{msg:"Overall rating"}),":"," ",o.a.createElement("span",{className:"a",onClick:v},Object(vt.i)(n))),0==_&&o.a.createElement("div",null,o.a.createElement(Q.a,{msg:"Place by rating"}),":"," ",o.a.createElement("span",{className:"a",onClick:v},Object(vt.i)(a))),o.a.createElement("div",null,o.a.createElement(Q.a,{msg:"Number of comments"}),":"," ",o.a.createElement("span",{className:"a",onClick:g},Object(vt.i)(i))),o.a.createElement("div",null,o.a.createElement(Q.a,{msg:"Registration date"}),":"," ",o.a.createElement("span",{className:"s-color-BlackMiddle"},o.a.createElement(Q.b,{datetime:c,format:le.d})))),o.a.createElement(SocialUserProfileView,{social:u}),l&&o.a.createElement("div",{className:"m30"},o.a.createElement("span",{className:"bold"},o.a.createElement(Q.a,{msg:"About"}),":"," "),o.a.createElement("span",{className:"s-color-BlackMiddle app-word-break-break-word"},l)),0==m&&f>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mt10"},o.a.createElement("span",{className:"a",onClick:b},o.a.createElement(Q.a,{msg:"Awards"})," ",o.a.createElement(Q.a,{msg:"({{count}} out of {{all}})",count:f,all:p}))),o.a.createElement("div",{className:"mt10 app-profile_awards"},d.map(function(e){return o.a.createElement(AwardUserProfileView,user_profile_view_extends({key:e.id},e,{user_id:h}))}))))}function UserProfileView(e){var t=e.user,n=e.user_details,r=e.profile_my,a=e.height_auto,i=e.view_awards_disable,c=e.view_rating_disable;return o.a.createElement("div",{className:"app-profile s-border-BlackLight"},o.a.createElement("div",{className:"fix-width"},o.a.createElement("div",{className:"app-profile_header"},o.a.createElement("div",{className:"app-profile_header-logo"},o.a.createElement(m.a,{online:t.online,name:t.name,ava:t.ava,type:"medium"})),o.a.createElement("div",{className:"app-profile_header-text"},o.a.createElement("div",{className:"bold app-text-line"},t.name),o.a.createElement("div",{className:"app-text-line"},"@",t.nick," ",o.a.createElement("span",{className:"s-color-BlackMiddle"},"user id")),o.a.createElement("div",{className:"app-text-line"},n&&o.a.createElement(RoleUserProfileView,{role:n.role})),n&&o.a.createElement("div",{className:"app-text-line"},o.a.createElement(StatusUserProfileView,{online:t.online,date_last_visit:n.date_last_visit})))),n&&o.a.createElement(DetailsUserProfileView,user_profile_view_extends({},n,{view_awards_disable:i,view_rating_disable:c,profile_my:r,user_id:t.id,height_auto:a}))))}TemplateRoleUserProfileView.propTypes={children:d.a,admin:p.a.bool},AwardUserProfileView.propTypes={id:p.a.number,user_id:p.a.number,image_original:p.a.string},SocialItemUserProfileView.propTypes={url:p.a.string,type:p.a.string,name:p.a.string},DetailsUserProfileView.propTypes={user_id:p.a.number,profile_my:p.a.bool,count_raiting:p.a.number,count_comment:p.a.number,social:p.a.arrayOf(p.a.object),awards_count_all:p.a.number,about:p.a.string,awards_count_user:p.a.number,awards_view:p.a.arrayOf(p.a.object),height_auto:p.a.bool,position_rating:p.a.number,date_registration:p.a.string,view_awards_disable:p.a.bool,view_rating_disable:p.a.bool},UserProfileView.propTypes={user:p.a.object,user_details:p.a.object,social:p.a.object,profile_my:p.a.bool,height_auto:p.a.bool,view_awards_disable:p.a.bool,view_rating_disable:p.a.bool};var Zt=n(146),en=n(151);function ChatItemTitleView(e){var t=e.click,n=e.title,a=e.url,i=e.id,c=Object(r.useCallback)(function(){return t(i)},[t,i]);return o.a.createElement("div",{className:"title"},o.a.createElement("span",{className:"a",onClick:c},o.a.createElement(ChatTitleText,{title:n,url:a})))}ChatItemTitleView.propTypes={id:p.a.number,url:p.a.string,title:p.a.string,click:p.a.func};var tn=function onAnswerCreateDispatch(e,t){return function(n,r){var o=e.filter(function(e){return e.id==t})[0];if(null!=o){var a=o.site_id,i=o.hash,c=o.url,u=o.answer_comment_root_id;if(Object(L.j)(t),n(Object(s.i)(a,i,c,u)),Object(ce.b)(o),r().defaultState.get("height_auto")){if(!l.h){var f=r().defaultState.get("comment_show_sort")==ie.m;n(Object(ye.e)(f))}Object(ce.h)(-1)}else Object(ce.h)(-1)}}};function UserProfileCommentsView(e){var t=e.dispatch,n=e.comments,a=e.timeFormat,i=e.profileId,c=e.onUpdateComment,u=Object(r.useCallback)(function(e){var t=n.filter(function(t){return t.id==e})[0];null!=t&&Object(s.h)(t.site_id,t.hash,t.url)},[n]),l=Object(r.useCallback)(function(e,r){return t(Object(_t.b)(e,r)).then(function(t){var r=n.filter(function(t){return t.id==e})[0];return r&&(r.raiting=t.raiting,c(n)),t}).catch(function(e){return Object(w.b)(e.message)})},[n,t,c]),f=Object(r.useCallback)(function(e){t(tn(n,e))},[n,t]);return o.a.createElement("div",{className:"app-comments"},n.map(function(e){return o.a.createElement("div",{key:e.id,className:"app-comment",id:"comment"+e.id},o.a.createElement(ChatItemTitleView,{title:e.title,url:e.url,id:e.id,click:u}),o.a.createElement(en.a,{dispatch:t,comment:e,timeFormat:a,profile_id:i,onAnswerCreate:f,onRaitingUpdate:l,isShowBottom:!0}))}))}function user_profile_container_slicedToArray(e,t){return function user_profile_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function user_profile_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function user_profile_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function UserProfileBlock(e){var t=e.dispatch,n=e.user_id,a=e.isModerator,i=user_profile_container_slicedToArray(Object(r.useState)(ie.h),2),c=i[0],u=i[1],l=user_profile_container_slicedToArray(Object(r.useState)(null),2),s=l[0],f=l[1],p=Object(r.useCallback)(function(e){return f(Object.assign({},s,{comments:e}))},[s]),d=Object(r.useCallback)(function(){u(ie.h),t(Object(Zt.b)(n)).then(function(e){u(ie.o),f(e)}).catch(function(){u(ie.b)})},[t,n]);if(Object(r.useEffect)(function(){null!=s&&s.user.id==n||d()},[n,s,t,d]),c==ie.b)return o.a.createElement(m.q,{click:d});if(c==ie.h||null==s)return o.a.createElement(m.k,null);var h=e.height_auto,_=e.timeCommentFormat,y=e.profileId,b=e.view_awards_disable,v=e.view_rating_disable,g=0==_?le.c:le.b,w=y==n;return o.a.createElement(ne.a,null,o.a.createElement(UserProfileView,{user:s.user,user_details:s.user_details,profile_my:w,height_auto:h,view_awards_disable:b,view_rating_disable:v}),o.a.createElement(UserProfileCommentsView,{dispatch:t,comments:s.comments,timeFormat:g,profileId:y,onUpdateComment:p,isModerator:a}))}UserProfileCommentsView.propTypes={dispatch:p.a.func,comments:p.a.arrayOf(p.a.object),timeFormat:p.a.string,profileId:p.a.number,onUpdateComment:p.a.func},UserProfileBlock.propTypes={dispatch:p.a.func,user_id:p.a.string,social:p.a.object,height_auto:p.a.bool,profileId:p.a.number,timeCommentFormat:p.a.number,isModerator:p.a.bool,view_awards_disable:p.a.bool,view_rating_disable:p.a.bool};var nn=Object(c.b)(function mapStateToProps(e,t){var n=e.defaultState;return{user_id:t.match.params.user_id,height_auto:n.get("height_auto"),profileId:n.getIn(["profile","id"]),timeCommentFormat:n.getIn(["site_settings","time_comment_format"]),isModerator:n.getIn(["profile","is_moderator"]),view_awards_disable:n.getIn(["site_settings","view_awards_disable"]),view_rating_disable:n.getIn(["site_settings","view_rating_disable"])}})(UserProfileBlock),rn=n(60);function user_events_view_extends(){return(user_events_view_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function IconEventView(e){return o.a.createElement("div",{className:"icons"},o.a.createElement("div",{className:"icons-w s-color-Main"},o.a.createElement("span",{className:"icon icon-"+e.icon})))}function DataTimeView(e){var t=Object(r.useContext)(H.a),n=t.getDateFormat(e.data,le.f),a=Object(r.useCallback)(function(n){n.stopPropagation(),Object(w.b)(t.getDateFormat(e.data,le.f))},[t,e.data]);return o.a.createElement("div",{className:"datatime s-color-MainMiddle",title:n,onClick:a},t.getDateFormat(e.data,le.b))}function EventNameView(e){return o.a.createElement("div",{className:"event-name"},e.title)}function CommentEventView(e){var t=e.user,n=e.text,a=e.attaches_text,i=Object(r.useCallback)(function(t){t.stopPropagation(),Object(s.q)(e.user.id)},[e.user.id]);return o.a.createElement("div",{className:"data"},o.a.createElement(m.a,user_events_view_extends({},t,{click:i})),o.a.createElement("div",{className:"desc"},o.a.createElement("div",{className:"user-name a",onClick:i},t.name),n&&o.a.createElement("div",{className:"user-text",dangerouslySetInnerHTML:{__html:n}}),a&&o.a.createElement("div",{className:"user-text",dangerouslySetInnerHTML:{__html:a}})))}function ParentDefaultView(e){return o.a.createElement(lt.a,{className:"app-event s-border-BlackLight app-cursor",classHover:"s-bg-BlackLight",onClick:e.click},e.children)}function ParentGotoCommentView(e){var t=e.goChat,n=e.commentId,a=Object(r.useCallback)(function(){Object(L.j)(n),t()},[t,n]);return o.a.createElement(ParentDefaultView,{click:a},e.children)}function AnswerItemView(e){var t=e.item,n=e.icon,a=e.title,i=e.goChat,c=t.comment,u=Object(r.useCallback)(function(){i(t)},[i,t]);return o.a.createElement(ParentGotoCommentView,{commentId:c.id,goChat:u},o.a.createElement("div",{className:"info"},o.a.createElement(IconEventView,{icon:n}),o.a.createElement(DataTimeView,{data:c.data_create}),o.a.createElement(EventNameView,{title:a})),o.a.createElement(CommentEventView,{user:c.user,text:c.text_template,attaches_text:c.attaches_text}))}function RatingItemView(e){var t=e.item,n=e.goChat,a=e.title,i=t.comment,c=t.raiting,u=Object(r.useCallback)(function(){n(t)},[n,t]);return o.a.createElement(ParentGotoCommentView,{commentId:i.id,goChat:u},o.a.createElement("div",{className:"info"},c.value&&o.a.createElement(IconEventView,{icon:"hospital-square"}),!c.value&&o.a.createElement(IconEventView,{icon:"minus-square"}),o.a.createElement(DataTimeView,{data:t.data_create}),o.a.createElement(EventNameView,{title:a})),o.a.createElement(CommentEventView,{user:t.user,text:i.text_template,attaches_text:i.attaches_text}))}function AwardItemView(e){var t=e.item,n=e.title,a=t.award,i=t.user,c=t.data_create,u=Object(r.useCallback)(function(){Object($t.c)(i.id,a.id)},[a.id,i.id]);return o.a.createElement(ParentDefaultView,{click:u},o.a.createElement("div",{className:"info"},o.a.createElement(IconEventView,{icon:"certificate"}),o.a.createElement(DataTimeView,{data:c}),o.a.createElement(EventNameView,{title:n})),o.a.createElement("div",{className:"m5"},o.a.createElement("div",{className:"desc bold"},'"',a.name,'"')),o.a.createElement("div",{className:"desc"},a.group_name),o.a.createElement("div",{className:"award-image"},o.a.createElement(m.r,{width:250,height:250},o.a.createElement(rn.a,null,o.a.createElement(m.i,{className:"app-custom-image",src:a.image_original})))),o.a.createElement("div",{className:"desc"},a.body))}function ItemView(e){var t=e.event_type_name,n=e.user,a=e.comment,i=e.dispatch,c=Object(r.useCallback)(function(){if(null!=a)switch(t){case"message":var e=n.id;Object(s.o)(e);break;default:var r=a.site_id,o=a.hash,c=a.url,u=a.answer_comment_root_id;i(Object(s.i)(r,o,c,u))}},[a,i,t,n]);switch(t){case"message":return o.a.createElement(AnswerItemView,{item:e,title:o.a.createElement(Q.a,{msg:"New message"}),icon:"envelope",goChat:c});case"mention":return o.a.createElement(AnswerItemView,{item:e,title:o.a.createElement(Q.a,{msg:"New mention"}),icon:"mention",goChat:c});case"answer":return o.a.createElement(AnswerItemView,{item:e,title:o.a.createElement(Q.a,{msg:"New answer"}),icon:"comment",goChat:c});case"raiting":return o.a.createElement(RatingItemView,{item:e,title:o.a.createElement(Q.a,{msg:"New rating"}),goChat:c});case"award":return o.a.createElement(AwardItemView,{item:e,title:o.a.createElement(Q.a,{msg:"New award"})});default:return null}}function UserEventsView(e){return e.items.map(function(t){return o.a.createElement(ItemView,user_events_view_extends({key:t.id},t,{dispatch:e.dispatch}))})}function UserEventsEmptyView(){return o.a.createElement("div",{className:"app-comments-box"},o.a.createElement("div",{className:"app-comments-empty"},o.a.createElement("div",null,o.a.createElement(Q.a,{msg:"There are no notifications here yet"}))))}IconEventView.propTypes={icon:p.a.string},DataTimeView.propTypes={data:p.a.string},EventNameView.propTypes={title:d.a},CommentEventView.propTypes={user:p.a.object,text:p.a.string,attaches_text:p.a.string},ParentDefaultView.propTypes={click:p.a.func,children:d.a.isRequired},ParentGotoCommentView.propTypes={commentId:p.a.number,children:d.a.isRequired,goChat:p.a.func},AnswerItemView.propTypes={item:p.a.object.isRequired,icon:p.a.string,title:d.a,goChat:p.a.func},RatingItemView.propTypes={item:p.a.object,goChat:p.a.func,title:d.a},AwardItemView.propTypes={user:p.a.object,item:p.a.object,title:d.a},ItemView.propTypes={dispatch:p.a.func,item:p.a.object,event_type_name:p.a.string,user:p.a.shape({id:p.a.number}),comment:p.a.shape({site_id:p.a.number,hash:p.a.string,url:p.a.string,answer_comment_root_id:p.a.number})};var on=n(62),an=n(61);function user_events_container_slicedToArray(e,t){return function user_events_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function user_events_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function user_events_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var cn=Object(c.b)(function mapStateToProps(){return{}})(function UserEventsBlock(e){var t=e.dispatch,n=user_events_container_slicedToArray(Object(r.useState)(ie.h),2),a=n[0],i=n[1],c=user_events_container_slicedToArray(Object(r.useState)(null),2),u=c[0],l=c[1],s=Object(r.useCallback)(function(){i(ie.h),t(Object(Zt.a)()).then(function(e){i(ie.o),l(e.items),Object(an.a)(on.b)}).catch(function(){i(ie.b)})},[t]),f=Object(r.useCallback)(function(){t(Object(Zt.a)()).then(function(e){return l(e.items)})},[t]);return Object(r.useEffect)(function(){null==u&&s()},[s,u]),Object(r.useEffect)(function(){return Object(g.d)(E.g,f),function(){return Object(g.c)(E.g,f)}},[f]),a==ie.b?o.a.createElement(m.q,{click:s}):a==ie.h?o.a.createElement(m.k,null):null==u?o.a.createElement(m.k,null):o.a.createElement(ne.a,null,u.length>0?o.a.createElement(UserEventsView,{items:u,dispatch:t}):o.a.createElement(UserEventsEmptyView,null))});function SmsCheckLoad(e){return o.a.createElement(Ft,{name:Vt,props:e,component:function component(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,250))},reducer:function reducer(){return n.e(18).then(n.bind(null,245))}})}var un=function UserEditAvaLoad(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(Ft,{name:"userava",props:e,component:function component(){return n.e(25).then(n.bind(null,256))}})))};function UserEditLoad(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(Ft,{name:qt,props:e,component:function component(){return Promise.all([n.e(0),n.e(24)]).then(n.bind(null,255))}})))}var ln=function UserProfilePage(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(nn,e)))},sn=function UserEventsPage(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(cn,e)))};function UserPages(){return o.a.createElement($.c,null,o.a.createElement($.a,{exact:!0,path:"/user/profile/:user_id?",component:ln}),o.a.createElement($.a,{path:"/user/events",component:sn}),o.a.createElement($.a,{path:"/user/edit",component:UserEditLoad}),o.a.createElement($.a,{path:"/user/editava",component:un}),o.a.createElement($.a,{path:"/user/smscheck",component:SmsCheckLoad}))}function MessageDefaultView(e){return o.a.createElement(Ft,{name:zt,props:e,component:function component(){return n.e(13).then(n.bind(null,251))},reducer:function reducer(){return n.e(14).then(n.bind(null,246))},modules:function modules(){return[n.e(20).then(n.t.bind(null,247,7))]}})}function MessageContainer(e){var t=e.params,n=e.keyChat,r=e.vidjet_width,a=e.view_chats_disable,i=e.height_auto,c=Object(vt.g)(r)&&!a&&!i;return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),c?o.a.createElement(ae.e,null,o.a.createElement(ae.d,null,o.a.createElement(he,{support_select:!0})),o.a.createElement(ae.f,null,o.a.createElement(MessageDefaultView,{params:t,keyChat:n}))):o.a.createElement(ae.c,null,o.a.createElement(MessageDefaultView,{params:t,keyChat:n})),o.a.createElement(ae.g,null,o.a.createElement(ee.a,{banner:re.a})))}MessageContainer.propTypes={params:p.a.object,vidjet_width:p.a.number,view_chats_disable:p.a.bool,height_auto:p.a.bool,keyChat:p.a.string};var fn=Object(c.b)(function mapStateToProps(e,t){var n=e.defaultState,r=t.params;return{keyChat:Object(ce.k)(r.user_id),params:r,vidjet_width:n.get("vidjet_width"),view_chats_disable:n.getIn(["site_settings","view_chats_disable"]),height_auto:n.get("height_auto")}})(MessageContainer),pn=function MessageLoad(e){return o.a.createElement(fn,{params:e.match.params})},dn=pn;function HeadPopupActiveContainer(e){return e.localstory_popup_view?e.children:null}pn.propTypes={match:p.a.object},HeadPopupActiveContainer.propTypes={localstory_popup_view:p.a.bool,children:d.a};var hn=Object(c.b)(function mapStateToProps(e){return{localstory_popup_view:e.defaultState.getIn(["localstory","popup_view"])}})(HeadPopupActiveContainer),mn=function MenuCommentLoad(e){return o.a.createElement(ae.a,null,o.a.createElement(ae.h,null,o.a.createElement(X,null)),o.a.createElement(ae.c,null,o.a.createElement(Ft,{name:"menu_comment",props:e,component:function component(){return n.e(6).then(n.bind(null,259))}})))};function TrialPopupLoad(e){return o.a.createElement(Ft,{name:Ht,props:e,component:function component(){return n.e(23).then(n.bind(null,260))},modules:function modules(){return[n.e(22).then(n.t.bind(null,248,7))]}})}var _n="/chat/:site_id/:hash/:url/:root_id?";function NavPagesAuth(e){var t=e.vidjet_width,n=e.view_chats_disable,r=e.height_auto,a=e.trial_popup,i=Object(vt.g)(t)&&!n&&!r;return a?o.a.createElement(TrialPopupLoad,null):o.a.createElement($.c,null,o.a.createElement($.a,{exact:!0,path:"/",component:i?Ct:me}),o.a.createElement($.a,{path:_n,component:i?Ct:mt}),o.a.createElement($.a,{path:"/message/:user_id?",component:dn}),o.a.createElement($.a,{path:"/menu",component:MenuLoad}),o.a.createElement($.a,{path:"/menuchat",component:Kt}),o.a.createElement($.a,{path:"/comment/:comment_id",component:mn}),o.a.createElement($.a,{path:"/user",component:UserPages}),o.a.createElement($.a,{path:"/award/:user_id?",component:Gt}),o.a.createElement($.a,{path:"/raiting/:comment_id",component:Et}),o.a.createElement($.a,{path:"/tourney/:user_id?",component:Wt}),o.a.createElement($.a,{path:"/loading",component:m.k}),o.a.createElement($.a,{path:"/reload",component:St}),o.a.createElement($.a,{path:"/auth",render:function render(){return Object(s.f)()}}))}function NavPagesNotAuth(e){var t=e.vidjet_width,n=e.view_chats_disable,r=e.height_auto,a=Object(vt.g)(t)&&!n&&!r;return o.a.createElement($.c,null,o.a.createElement($.a,{exact:!0,path:"/",component:a?Ct:me}),o.a.createElement($.a,{path:_n,component:a?Ct:mt}),o.a.createElement($.a,{path:"/menuchat",component:Kt}),o.a.createElement($.a,{path:"/loading",component:m.k}),o.a.createElement($.a,{path:"/reload",component:St}),o.a.createElement($.a,{path:"/*",component:AuthLoad}))}NavPagesAuth.propTypes={vidjet_width:p.a.number,view_chats_disable:p.a.bool,height_auto:p.a.bool,trial_popup:p.a.bool},NavPagesNotAuth.propTypes={vidjet_width:p.a.number,view_chats_disable:p.a.bool,height_auto:p.a.bool};var yn=Object(c.b)(function(e){var t=e.defaultState;return{vidjet_width:t.get("vidjet_width"),view_chats_disable:t.getIn(["site_settings","view_chats_disable"]),height_auto:t.get("height_auto"),trial_popup:t.getIn(["site_settings","trial_popup"])&&t.get("trial_popup")&&t.getIn(["profile","is_moderator"])}})(NavPagesAuth),bn=Object(c.b)(function(e){var t=e.defaultState;return{vidjet_width:t.get("vidjet_width"),view_chats_disable:t.getIn(["site_settings","view_chats_disable"]),height_auto:t.get("height_auto")}})(NavPagesNotAuth);function NavPages(e){var t=e.auth,n=e.vidjet_open;return e.vidjet_update?null:0==n?o.a.createElement(o.a.Fragment,null,o.a.createElement(jt,null),o.a.createElement(hn,null,o.a.createElement(Rt,null))):o.a.createElement($.b,{history:b.a},t?o.a.createElement(yn,null):o.a.createElement(bn,null))}NavPages.propTypes={auth:p.a.bool,vidjet_open:p.a.bool,vidjet_update:p.a.bool,trial_popup:p.a.bool};var vn=Object(c.b)(function mapStateToProps(e){var t=e.defaultState;return{auth:null!=t.get("profile"),vidjet_open:t.get("vidjet_open"),vidjet_update:t.get("vidjet_update")}})(NavPages),gn=n(188),wn=n(89),En=n(52);function action_event_container_typeof(e){return(action_event_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function action_event_container_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function action_event_container_getPrototypeOf(e){return(action_event_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function action_event_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function action_event_container_setPrototypeOf(e,t){return(action_event_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function action_event_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sn=function(e){function ActionEventContainer(){var e,t;!function action_event_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActionEventContainer);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=function action_event_container_possibleConstructorReturn(e,t){return!t||"object"!==action_event_container_typeof(t)&&"function"!=typeof t?action_event_container_assertThisInitialized(e):t}(this,(e=action_event_container_getPrototypeOf(ActionEventContainer)).call.apply(e,[this].concat(r))),action_event_container_defineProperty(action_event_container_assertThisInitialized(t),"onClickAlertConfirm",function(){goUserEdit(),Object(w.c)(t.alertConfirm)}),action_event_container_defineProperty(action_event_container_assertThisInitialized(t),"onShowPush",function(){l.l&&0==t.props.vidjet_sso&&(!1===t.props.push_active||!Object(vt.h)())&&!1===t.props.push_close&&t.props.push_view>0&&(Object(w.b)(W.a.getText("Would you like to receive notifications of replies to your messages in the browser?"),En.d),Object(wn.e)())}),action_event_container_defineProperty(action_event_container_assertThisInitialized(t),"onCreateComment",function(e){var n=t.props,r=n.vidjet_sso,o=n.profile_email_confirm,a=n.localstory_email_confirm_alert,i=n.profile_email;if(!r&&null!=e&&null==e.message&&null!=e.comment&&null!=e.comment.user&&0!=e.comment.user.id)if((0==o&&null!=i||null==i)&&a>0){var c=a-1;Object(w.j)(Object(h.i)(h.a,c)),t.alertConfirm=null!=i?Object(w.b)(W.a.getText("Please <a:attr>confirm the email</a> address provided during registration - {{email}}",{attr:{onClick:t.onClickAlertConfirm},email:i}),En.c):Object(w.b)(W.a.getText("Add an email address to receive notifications of replies to your messages",{attr:{onClick:t.onClickAlertConfirm}}),En.c)}else t.onShowPush()}),t}return function action_event_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&action_event_container_setPrototypeOf(e,t)}(ActionEventContainer,o.a.Component),function action_event_container_createClass(e,t,n){return t&&action_event_container_defineProperties(e.prototype,t),n&&action_event_container_defineProperties(e,n),e}(ActionEventContainer,[{key:"componentDidMount",value:function componentDidMount(){Object(an.c)(on.a,this.onCreateComment),Object(an.c)(on.b,this.onShowPush)}},{key:"componentWillUnmount",value:function componentWillUnmount(){Object(an.b)(on.a,this.onCreateComment),Object(an.b)(on.b,this.onShowPush)}},{key:"render",value:function render(){return null}}]),ActionEventContainer}();action_event_container_defineProperty(Sn,"propTypes",{push_active:p.a.bool,push_close:p.a.bool,push_view:p.a.number,vidjet_sso:p.a.bool,profile_email_confirm:p.a.bool,profile_email:p.a.string,localstory_email_confirm_alert:p.a.number});var On=Object(c.b)(function mapStateToProps(e){var t=e.userState,n=e.defaultState;return{vidjet_sso:n.get("vidjet_sso"),profile_email:n.getIn(["profile","email"]),profile_email_confirm:n.getIn(["profile","email_confirm"]),localstory_email_confirm_alert:n.getIn(["localstory","email_confirm_alert"]),push_active:t.get("push_active"),push_close:t.get("push_close"),push_view:t.get("push_view")}})(Sn),Cn=1,kn=2,jn=4,Tn=6,Pn=7;function blinktitle_event_container_slicedToArray(e,t){return function blinktitle_event_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function blinktitle_event_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function blinktitle_event_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xn=1,In=2,Mn=3;function BlinkTitleView(e){var t=e.show,n=e.titleDefault,o=Object(r.useRef)();return Object(r.useEffect)(function(){var e=setInterval(function(){if(null==o.current&&(o.current=0),o.current%2==0)switch(t[o.current/2%t.length]){case xn:Object(O.c)(S.f,W.a.getText("new message title"));break;case In:Object(O.c)(S.f,W.a.getText("new award title"));break;case Mn:Object(O.c)(S.f,W.a.getText("new raiting title"))}else null!=n&&Object(O.c)(S.f,n);o.current++},1e3);return function(){clearInterval(e),null!=n&&Object(O.c)(S.f,n)}},[t,n]),null}function BlinkTitleEventContainer(){var e=blinktitle_event_container_slicedToArray(Object(r.useState)(null),2),t=e[0],n=e[1],a=blinktitle_event_container_slicedToArray(Object(r.useState)(null),2),i=a[0],c=a[1],u=Object(r.useCallback)(function(e){null==i&&c(e.title)},[i]);Object(r.useEffect)(function(){return Object(O.b)(S.f,u),function(){return Object(O.a)(S.f,u)}},[u]);var l=Object(r.useCallback)(function(e){null==t?n([e]):-1==t.indexOf(e)&&n([e].concat(t))},[t]),s=Object(r.useCallback)(function(e){switch(e.user_event){case Cn:case Tn:case Pn:l(xn);break;case kn:l(Mn);break;case jn:l(In)}},[l]);return Object(r.useEffect)(function(){return Object(g.d)(E.g,s),function(){Object(g.c)(E.g,s)}},[s]),null!=t?o.a.createElement(BlinkTitleView,{show:t,titleDefault:i}):null}function BlinktitleEventBlock(e){return e.blink_title&&0==e.widget_focus?o.a.createElement(BlinkTitleEventContainer,null):null}BlinktitleEventBlock.propTypes={blink_title:p.a.bool,widget_focus:p.a.bool};var An=Object(c.b)(function mapStateToProps(e){var t=e.defaultState;return{blink_title:t.getIn(["site_settings","blink_title"]),widget_focus:t.get("widget_focus")}})(BlinktitleEventBlock);function SettingsConditionContainer(e){return e.load_settings?e.children:null}SettingsConditionContainer.propTypes={load_settings:p.a.bool,children:d.a};var Nn=Object(c.b)(function mapStateToProps(e){return{load_settings:null!=e.defaultState.get("site_settings")}})(SettingsConditionContainer);function MainRedirectContainer(){return Object(r.useEffect)(function(){window.parent==window&&window.location&&window.location.host&&window.location.href&&(0===window.location.host.indexOf("localhost:")?(window.location.href="http://localhost:9296/temp/default.html",window.__REACT_DEVTOOLS_GLOBAL_HOOK__=window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__):window.location.href=Object(s.t)(l.i,"windowparent"))},[]),null}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function error_event_container_slicedToArray(e,t){return function error_event_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function error_event_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function error_event_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b64EncodeUnicode(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}function ErrorEventContainer(e){var t=e.error,n=e.info,a=error_event_container_slicedToArray(Object(r.useState)("sending..."),2),i=a[0],c=a[1],s=error_event_container_slicedToArray(Object(r.useState)(""),2),f=s[0],p=s[1],d=error_event_container_slicedToArray(Object(r.useState)(""),2),h=d[0],m=d[1],_=Object(r.useCallback)(function(){var e=u.a.getState(),r=Object.keys(e).map(function(t){return function error_event_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,"function"==typeof e[t].toJSON?e[t].toJSON():e[t])}),o=JSON.stringify(Object.assign.apply(Object,[{}].concat(_toConsumableArray(r)))),a=n.componentStack.split("\n").filter(function(e){return e}).map(function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}).join("\r\n"),i=t.name,s=t.message,f=t.fileName,d=t.lineNumber,h=t.columnNumber;if(0==s.indexOf("Minified React error #185"))return!1;var _={error:"message: ".concat(s,";\nname: ").concat(i,";\nfileName: ").concat(f,";\nlineNumber: ").concat(d,";\ncolumnNumber: ").concat(h),stack:a,user_agent:window.navigator.userAgent,state:o,version:l.q};(function onLogError(e){return D.a.Ajax({type:F.q,param:e,send:"POST"})})(_).then(function(e){e.id?(c("success"),p(e.id)):(c("blocked"),m(b64EncodeUnicode(JSON.stringify(_))))}).catch(function(e){e&&e.message?c(e.message):c("failed"),m(b64EncodeUnicode(JSON.stringify(_)))})},[t,n.componentStack]);return Object(r.useEffect)(function(){_()},[_]),o.a.createElement("div",{className:"app-custom-reload"},o.a.createElement("div",{className:"m10"},"Unknown error"),o.a.createElement("div",{className:"m10"},"Status: ",i),f&&o.a.createElement("div",{className:"m10"},"CODE: ",f),h&&o.a.createElement("div",{className:"m10"},o.a.createElement("input",{defaultValue:h,type:"text",readOnly:!0})))}function AlertTemplateView(e){return o.a.createElement("div",{className:"app-alert"},o.a.createElement("div",{className:"app-alert_block s-color-Background s-bg-Black"},o.a.createElement("div",{className:"app-alert_right",onClick:e.onClose},o.a.createElement(lt.a,{className:"app-alert_right-border",classDefault:"s-color-Background s-bg-Black",classHover:"s-color-Black s-bg-Background"},o.a.createElement("span",{className:"app-icon icon-times"}))),e.icon&&o.a.createElement("span",{className:"app-alert_left"},o.a.createElement("span",{className:"app-icon icon-exclamation-circle"})),e.children))}ErrorEventContainer.propTypes={error:p.a.object,info:p.a.object},AlertTemplateView.propTypes={onClose:p.a.func,icon:p.a.string,children:d.a};var Rn=n(189),Ln=n(180);function push_alert_container_typeof(e){return(push_alert_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function push_alert_container_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function push_alert_container_getPrototypeOf(e){return(push_alert_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function push_alert_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function push_alert_container_setPrototypeOf(e,t){return(push_alert_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function push_alert_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dn=function(e){function PushAlertContainer(){var e,t;!function push_alert_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PushAlertContainer);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=function push_alert_container_possibleConstructorReturn(e,t){return!t||"object"!==push_alert_container_typeof(t)&&"function"!=typeof t?push_alert_container_assertThisInitialized(e):t}(this,(e=push_alert_container_getPrototypeOf(PushAlertContainer)).call.apply(e,[this].concat(r))),push_alert_container_defineProperty(push_alert_container_assertThisInitialized(t),"onClose",function(){t.props.onClose&&t.props.onClose()}),push_alert_container_defineProperty(push_alert_container_assertThisInitialized(t),"onClickClose",function(){Object(I.b)(t.props.token),t.onClose()}),push_alert_container_defineProperty(push_alert_container_assertThisInitialized(t),"onChange",function(){Object(vt.h)()&&(Object(I.a)(!0),Object(wn.d)(),Object(Ln.c)(F.I,{token:t.props.token,push_active:!0}),t.onClose())}),t}return function push_alert_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&push_alert_container_setPrototypeOf(e,t)}(PushAlertContainer,o.a.Component),function push_alert_container_createClass(e,t,n){return t&&push_alert_container_defineProperties(e.prototype,t),n&&push_alert_container_defineProperties(e,n),e}(PushAlertContainer,[{key:"render",value:function render(){return o.a.createElement(AlertTemplateView,{icon:"exclamation-circle",onClose:this.onClickClose},o.a.createElement(Q.a,{msg:"Want to receive notifications in your browser?"}),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",{className:"app-form_width"},o.a.createElement(Rn.a,{onChange:this.onChange,lang:this.props.lang},o.a.createElement(Q.a,{msg:"Allow notifications"})))))}}]),PushAlertContainer}();Dn.propTypes={click:p.a.func,token:p.a.string,lang:p.a.string,onClose:p.a.func};var Fn=Object(c.b)(function mapStateToProps(e,t){var n=e.defaultState;return{token:n.get("token"),lang:n.getIn(["profile","lang"]),click:t.click}})(Dn);function button_alert_container_typeof(e){return(button_alert_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function button_alert_container_getPrototypeOf(e){return(button_alert_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function button_alert_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function button_alert_container_setPrototypeOf(e,t){return(button_alert_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function button_alert_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vn=function(e){function ButtonAlertContainer(){var e,t;!function button_alert_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ButtonAlertContainer);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=function button_alert_container_possibleConstructorReturn(e,t){return!t||"object"!==button_alert_container_typeof(t)&&"function"!=typeof t?button_alert_container_assertThisInitialized(e):t}(this,(e=button_alert_container_getPrototypeOf(ButtonAlertContainer)).call.apply(e,[this].concat(r))),button_alert_container_defineProperty(button_alert_container_assertThisInitialized(t),"onClose",function(){t.props.onClose&&t.props.onClose()}),button_alert_container_defineProperty(button_alert_container_assertThisInitialized(t),"onClickClose",function(){t.onClose()}),button_alert_container_defineProperty(button_alert_container_assertThisInitialized(t),"onClick",function(){var e=t.props.data,n=e.action,r=e.pathname;switch(n){case"go":Object(s.c)(r)}t.onClose()}),button_alert_container_defineProperty(button_alert_container_assertThisInitialized(t),"render",function(){var e=t.props,n=e.children,r=e.data,a=e.icon;return o.a.createElement(AlertTemplateView,{icon:a,onClose:t.onClickClose},n,o.a.createElement("div",{className:"mt10"},o.a.createElement("div",{className:"app-form_width"},o.a.createElement(Jt.a,{click:t.onClick},r.button))))}),t}return function button_alert_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&button_alert_container_setPrototypeOf(e,t)}(ButtonAlertContainer,o.a.Component),ButtonAlertContainer}();function AlertSwitchView(e){switch(e.type){case En.a:return o.a.createElement(Vn,e);case En.d:return l.l&&o.a.createElement(Fn,e);case En.c:default:return o.a.createElement(AlertTemplateView,e)}}function alert_transition_view_extends(){return(alert_transition_view_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function AlertTransitionView(e){return o.a.createElement(He,null,e.messages.map(function(t){return o.a.createElement(et,{key:t.key,className:"app-alert",timeout:300},o.a.createElement(AlertSwitchView,alert_transition_view_extends({},t,{onClose:e.onClose})))}))}function alert_container_typeof(e){return(alert_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function alert_container_getPrototypeOf(e){return(alert_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function alert_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function alert_container_setPrototypeOf(e,t){return(alert_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function alert_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Vn.propTypes={icon:p.a.string,onClose:p.a.func,data:p.a.shape({action:p.a.string,pathname:p.a.string,button:p.a.string}),children:d.a},AlertSwitchView.propTypes={type:p.a.string},AlertTransitionView.propTypes={messages:p.a.arrayOf(p.a.object),onClose:p.a.func};var Un=function(e){function AlertBlock(){var e,t;!function alert_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AlertBlock);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=function alert_container_possibleConstructorReturn(e,t){return!t||"object"!==alert_container_typeof(t)&&"function"!=typeof t?alert_container_assertThisInitialized(e):t}(this,(e=alert_container_getPrototypeOf(AlertBlock)).call.apply(e,[this].concat(r))),alert_container_defineProperty(alert_container_assertThisInitialized(t),"getShow",function(){return 0==t.props.alerts.size?null:t.props.alerts.first()}),alert_container_defineProperty(alert_container_assertThisInitialized(t),"onTimer",function(e){var n=t.getShow();null!=n&&n.get("key")==e&&t.closeAlert(e)}),alert_container_defineProperty(alert_container_assertThisInitialized(t),"closeAlert",function(e){clearTimeout(t.timerClose),Object(w.c)(e)}),alert_container_defineProperty(alert_container_assertThisInitialized(t),"onClose",function(){var e=t.getShow();null!=e&&Object(w.c)(e.get("key"))}),alert_container_defineProperty(alert_container_assertThisInitialized(t),"componentDidMountOrUpdate",function(){var e=t.getShow();null!=e&&e.get("type")==En.b&&(clearTimeout(t.timerClose),t.timerClose=setTimeout(t.onTimer,e.get("timer"),e.get("key")))}),alert_container_defineProperty(alert_container_assertThisInitialized(t),"componentDidMount",function(){t.componentDidMountOrUpdate()}),alert_container_defineProperty(alert_container_assertThisInitialized(t),"componentDidUpdate",function(){t.componentDidMountOrUpdate()}),alert_container_defineProperty(alert_container_assertThisInitialized(t),"render",function(){var e=t.getShow(),n=null!=e?[e.toJSON()]:[];return o.a.createElement(AlertTransitionView,{messages:n,onClose:t.onClose})}),t}return function alert_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&alert_container_setPrototypeOf(e,t)}(AlertBlock,o.a.Component),AlertBlock}();Un.propTypes={alerts:p.a.object};var Bn=Object(c.b)(function mapStateToProps(e){return{alerts:e.defaultState.get("alerts")}})(Un);function component_container_slicedToArray(e,t){return function component_container_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function component_container_iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function component_container_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function component_container_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zn={},qn=function reducer(e,t){return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach(function(t){component_container_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},t)};function ComponentContainer(e){var t=component_container_slicedToArray(Object(r.useReducer)(qn,zn),2),n=t[0],a=t[1];return o.a.createElement(Dt.Provider,{value:{components:n,addComponent:a}},e.children)}ComponentContainer.propTypes={children:d.a};var Hn=ComponentContainer;function route_pages_typeof(e){return(route_pages_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function route_pages_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function route_pages_possibleConstructorReturn(e,t){return!t||"object"!==route_pages_typeof(t)&&"function"!=typeof t?function route_pages_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function route_pages_getPrototypeOf(e){return(route_pages_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function route_pages_setPrototypeOf(e,t){return(route_pages_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Wn=function(e){function RoutePage(){var e;return function route_pages_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoutePage),(e=route_pages_possibleConstructorReturn(this,route_pages_getPrototypeOf(RoutePage).call(this))).state={err:null},e}return function route_pages_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&route_pages_setPrototypeOf(e,t)}(RoutePage,o.a.Component),function route_pages_createClass(e,t,n){return t&&route_pages_defineProperties(e.prototype,t),n&&route_pages_defineProperties(e,n),e}(RoutePage,[{key:"componentDidCatch",value:function componentDidCatch(e,t){this.setState({err:{error:e,info:t}}),Object(_.f)(100)}},{key:"render",value:function render(){return this.state.err?o.a.createElement(ErrorEventContainer,{error:this.state.err.error,info:this.state.err.info}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Nn,null,o.a.createElement(q,null,o.a.createElement(K,null,o.a.createElement(v,null,o.a.createElement(Hn,null,o.a.createElement(vn,null),o.a.createElement(j,null)),o.a.createElement(On,null),l.d&&o.a.createElement(An,null),o.a.createElement(J.a,{position:"bottom",alertc:"alertc"},o.a.createElement(Bn,null))),o.a.createElement(gn.a,null,l.l&&o.a.createElement(N,null))),o.a.createElement(ThemeView,null))),o.a.createElement(R,null),o.a.createElement(U,null),o.a.createElement(MainRedirectContainer,null))}}]),RoutePage}();String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},window.yandexhit=function(){},window.yandexReachGoal=function(){};try{i.a.render(o.a.createElement(c.a,{store:u.a},o.a.createElement(Wn,null)),document.getElementById("app"))}catch(e){document.getElementById("app").innerHTML="TC: Exception: "+e.message}window.alerts=function(e){window.parent.postMessage({type:"PM_ALERT",data:e},"*")}}]);
//# sourceMappingURL=app.js.map